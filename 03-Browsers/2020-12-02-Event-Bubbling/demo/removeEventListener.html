<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>RemoveEventListener</title>
</head>
<body>

<h1>RemoveEventListener</h1>

<div id="1">click 
	<em id="2">on (2)</em> 
	or maybe even 
	<strong id="3">(3) on <em id="4">deepest level</em></strong>
</div>

</body>

<script>	
	function handler1(event) {
		console.log("handler1");
	}
	
	function handler2(event) {
		console.log("handler2");
	}
		
	function handler3(event) {
		console.log("handler3");
	}

	let div = document.getElementById("1")
	let strong = document.getElementById("3");
	let deepest = document.getElementById("4");
	
	let isCapturingEnabled = true; // false => Bubbling
	// adding "capturing" handlers (1, 2, 3) to elements (div, strong, deepest) 
	div.addEventListener("click", handler1, {capture: isCapturingEnabled});
	strong.addEventListener("click", handler2, {capture: isCapturingEnabled});
	deepest.addEventListener("click", handler3, {capture: isCapturingEnabled});

	// adding "bubbling" handlers (1, 2, 3) to elements (div, strong, deepest) 
	isCapturingEnabled = false;
	div.addEventListener("click", handler1, {capture: isCapturingEnabled});
	strong.addEventListener("click", handler2, {capture: isCapturingEnabled});
	deepest.addEventListener("click", handler3, {capture: isCapturingEnabled});

	// remove handler2 from strong during capturing
	strong.removeEventListener("click", handler2, {capture: true});

	// remove handler1 from div on bubbling
	//div.removeEventListener("click", handler1, {capture: false});
	div.removeEventListener("click", handler1);
</script>

</html>
