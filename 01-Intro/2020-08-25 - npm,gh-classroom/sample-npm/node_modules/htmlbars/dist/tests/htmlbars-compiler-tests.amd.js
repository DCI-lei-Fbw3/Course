define("dom-helper", ["exports", "./htmlbars-runtime/morph", "./morph-attr", "./dom-helper/build-html-dom", "./dom-helper/classes", "./dom-helper/prop"], function (exports, _htmlbarsRuntimeMorph, _morphAttr, _domHelperBuildHtmlDom, _domHelperClasses, _domHelperProp) {

  var doc = typeof document === 'undefined' ? false : document;

  var deletesBlankTextNodes = doc && (function (document) {
    var element = document.createElement('div');
    element.appendChild(document.createTextNode(''));
    var clonedElement = element.cloneNode(true);
    return clonedElement.childNodes.length === 0;
  })(doc);

  var ignoresCheckedAttribute = doc && (function (document) {
    var element = document.createElement('input');
    element.setAttribute('checked', 'checked');
    var clonedElement = element.cloneNode(false);
    return !clonedElement.checked;
  })(doc);

  var canRemoveSvgViewBoxAttribute = doc && (doc.createElementNS ? (function (document) {
    var element = document.createElementNS(_domHelperBuildHtmlDom.svgNamespace, 'svg');
    element.setAttribute('viewBox', '0 0 100 100');
    element.removeAttribute('viewBox');
    return !element.getAttribute('viewBox');
  })(doc) : true);

  var canClone = doc && (function (document) {
    var element = document.createElement('div');
    element.appendChild(document.createTextNode(' '));
    element.appendChild(document.createTextNode(' '));
    var clonedElement = element.cloneNode(true);
    return clonedElement.childNodes[0].nodeValue === ' ';
  })(doc);

  // This is not the namespace of the element, but of
  // the elements inside that elements.
  function interiorNamespace(element) {
    if (element && element.namespaceURI === _domHelperBuildHtmlDom.svgNamespace && !_domHelperBuildHtmlDom.svgHTMLIntegrationPoints[element.tagName]) {
      return _domHelperBuildHtmlDom.svgNamespace;
    } else {
      return null;
    }
  }

  // The HTML spec allows for "omitted start tags". These tags are optional
  // when their intended child is the first thing in the parent tag. For
  // example, this is a tbody start tag:
  //
  // <table>
  //   <tbody>
  //     <tr>
  //
  // The tbody may be omitted, and the browser will accept and render:
  //
  // <table>
  //   <tr>
  //
  // However, the omitted start tag will still be added to the DOM. Here
  // we test the string and context to see if the browser is about to
  // perform this cleanup.
  //
  // http://www.whatwg.org/specs/web-apps/current-work/multipage/syntax.html#optional-tags
  // describes which tags are omittable. The spec for tbody and colgroup
  // explains this behavior:
  //
  // http://www.whatwg.org/specs/web-apps/current-work/multipage/tables.html#the-tbody-element
  // http://www.whatwg.org/specs/web-apps/current-work/multipage/tables.html#the-colgroup-element
  //

  var omittedStartTagChildTest = /<([\w:]+)/;
  function detectOmittedStartTag(string, contextualElement) {
    // Omitted start tags are only inside table tags.
    if (contextualElement.tagName === 'TABLE') {
      var omittedStartTagChildMatch = omittedStartTagChildTest.exec(string);
      if (omittedStartTagChildMatch) {
        var omittedStartTagChild = omittedStartTagChildMatch[1];
        // It is already asserted that the contextual element is a table
        // and not the proper start tag. Just see if a tag was omitted.
        return omittedStartTagChild === 'tr' || omittedStartTagChild === 'col';
      }
    }
  }

  function buildSVGDOM(html, dom) {
    var div = dom.document.createElement('div');
    div.innerHTML = '<svg>' + html + '</svg>';
    return div.firstChild.childNodes;
  }

  var guid = 1;

  function ElementMorph(element, dom, namespace) {
    this.element = element;
    this.dom = dom;
    this.namespace = namespace;
    this.guid = "element" + guid++;

    this._state = undefined;
    this.isDirty = true;
  }

  ElementMorph.prototype.getState = function () {
    if (!this._state) {
      this._state = {};
    }

    return this._state;
  };

  ElementMorph.prototype.setState = function (newState) {
    /*jshint -W093 */

    return this._state = newState;
  };

  // renderAndCleanup calls `clear` on all items in the morph map
  // just before calling `destroy` on the morph.
  //
  // As a future refactor this could be changed to set the property
  // back to its original/default value.
  ElementMorph.prototype.clear = function () {};

  ElementMorph.prototype.destroy = function () {
    this.element = null;
    this.dom = null;
  };

  /*
   * A class wrapping DOM functions to address environment compatibility,
   * namespaces, contextual elements for morph un-escaped content
   * insertion.
   *
   * When entering a template, a DOMHelper should be passed:
   *
   *   template(context, { hooks: hooks, dom: new DOMHelper() });
   *
   * TODO: support foreignObject as a passed contextual element. It has
   * a namespace (svg) that does not match its internal namespace
   * (xhtml).
   *
   * @class DOMHelper
   * @constructor
   * @param {HTMLDocument} _document The document DOM methods are proxied to
   */
  function DOMHelper(_document) {
    this.document = _document || document;
    if (!this.document) {
      throw new Error("A document object must be passed to the DOMHelper, or available on the global scope");
    }
    this.canClone = canClone;
    this.namespace = null;

    installEnvironmentSpecificMethods(this);
  }

  var prototype = DOMHelper.prototype;
  prototype.constructor = DOMHelper;

  prototype.getElementById = function (id, rootNode) {
    rootNode = rootNode || this.document;
    return rootNode.getElementById(id);
  };

  prototype.insertBefore = function (element, childElement, referenceChild) {
    return element.insertBefore(childElement, referenceChild);
  };

  prototype.appendChild = function (element, childElement) {
    return element.appendChild(childElement);
  };

  var itemAt;

  // It appears that sometimes, in yet to be itentified scenarios PhantomJS 2.0
  // crashes on childNodes.item(index), but works as expected with childNodes[index];
  //
  // Although it would be nice to move to childNodes[index] in all scenarios,
  // this would require SimpleDOM to maintain the childNodes array. This would be
  // quite costly, in both dev time and runtime.
  //
  // So instead, we choose the best possible method and call it a day.
  //
  /*global navigator */
  if (typeof navigator !== 'undefined' && navigator.userAgent.indexOf('PhantomJS')) {
    itemAt = function (nodes, index) {
      return nodes[index];
    };
  } else {
    itemAt = function (nodes, index) {
      return nodes.item(index);
    };
  }

  prototype.childAt = function (element, indices) {
    var child = element;

    for (var i = 0; i < indices.length; i++) {
      child = itemAt(child.childNodes, indices[i]);
    }

    return child;
  };

  // Note to a Fellow Implementor:
  // Ahh, accessing a child node at an index. Seems like it should be so simple,
  // doesn't it? Unfortunately, this particular method has caused us a surprising
  // amount of pain. As you'll note below, this method has been modified to walk
  // the linked list of child nodes rather than access the child by index
  // directly, even though there are two (2) APIs in the DOM that do this for us.
  // If you're thinking to yourself, "What an oversight! What an opportunity to
  // optimize this code!" then to you I say: stop! For I have a tale to tell.
  //
  // First, this code must be compatible with simple-dom for rendering on the
  // server where there is no real DOM. Previously, we accessed a child node
  // directly via `element.childNodes[index]`. While we *could* in theory do a
  // full-fidelity simulation of a live `childNodes` array, this is slow,
  // complicated and error-prone.
  //
  // "No problem," we thought, "we'll just use the similar
  // `childNodes.item(index)` API." Then, we could just implement our own `item`
  // method in simple-dom and walk the child node linked list there, allowing
  // us to retain the performance advantages of the (surely optimized) `item()`
  // API in the browser.
  //
  // Unfortunately, an enterprising soul named Samy Alzahrani discovered that in
  // IE8, accessing an item out-of-bounds via `item()` causes an exception where
  // other browsers return null. This necessitated a... check of
  // `childNodes.length`, bringing us back around to having to support a
  // full-fidelity `childNodes` array!
  //
  // Worst of all, Kris Selden investigated how browsers are actualy implemented
  // and discovered that they're all linked lists under the hood anyway. Accessing
  // `childNodes` requires them to allocate a new live collection backed by that
  // linked list, which is itself a rather expensive operation. Our assumed
  // optimization had backfired! That is the danger of magical thinking about
  // the performance of native implementations.
  //
  // And this, my friends, is why the following implementation just walks the
  // linked list, as surprised as that may make you. Please ensure you understand
  // the above before changing this and submitting a PR.
  //
  // Tom Dale, January 18th, 2015, Portland OR
  prototype.childAtIndex = function (element, index) {
    var node = element.firstChild;

    for (var idx = 0; node && idx < index; idx++) {
      node = node.nextSibling;
    }

    return node;
  };

  prototype.appendText = function (element, text) {
    return element.appendChild(this.document.createTextNode(text));
  };

  prototype.setAttribute = function (element, name, value) {
    element.setAttribute(name, String(value));
  };

  prototype.getAttribute = function (element, name) {
    return element.getAttribute(name);
  };

  prototype.setAttributeNS = function (element, namespace, name, value) {
    element.setAttributeNS(namespace, name, String(value));
  };

  prototype.getAttributeNS = function (element, namespace, name) {
    return element.getAttributeNS(namespace, name);
  };

  if (canRemoveSvgViewBoxAttribute) {
    prototype.removeAttribute = function (element, name) {
      element.removeAttribute(name);
    };
  } else {
    prototype.removeAttribute = function (element, name) {
      if (element.tagName === 'svg' && name === 'viewBox') {
        element.setAttribute(name, null);
      } else {
        element.removeAttribute(name);
      }
    };
  }

  prototype.setPropertyStrict = function (element, name, value) {
    if (value === undefined) {
      value = null;
    }

    if (value === null && (name === 'value' || name === 'type' || name === 'src')) {
      value = '';
    }

    element[name] = value;
  };

  prototype.getPropertyStrict = function (element, name) {
    return element[name];
  };

  prototype.setProperty = function (element, name, value, namespace) {
    if (element.namespaceURI === _domHelperBuildHtmlDom.svgNamespace) {
      if (_domHelperProp.isAttrRemovalValue(value)) {
        element.removeAttribute(name);
      } else {
        if (namespace) {
          element.setAttributeNS(namespace, name, value);
        } else {
          element.setAttribute(name, value);
        }
      }
    } else {
      var _normalizeProperty = _domHelperProp.normalizeProperty(element, name);

      var normalized = _normalizeProperty.normalized;
      var type = _normalizeProperty.type;

      if (type === 'prop') {
        element[normalized] = value;
      } else {
        if (_domHelperProp.isAttrRemovalValue(value)) {
          element.removeAttribute(name);
        } else {
          if (namespace && element.setAttributeNS) {
            element.setAttributeNS(namespace, name, value);
          } else {
            element.setAttribute(name, value);
          }
        }
      }
    }
  };

  if (doc && doc.createElementNS) {
    // Only opt into namespace detection if a contextualElement
    // is passed.
    prototype.createElement = function (tagName, contextualElement) {
      var namespace = this.namespace;
      if (contextualElement) {
        if (tagName === 'svg') {
          namespace = _domHelperBuildHtmlDom.svgNamespace;
        } else {
          namespace = interiorNamespace(contextualElement);
        }
      }
      if (namespace) {
        return this.document.createElementNS(namespace, tagName);
      } else {
        return this.document.createElement(tagName);
      }
    };
    prototype.setAttributeNS = function (element, namespace, name, value) {
      element.setAttributeNS(namespace, name, String(value));
    };
  } else {
    prototype.createElement = function (tagName) {
      return this.document.createElement(tagName);
    };
    prototype.setAttributeNS = function (element, namespace, name, value) {
      element.setAttribute(name, String(value));
    };
  }

  prototype.addClasses = _domHelperClasses.addClasses;
  prototype.removeClasses = _domHelperClasses.removeClasses;

  prototype.setNamespace = function (ns) {
    this.namespace = ns;
  };

  prototype.detectNamespace = function (element) {
    this.namespace = interiorNamespace(element);
  };

  prototype.createDocumentFragment = function () {
    return this.document.createDocumentFragment();
  };

  prototype.createTextNode = function (text) {
    return this.document.createTextNode(text);
  };

  prototype.createComment = function (text) {
    return this.document.createComment(text);
  };

  prototype.repairClonedNode = function (element, blankChildTextNodes, isChecked) {
    if (deletesBlankTextNodes && blankChildTextNodes.length > 0) {
      for (var i = 0, len = blankChildTextNodes.length; i < len; i++) {
        var textNode = this.document.createTextNode(''),
            offset = blankChildTextNodes[i],
            before = this.childAtIndex(element, offset);
        if (before) {
          element.insertBefore(textNode, before);
        } else {
          element.appendChild(textNode);
        }
      }
    }
    if (ignoresCheckedAttribute && isChecked) {
      element.setAttribute('checked', 'checked');
    }
  };

  prototype.cloneNode = function (element, deep) {
    var clone = element.cloneNode(!!deep);
    return clone;
  };

  prototype.AttrMorphClass = _morphAttr.default;

  prototype.createAttrMorph = function (element, attrName, namespace) {
    return this.AttrMorphClass.create(element, attrName, this, namespace);
  };

  prototype.ElementMorphClass = ElementMorph;

  prototype.createElementMorph = function (element, namespace) {
    return new this.ElementMorphClass(element, this, namespace);
  };

  prototype.createUnsafeAttrMorph = function (element, attrName, namespace) {
    var morph = this.createAttrMorph(element, attrName, namespace);
    morph.escaped = false;
    return morph;
  };

  prototype.MorphClass = _htmlbarsRuntimeMorph.default;

  prototype.createMorph = function (parent, start, end, contextualElement) {
    if (contextualElement && contextualElement.nodeType === 11) {
      throw new Error("Cannot pass a fragment as the contextual element to createMorph");
    }

    if (!contextualElement && parent && parent.nodeType === 1) {
      contextualElement = parent;
    }
    var morph = new this.MorphClass(this, contextualElement);
    morph.firstNode = start;
    morph.lastNode = end;
    return morph;
  };

  prototype.createFragmentMorph = function (contextualElement) {
    if (contextualElement && contextualElement.nodeType === 11) {
      throw new Error("Cannot pass a fragment as the contextual element to createMorph");
    }

    var fragment = this.createDocumentFragment();
    return _htmlbarsRuntimeMorph.default.create(this, contextualElement, fragment);
  };

  prototype.replaceContentWithMorph = function (element) {
    var firstChild = element.firstChild;

    if (!firstChild) {
      var comment = this.createComment('');
      this.appendChild(element, comment);
      return _htmlbarsRuntimeMorph.default.create(this, element, comment);
    } else {
      var morph = _htmlbarsRuntimeMorph.default.attach(this, element, firstChild, element.lastChild);
      morph.clear();
      return morph;
    }
  };

  prototype.createUnsafeMorph = function (parent, start, end, contextualElement) {
    var morph = this.createMorph(parent, start, end, contextualElement);
    morph.parseTextAsHTML = true;
    return morph;
  };

  // This helper is just to keep the templates good looking,
  // passing integers instead of element references.
  prototype.createMorphAt = function (parent, startIndex, endIndex, contextualElement) {
    var single = startIndex === endIndex;
    var start = this.childAtIndex(parent, startIndex);
    var end = single ? start : this.childAtIndex(parent, endIndex);
    return this.createMorph(parent, start, end, contextualElement);
  };

  prototype.createUnsafeMorphAt = function (parent, startIndex, endIndex, contextualElement) {
    var morph = this.createMorphAt(parent, startIndex, endIndex, contextualElement);
    morph.parseTextAsHTML = true;
    return morph;
  };

  prototype.insertMorphBefore = function (element, referenceChild, contextualElement) {
    var insertion = this.document.createComment('');
    element.insertBefore(insertion, referenceChild);
    return this.createMorph(element, insertion, insertion, contextualElement);
  };

  prototype.appendMorph = function (element, contextualElement) {
    var insertion = this.document.createComment('');
    element.appendChild(insertion);
    return this.createMorph(element, insertion, insertion, contextualElement);
  };

  prototype.insertBoundary = function (fragment, index) {
    // this will always be null or firstChild
    var child = index === null ? null : this.childAtIndex(fragment, index);
    this.insertBefore(fragment, this.createTextNode(''), child);
  };

  prototype.setMorphHTML = function (morph, html) {
    morph.setHTML(html);
  };

  prototype.parseHTML = function (html, contextualElement) {
    var childNodes;

    if (interiorNamespace(contextualElement) === _domHelperBuildHtmlDom.svgNamespace) {
      childNodes = buildSVGDOM(html, this);
    } else {
      var nodes = _domHelperBuildHtmlDom.buildHTMLDOM(html, contextualElement, this);
      if (detectOmittedStartTag(html, contextualElement)) {
        var node = nodes[0];
        while (node && node.nodeType !== 1) {
          node = node.nextSibling;
        }
        childNodes = node.childNodes;
      } else {
        childNodes = nodes;
      }
    }

    // Copy node list to a fragment.
    var fragment = this.document.createDocumentFragment();

    if (childNodes && childNodes.length > 0) {
      var currentNode = childNodes[0];

      // We prepend an <option> to <select> boxes to absorb any browser bugs
      // related to auto-select behavior. Skip past it.
      if (contextualElement.tagName === 'SELECT') {
        currentNode = currentNode.nextSibling;
      }

      while (currentNode) {
        var tempNode = currentNode;
        currentNode = currentNode.nextSibling;

        fragment.appendChild(tempNode);
      }
    }

    return fragment;
  };

  var nodeURL;
  var parsingNode;

  function installEnvironmentSpecificMethods(domHelper) {
    var protocol = browserProtocolForURL.call(domHelper, 'foobar:baz');

    // Test to see if our DOM implementation parses
    // and normalizes URLs.
    if (protocol === 'foobar:') {
      // Swap in the method that doesn't do this test now that
      // we know it works.
      domHelper.protocolForURL = browserProtocolForURL;
    } else if (typeof URL === 'object') {
      // URL globally provided, likely from FastBoot's sandbox
      nodeURL = URL;
      domHelper.protocolForURL = nodeProtocolForURL;
    } else if (typeof module === 'object' && typeof module.require === 'function') {
      // Otherwise, we need to fall back to our own URL parsing.
      // Global `require` is shadowed by Ember's loader so we have to use the fully
      // qualified `module.require`.
      nodeURL = module.require('url');
      domHelper.protocolForURL = nodeProtocolForURL;
    } else {
      throw new Error("DOM Helper could not find valid URL parsing mechanism");
    }

    // A SimpleDOM-specific extension that allows us to place HTML directly
    // into the DOM tree, for when the output target is always serialized HTML.
    if (domHelper.document.createRawHTMLSection) {
      domHelper.setMorphHTML = nodeSetMorphHTML;
    }
  }

  function nodeSetMorphHTML(morph, html) {
    var section = this.document.createRawHTMLSection(html);
    morph.setNode(section);
  }

  function browserProtocolForURL(url) {
    if (!parsingNode) {
      parsingNode = this.document.createElement('a');
    }

    parsingNode.href = url;
    return parsingNode.protocol;
  }

  function nodeProtocolForURL(url) {
    var protocol = null;
    if (typeof url === 'string') {
      protocol = nodeURL.parse(url).protocol;
    }
    return protocol === null ? ':' : protocol;
  }

  exports.default = DOMHelper;
});
/*globals module, URL*/
//# sourceMappingURL=data:application/json;base64,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QUFPLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDeEI7O0FBRUQsV0FBUyxxQkFBcUIsQ0FBQyxHQUFHLEVBQUU7QUFDbEMsUUFBSSxDQUFDLFdBQVcsRUFBRTtBQUNoQixpQkFBVyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2hEOztBQUVELGVBQVcsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQ3ZCLFdBQU8sV0FBVyxDQUFDLFFBQVEsQ0FBQztHQUM3Qjs7QUFFRCxXQUFTLGtCQUFrQixDQUFDLEdBQUcsRUFBRTtBQUMvQixRQUFJLFFBQVEsR0FBRyxJQUFJLENBQUM7QUFDcEIsUUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7QUFDM0IsY0FBUSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDO0tBQ3hDO0FBQ0QsV0FBTyxBQUFDLFFBQVEsS0FBSyxJQUFJLEdBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQztHQUM3Qzs7b0JBRWMsU0FBUyIsImZpbGUiOiJkb20taGVscGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypnbG9iYWxzIG1vZHVsZSwgVVJMKi9cblxuaW1wb3J0IE1vcnBoIGZyb20gXCIuL2h0bWxiYXJzLXJ1bnRpbWUvbW9ycGhcIjtcbmltcG9ydCBBdHRyTW9ycGggZnJvbSBcIi4vbW9ycGgtYXR0clwiO1xuaW1wb3J0IHtcbiAgYnVpbGRIVE1MRE9NLFxuICBzdmdOYW1lc3BhY2UsXG4gIHN2Z0hUTUxJbnRlZ3JhdGlvblBvaW50c1xufSBmcm9tIFwiLi9kb20taGVscGVyL2J1aWxkLWh0bWwtZG9tXCI7XG5pbXBvcnQge1xuICBhZGRDbGFzc2VzLFxuICByZW1vdmVDbGFzc2VzXG59IGZyb20gXCIuL2RvbS1oZWxwZXIvY2xhc3Nlc1wiO1xuaW1wb3J0IHtcbiAgbm9ybWFsaXplUHJvcGVydHlcbn0gZnJvbSBcIi4vZG9tLWhlbHBlci9wcm9wXCI7XG5pbXBvcnQgeyBpc0F0dHJSZW1vdmFsVmFsdWUgfSBmcm9tIFwiLi9kb20taGVscGVyL3Byb3BcIjtcblxudmFyIGRvYyA9IHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZSA6IGRvY3VtZW50O1xuXG52YXIgZGVsZXRlc0JsYW5rVGV4dE5vZGVzID0gZG9jICYmIChmdW5jdGlvbihkb2N1bWVudCl7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSApO1xuICB2YXIgY2xvbmVkRWxlbWVudCA9IGVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICByZXR1cm4gY2xvbmVkRWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMDtcbn0pKGRvYyk7XG5cbnZhciBpZ25vcmVzQ2hlY2tlZEF0dHJpYnV0ZSA9IGRvYyAmJiAoZnVuY3Rpb24oZG9jdW1lbnQpe1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcbiAgdmFyIGNsb25lZEVsZW1lbnQgPSBlbGVtZW50LmNsb25lTm9kZShmYWxzZSk7XG4gIHJldHVybiAhY2xvbmVkRWxlbWVudC5jaGVja2VkO1xufSkoZG9jKTtcblxudmFyIGNhblJlbW92ZVN2Z1ZpZXdCb3hBdHRyaWJ1dGUgPSBkb2MgJiYgKGRvYy5jcmVhdGVFbGVtZW50TlMgPyAoZnVuY3Rpb24oZG9jdW1lbnQpe1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhzdmdOYW1lc3BhY2UsICdzdmcnKTtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnLCAnMCAwIDEwMCAxMDAnKTtcbiAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3ZpZXdCb3gnKTtcbiAgcmV0dXJuICFlbGVtZW50LmdldEF0dHJpYnV0ZSgndmlld0JveCcpO1xufSkoZG9jKSA6IHRydWUpO1xuXG52YXIgY2FuQ2xvbmUgPSBkb2MgJiYgKGZ1bmN0aW9uKGRvY3VtZW50KXtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZWxlbWVudC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJyAnKSk7XG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgJykpO1xuICB2YXIgY2xvbmVkRWxlbWVudCA9IGVsZW1lbnQuY2xvbmVOb2RlKHRydWUpO1xuICByZXR1cm4gY2xvbmVkRWxlbWVudC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSA9PT0gJyAnO1xufSkoZG9jKTtcblxuLy8gVGhpcyBpcyBub3QgdGhlIG5hbWVzcGFjZSBvZiB0aGUgZWxlbWVudCwgYnV0IG9mXG4vLyB0aGUgZWxlbWVudHMgaW5zaWRlIHRoYXQgZWxlbWVudHMuXG5mdW5jdGlvbiBpbnRlcmlvck5hbWVzcGFjZShlbGVtZW50KXtcbiAgaWYgKFxuICAgIGVsZW1lbnQgJiZcbiAgICBlbGVtZW50Lm5hbWVzcGFjZVVSSSA9PT0gc3ZnTmFtZXNwYWNlICYmXG4gICAgIXN2Z0hUTUxJbnRlZ3JhdGlvblBvaW50c1tlbGVtZW50LnRhZ05hbWVdXG4gICkge1xuICAgIHJldHVybiBzdmdOYW1lc3BhY2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLy8gVGhlIEhUTUwgc3BlYyBhbGxvd3MgZm9yIFwib21pdHRlZCBzdGFydCB0YWdzXCIuIFRoZXNlIHRhZ3MgYXJlIG9wdGlvbmFsXG4vLyB3aGVuIHRoZWlyIGludGVuZGVkIGNoaWxkIGlzIHRoZSBmaXJzdCB0aGluZyBpbiB0aGUgcGFyZW50IHRhZy4gRm9yXG4vLyBleGFtcGxlLCB0aGlzIGlzIGEgdGJvZHkgc3RhcnQgdGFnOlxuLy9cbi8vIDx0YWJsZT5cbi8vICAgPHRib2R5PlxuLy8gICAgIDx0cj5cbi8vXG4vLyBUaGUgdGJvZHkgbWF5IGJlIG9taXR0ZWQsIGFuZCB0aGUgYnJvd3NlciB3aWxsIGFjY2VwdCBhbmQgcmVuZGVyOlxuLy9cbi8vIDx0YWJsZT5cbi8vICAgPHRyPlxuLy9cbi8vIEhvd2V2ZXIsIHRoZSBvbWl0dGVkIHN0YXJ0IHRhZyB3aWxsIHN0aWxsIGJlIGFkZGVkIHRvIHRoZSBET00uIEhlcmVcbi8vIHdlIHRlc3QgdGhlIHN0cmluZyBhbmQgY29udGV4dCB0byBzZWUgaWYgdGhlIGJyb3dzZXIgaXMgYWJvdXQgdG9cbi8vIHBlcmZvcm0gdGhpcyBjbGVhbnVwLlxuLy9cbi8vIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL3N5bnRheC5odG1sI29wdGlvbmFsLXRhZ3Ncbi8vIGRlc2NyaWJlcyB3aGljaCB0YWdzIGFyZSBvbWl0dGFibGUuIFRoZSBzcGVjIGZvciB0Ym9keSBhbmQgY29sZ3JvdXBcbi8vIGV4cGxhaW5zIHRoaXMgYmVoYXZpb3I6XG4vL1xuLy8gaHR0cDovL3d3dy53aGF0d2cub3JnL3NwZWNzL3dlYi1hcHBzL2N1cnJlbnQtd29yay9tdWx0aXBhZ2UvdGFibGVzLmh0bWwjdGhlLXRib2R5LWVsZW1lbnRcbi8vIGh0dHA6Ly93d3cud2hhdHdnLm9yZy9zcGVjcy93ZWItYXBwcy9jdXJyZW50LXdvcmsvbXVsdGlwYWdlL3RhYmxlcy5odG1sI3RoZS1jb2xncm91cC1lbGVtZW50XG4vL1xuXG52YXIgb21pdHRlZFN0YXJ0VGFnQ2hpbGRUZXN0ID0gLzwoW1xcdzpdKykvO1xuZnVuY3Rpb24gZGV0ZWN0T21pdHRlZFN0YXJ0VGFnKHN0cmluZywgY29udGV4dHVhbEVsZW1lbnQpe1xuICAvLyBPbWl0dGVkIHN0YXJ0IHRhZ3MgYXJlIG9ubHkgaW5zaWRlIHRhYmxlIHRhZ3MuXG4gIGlmIChjb250ZXh0dWFsRWxlbWVudC50YWdOYW1lID09PSAnVEFCTEUnKSB7XG4gICAgdmFyIG9taXR0ZWRTdGFydFRhZ0NoaWxkTWF0Y2ggPSBvbWl0dGVkU3RhcnRUYWdDaGlsZFRlc3QuZXhlYyhzdHJpbmcpO1xuICAgIGlmIChvbWl0dGVkU3RhcnRUYWdDaGlsZE1hdGNoKSB7XG4gICAgICB2YXIgb21pdHRlZFN0YXJ0VGFnQ2hpbGQgPSBvbWl0dGVkU3RhcnRUYWdDaGlsZE1hdGNoWzFdO1xuICAgICAgLy8gSXQgaXMgYWxyZWFkeSBhc3NlcnRlZCB0aGF0IHRoZSBjb250ZXh0dWFsIGVsZW1lbnQgaXMgYSB0YWJsZVxuICAgICAgLy8gYW5kIG5vdCB0aGUgcHJvcGVyIHN0YXJ0IHRhZy4gSnVzdCBzZWUgaWYgYSB0YWcgd2FzIG9taXR0ZWQuXG4gICAgICByZXR1cm4gb21pdHRlZFN0YXJ0VGFnQ2hpbGQgPT09ICd0cicgfHxcbiAgICAgICAgICAgICBvbWl0dGVkU3RhcnRUYWdDaGlsZCA9PT0gJ2NvbCc7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGJ1aWxkU1ZHRE9NKGh0bWwsIGRvbSl7XG4gIHZhciBkaXYgPSBkb20uZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5pbm5lckhUTUwgPSAnPHN2Zz4nK2h0bWwrJzwvc3ZnPic7XG4gIHJldHVybiBkaXYuZmlyc3RDaGlsZC5jaGlsZE5vZGVzO1xufVxuXG52YXIgZ3VpZCA9IDE7XG5cbmZ1bmN0aW9uIEVsZW1lbnRNb3JwaChlbGVtZW50LCBkb20sIG5hbWVzcGFjZSkge1xuICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICB0aGlzLmRvbSA9IGRvbTtcbiAgdGhpcy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG4gIHRoaXMuZ3VpZCA9IFwiZWxlbWVudFwiICsgZ3VpZCsrO1xuXG4gIHRoaXMuX3N0YXRlID0gdW5kZWZpbmVkO1xuICB0aGlzLmlzRGlydHkgPSB0cnVlO1xufVxuXG5FbGVtZW50TW9ycGgucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5fc3RhdGUpIHtcbiAgICB0aGlzLl9zdGF0ZSA9IHt9O1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX3N0YXRlO1xufTtcblxuRWxlbWVudE1vcnBoLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uKG5ld1N0YXRlKSB7XG4gIC8qanNoaW50IC1XMDkzICovXG5cbiAgcmV0dXJuIHRoaXMuX3N0YXRlID0gbmV3U3RhdGU7XG59O1xuXG4vLyByZW5kZXJBbmRDbGVhbnVwIGNhbGxzIGBjbGVhcmAgb24gYWxsIGl0ZW1zIGluIHRoZSBtb3JwaCBtYXBcbi8vIGp1c3QgYmVmb3JlIGNhbGxpbmcgYGRlc3Ryb3lgIG9uIHRoZSBtb3JwaC5cbi8vXG4vLyBBcyBhIGZ1dHVyZSByZWZhY3RvciB0aGlzIGNvdWxkIGJlIGNoYW5nZWQgdG8gc2V0IHRoZSBwcm9wZXJ0eVxuLy8gYmFjayB0byBpdHMgb3JpZ2luYWwvZGVmYXVsdCB2YWx1ZS5cbkVsZW1lbnRNb3JwaC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHsgfTtcblxuRWxlbWVudE1vcnBoLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gIHRoaXMuZG9tID0gbnVsbDtcbn07XG5cblxuLypcbiAqIEEgY2xhc3Mgd3JhcHBpbmcgRE9NIGZ1bmN0aW9ucyB0byBhZGRyZXNzIGVudmlyb25tZW50IGNvbXBhdGliaWxpdHksXG4gKiBuYW1lc3BhY2VzLCBjb250ZXh0dWFsIGVsZW1lbnRzIGZvciBtb3JwaCB1bi1lc2NhcGVkIGNvbnRlbnRcbiAqIGluc2VydGlvbi5cbiAqXG4gKiBXaGVuIGVudGVyaW5nIGEgdGVtcGxhdGUsIGEgRE9NSGVscGVyIHNob3VsZCBiZSBwYXNzZWQ6XG4gKlxuICogICB0ZW1wbGF0ZShjb250ZXh0LCB7IGhvb2tzOiBob29rcywgZG9tOiBuZXcgRE9NSGVscGVyKCkgfSk7XG4gKlxuICogVE9ETzogc3VwcG9ydCBmb3JlaWduT2JqZWN0IGFzIGEgcGFzc2VkIGNvbnRleHR1YWwgZWxlbWVudC4gSXQgaGFzXG4gKiBhIG5hbWVzcGFjZSAoc3ZnKSB0aGF0IGRvZXMgbm90IG1hdGNoIGl0cyBpbnRlcm5hbCBuYW1lc3BhY2VcbiAqICh4aHRtbCkuXG4gKlxuICogQGNsYXNzIERPTUhlbHBlclxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0hUTUxEb2N1bWVudH0gX2RvY3VtZW50IFRoZSBkb2N1bWVudCBET00gbWV0aG9kcyBhcmUgcHJveGllZCB0b1xuICovXG5mdW5jdGlvbiBET01IZWxwZXIoX2RvY3VtZW50KXtcbiAgdGhpcy5kb2N1bWVudCA9IF9kb2N1bWVudCB8fCBkb2N1bWVudDtcbiAgaWYgKCF0aGlzLmRvY3VtZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQSBkb2N1bWVudCBvYmplY3QgbXVzdCBiZSBwYXNzZWQgdG8gdGhlIERPTUhlbHBlciwgb3IgYXZhaWxhYmxlIG9uIHRoZSBnbG9iYWwgc2NvcGVcIik7XG4gIH1cbiAgdGhpcy5jYW5DbG9uZSA9IGNhbkNsb25lO1xuICB0aGlzLm5hbWVzcGFjZSA9IG51bGw7XG5cbiAgaW5zdGFsbEVudmlyb25tZW50U3BlY2lmaWNNZXRob2RzKHRoaXMpO1xufVxuXG52YXIgcHJvdG90eXBlID0gRE9NSGVscGVyLnByb3RvdHlwZTtcbnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERPTUhlbHBlcjtcblxucHJvdG90eXBlLmdldEVsZW1lbnRCeUlkID0gZnVuY3Rpb24oaWQsIHJvb3ROb2RlKSB7XG4gIHJvb3ROb2RlID0gcm9vdE5vZGUgfHwgdGhpcy5kb2N1bWVudDtcbiAgcmV0dXJuIHJvb3ROb2RlLmdldEVsZW1lbnRCeUlkKGlkKTtcbn07XG5cbnByb3RvdHlwZS5pbnNlcnRCZWZvcmUgPSBmdW5jdGlvbihlbGVtZW50LCBjaGlsZEVsZW1lbnQsIHJlZmVyZW5jZUNoaWxkKSB7XG4gIHJldHVybiBlbGVtZW50Lmluc2VydEJlZm9yZShjaGlsZEVsZW1lbnQsIHJlZmVyZW5jZUNoaWxkKTtcbn07XG5cbnByb3RvdHlwZS5hcHBlbmRDaGlsZCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNoaWxkRWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZEVsZW1lbnQpO1xufTtcblxudmFyIGl0ZW1BdDtcblxuLy8gSXQgYXBwZWFycyB0aGF0IHNvbWV0aW1lcywgaW4geWV0IHRvIGJlIGl0ZW50aWZpZWQgc2NlbmFyaW9zIFBoYW50b21KUyAyLjBcbi8vIGNyYXNoZXMgb24gY2hpbGROb2Rlcy5pdGVtKGluZGV4KSwgYnV0IHdvcmtzIGFzIGV4cGVjdGVkIHdpdGggY2hpbGROb2Rlc1tpbmRleF07XG4vL1xuLy8gQWx0aG91Z2ggaXQgd291bGQgYmUgbmljZSB0byBtb3ZlIHRvIGNoaWxkTm9kZXNbaW5kZXhdIGluIGFsbCBzY2VuYXJpb3MsXG4vLyB0aGlzIHdvdWxkIHJlcXVpcmUgU2ltcGxlRE9NIHRvIG1haW50YWluIHRoZSBjaGlsZE5vZGVzIGFycmF5LiBUaGlzIHdvdWxkIGJlXG4vLyBxdWl0ZSBjb3N0bHksIGluIGJvdGggZGV2IHRpbWUgYW5kIHJ1bnRpbWUuXG4vL1xuLy8gU28gaW5zdGVhZCwgd2UgY2hvb3NlIHRoZSBiZXN0IHBvc3NpYmxlIG1ldGhvZCBhbmQgY2FsbCBpdCBhIGRheS5cbi8vXG4vKmdsb2JhbCBuYXZpZ2F0b3IgKi9cbmlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignUGhhbnRvbUpTJykpIHtcbiAgaXRlbUF0ID0gZnVuY3Rpb24obm9kZXMsIGluZGV4KSB7XG4gICAgcmV0dXJuIG5vZGVzW2luZGV4XTtcbiAgfTtcbn0gZWxzZSB7XG4gIGl0ZW1BdCA9IGZ1bmN0aW9uKG5vZGVzLCBpbmRleCkge1xuICAgIHJldHVybiBub2Rlcy5pdGVtKGluZGV4KTtcbiAgfTtcbn1cblxucHJvdG90eXBlLmNoaWxkQXQgPSBmdW5jdGlvbihlbGVtZW50LCBpbmRpY2VzKSB7XG4gIHZhciBjaGlsZCA9IGVsZW1lbnQ7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgY2hpbGQgPSBpdGVtQXQoY2hpbGQuY2hpbGROb2RlcywgaW5kaWNlc1tpXSk7XG4gIH1cblxuICByZXR1cm4gY2hpbGQ7XG59O1xuXG4vLyBOb3RlIHRvIGEgRmVsbG93IEltcGxlbWVudG9yOlxuLy8gQWhoLCBhY2Nlc3NpbmcgYSBjaGlsZCBub2RlIGF0IGFuIGluZGV4LiBTZWVtcyBsaWtlIGl0IHNob3VsZCBiZSBzbyBzaW1wbGUsXG4vLyBkb2Vzbid0IGl0PyBVbmZvcnR1bmF0ZWx5LCB0aGlzIHBhcnRpY3VsYXIgbWV0aG9kIGhhcyBjYXVzZWQgdXMgYSBzdXJwcmlzaW5nXG4vLyBhbW91bnQgb2YgcGFpbi4gQXMgeW91J2xsIG5vdGUgYmVsb3csIHRoaXMgbWV0aG9kIGhhcyBiZWVuIG1vZGlmaWVkIHRvIHdhbGtcbi8vIHRoZSBsaW5rZWQgbGlzdCBvZiBjaGlsZCBub2RlcyByYXRoZXIgdGhhbiBhY2Nlc3MgdGhlIGNoaWxkIGJ5IGluZGV4XG4vLyBkaXJlY3RseSwgZXZlbiB0aG91Z2ggdGhlcmUgYXJlIHR3byAoMikgQVBJcyBpbiB0aGUgRE9NIHRoYXQgZG8gdGhpcyBmb3IgdXMuXG4vLyBJZiB5b3UncmUgdGhpbmtpbmcgdG8geW91cnNlbGYsIFwiV2hhdCBhbiBvdmVyc2lnaHQhIFdoYXQgYW4gb3Bwb3J0dW5pdHkgdG9cbi8vIG9wdGltaXplIHRoaXMgY29kZSFcIiB0aGVuIHRvIHlvdSBJIHNheTogc3RvcCEgRm9yIEkgaGF2ZSBhIHRhbGUgdG8gdGVsbC5cbi8vXG4vLyBGaXJzdCwgdGhpcyBjb2RlIG11c3QgYmUgY29tcGF0aWJsZSB3aXRoIHNpbXBsZS1kb20gZm9yIHJlbmRlcmluZyBvbiB0aGVcbi8vIHNlcnZlciB3aGVyZSB0aGVyZSBpcyBubyByZWFsIERPTS4gUHJldmlvdXNseSwgd2UgYWNjZXNzZWQgYSBjaGlsZCBub2RlXG4vLyBkaXJlY3RseSB2aWEgYGVsZW1lbnQuY2hpbGROb2Rlc1tpbmRleF1gLiBXaGlsZSB3ZSAqY291bGQqIGluIHRoZW9yeSBkbyBhXG4vLyBmdWxsLWZpZGVsaXR5IHNpbXVsYXRpb24gb2YgYSBsaXZlIGBjaGlsZE5vZGVzYCBhcnJheSwgdGhpcyBpcyBzbG93LFxuLy8gY29tcGxpY2F0ZWQgYW5kIGVycm9yLXByb25lLlxuLy9cbi8vIFwiTm8gcHJvYmxlbSxcIiB3ZSB0aG91Z2h0LCBcIndlJ2xsIGp1c3QgdXNlIHRoZSBzaW1pbGFyXG4vLyBgY2hpbGROb2Rlcy5pdGVtKGluZGV4KWAgQVBJLlwiIFRoZW4sIHdlIGNvdWxkIGp1c3QgaW1wbGVtZW50IG91ciBvd24gYGl0ZW1gXG4vLyBtZXRob2QgaW4gc2ltcGxlLWRvbSBhbmQgd2FsayB0aGUgY2hpbGQgbm9kZSBsaW5rZWQgbGlzdCB0aGVyZSwgYWxsb3dpbmdcbi8vIHVzIHRvIHJldGFpbiB0aGUgcGVyZm9ybWFuY2UgYWR2YW50YWdlcyBvZiB0aGUgKHN1cmVseSBvcHRpbWl6ZWQpIGBpdGVtKClgXG4vLyBBUEkgaW4gdGhlIGJyb3dzZXIuXG4vL1xuLy8gVW5mb3J0dW5hdGVseSwgYW4gZW50ZXJwcmlzaW5nIHNvdWwgbmFtZWQgU2FteSBBbHphaHJhbmkgZGlzY292ZXJlZCB0aGF0IGluXG4vLyBJRTgsIGFjY2Vzc2luZyBhbiBpdGVtIG91dC1vZi1ib3VuZHMgdmlhIGBpdGVtKClgIGNhdXNlcyBhbiBleGNlcHRpb24gd2hlcmVcbi8vIG90aGVyIGJyb3dzZXJzIHJldHVybiBudWxsLiBUaGlzIG5lY2Vzc2l0YXRlZCBhLi4uIGNoZWNrIG9mXG4vLyBgY2hpbGROb2Rlcy5sZW5ndGhgLCBicmluZ2luZyB1cyBiYWNrIGFyb3VuZCB0byBoYXZpbmcgdG8gc3VwcG9ydCBhXG4vLyBmdWxsLWZpZGVsaXR5IGBjaGlsZE5vZGVzYCBhcnJheSFcbi8vXG4vLyBXb3JzdCBvZiBhbGwsIEtyaXMgU2VsZGVuIGludmVzdGlnYXRlZCBob3cgYnJvd3NlcnMgYXJlIGFjdHVhbHkgaW1wbGVtZW50ZWRcbi8vIGFuZCBkaXNjb3ZlcmVkIHRoYXQgdGhleSdyZSBhbGwgbGlua2VkIGxpc3RzIHVuZGVyIHRoZSBob29kIGFueXdheS4gQWNjZXNzaW5nXG4vLyBgY2hpbGROb2Rlc2AgcmVxdWlyZXMgdGhlbSB0byBhbGxvY2F0ZSBhIG5ldyBsaXZlIGNvbGxlY3Rpb24gYmFja2VkIGJ5IHRoYXRcbi8vIGxpbmtlZCBsaXN0LCB3aGljaCBpcyBpdHNlbGYgYSByYXRoZXIgZXhwZW5zaXZlIG9wZXJhdGlvbi4gT3VyIGFzc3VtZWRcbi8vIG9wdGltaXphdGlvbiBoYWQgYmFja2ZpcmVkISBUaGF0IGlzIHRoZSBkYW5nZXIgb2YgbWFnaWNhbCB0aGlua2luZyBhYm91dFxuLy8gdGhlIHBlcmZvcm1hbmNlIG9mIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMuXG4vL1xuLy8gQW5kIHRoaXMsIG15IGZyaWVuZHMsIGlzIHdoeSB0aGUgZm9sbG93aW5nIGltcGxlbWVudGF0aW9uIGp1c3Qgd2Fsa3MgdGhlXG4vLyBsaW5rZWQgbGlzdCwgYXMgc3VycHJpc2VkIGFzIHRoYXQgbWF5IG1ha2UgeW91LiBQbGVhc2UgZW5zdXJlIHlvdSB1bmRlcnN0YW5kXG4vLyB0aGUgYWJvdmUgYmVmb3JlIGNoYW5naW5nIHRoaXMgYW5kIHN1Ym1pdHRpbmcgYSBQUi5cbi8vXG4vLyBUb20gRGFsZSwgSmFudWFyeSAxOHRoLCAyMDE1LCBQb3J0bGFuZCBPUlxucHJvdG90eXBlLmNoaWxkQXRJbmRleCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4KSB7XG4gIHZhciBub2RlID0gZWxlbWVudC5maXJzdENoaWxkO1xuXG4gIGZvciAodmFyIGlkeCA9IDA7IG5vZGUgJiYgaWR4IDwgaW5kZXg7IGlkeCsrKSB7XG4gICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gIH1cblxuICByZXR1cm4gbm9kZTtcbn07XG5cbnByb3RvdHlwZS5hcHBlbmRUZXh0ID0gZnVuY3Rpb24oZWxlbWVudCwgdGV4dCkge1xuICByZXR1cm4gZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTtcbn07XG5cbnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xuICBlbGVtZW50LnNldEF0dHJpYnV0ZShuYW1lLCBTdHJpbmcodmFsdWUpKTtcbn07XG5cbnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbihlbGVtZW50LCBuYW1lKSB7XG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcbn07XG5cbnByb3RvdHlwZS5zZXRBdHRyaWJ1dGVOUyA9IGZ1bmN0aW9uKGVsZW1lbnQsIG5hbWVzcGFjZSwgbmFtZSwgdmFsdWUpIHtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2UsIG5hbWUsIFN0cmluZyh2YWx1ZSkpO1xufTtcblxucHJvdG90eXBlLmdldEF0dHJpYnV0ZU5TID0gZnVuY3Rpb24oZWxlbWVudCwgbmFtZXNwYWNlLCBuYW1lKSB7XG4gIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZU5TKG5hbWVzcGFjZSwgbmFtZSk7XG59O1xuXG5pZiAoY2FuUmVtb3ZlU3ZnVmlld0JveEF0dHJpYnV0ZSl7XG4gIHByb3RvdHlwZS5yZW1vdmVBdHRyaWJ1dGUgPSBmdW5jdGlvbihlbGVtZW50LCBuYW1lKSB7XG4gICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gIH07XG59IGVsc2Uge1xuICBwcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlID0gZnVuY3Rpb24oZWxlbWVudCwgbmFtZSkge1xuICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09ICdzdmcnICYmIG5hbWUgPT09ICd2aWV3Qm94Jykge1xuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgbnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIH1cbiAgfTtcbn1cblxucHJvdG90eXBlLnNldFByb3BlcnR5U3RyaWN0ID0gZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICB2YWx1ZSA9IG51bGw7XG4gIH1cblxuICBpZiAodmFsdWUgPT09IG51bGwgJiYgKG5hbWUgPT09ICd2YWx1ZScgfHwgbmFtZSA9PT0gJ3R5cGUnIHx8IG5hbWUgPT09ICdzcmMnKSkge1xuICAgIHZhbHVlID0gJyc7XG4gIH1cblxuICBlbGVtZW50W25hbWVdID0gdmFsdWU7XG59O1xuXG5wcm90b3R5cGUuZ2V0UHJvcGVydHlTdHJpY3QgPSBmdW5jdGlvbihlbGVtZW50LCBuYW1lKSB7XG4gIHJldHVybiBlbGVtZW50W25hbWVdO1xufTtcblxucHJvdG90eXBlLnNldFByb3BlcnR5ID0gZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUsIG5hbWVzcGFjZSkge1xuICBpZiAoZWxlbWVudC5uYW1lc3BhY2VVUkkgPT09IHN2Z05hbWVzcGFjZSkge1xuICAgIGlmIChpc0F0dHJSZW1vdmFsVmFsdWUodmFsdWUpKSB7XG4gICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZU5TKG5hbWVzcGFjZSwgbmFtZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgeyBub3JtYWxpemVkICwgdHlwZSB9ID0gbm9ybWFsaXplUHJvcGVydHkoZWxlbWVudCwgbmFtZSk7XG4gICAgaWYgKHR5cGUgPT09ICdwcm9wJykge1xuICAgICAgZWxlbWVudFtub3JtYWxpemVkXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNBdHRyUmVtb3ZhbFZhbHVlKHZhbHVlKSkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChuYW1lc3BhY2UgJiYgZWxlbWVudC5zZXRBdHRyaWJ1dGVOUykge1xuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlTlMobmFtZXNwYWNlLCBuYW1lLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5pZiAoZG9jICYmIGRvYy5jcmVhdGVFbGVtZW50TlMpIHtcbiAgLy8gT25seSBvcHQgaW50byBuYW1lc3BhY2UgZGV0ZWN0aW9uIGlmIGEgY29udGV4dHVhbEVsZW1lbnRcbiAgLy8gaXMgcGFzc2VkLlxuICBwcm90b3R5cGUuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKHRhZ05hbWUsIGNvbnRleHR1YWxFbGVtZW50KSB7XG4gICAgdmFyIG5hbWVzcGFjZSA9IHRoaXMubmFtZXNwYWNlO1xuICAgIGlmIChjb250ZXh0dWFsRWxlbWVudCkge1xuICAgICAgaWYgKHRhZ05hbWUgPT09ICdzdmcnKSB7XG4gICAgICAgIG5hbWVzcGFjZSA9IHN2Z05hbWVzcGFjZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5hbWVzcGFjZSA9IGludGVyaW9yTmFtZXNwYWNlKGNvbnRleHR1YWxFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5hbWVzcGFjZSkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKG5hbWVzcGFjZSwgdGFnTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgfVxuICB9O1xuICBwcm90b3R5cGUuc2V0QXR0cmlidXRlTlMgPSBmdW5jdGlvbihlbGVtZW50LCBuYW1lc3BhY2UsIG5hbWUsIHZhbHVlKSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2UsIG5hbWUsIFN0cmluZyh2YWx1ZSkpO1xuICB9O1xufSBlbHNlIHtcbiAgcHJvdG90eXBlLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbih0YWdOYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgfTtcbiAgcHJvdG90eXBlLnNldEF0dHJpYnV0ZU5TID0gZnVuY3Rpb24oZWxlbWVudCwgbmFtZXNwYWNlLCBuYW1lLCB2YWx1ZSkge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIFN0cmluZyh2YWx1ZSkpO1xuICB9O1xufVxuXG5wcm90b3R5cGUuYWRkQ2xhc3NlcyA9IGFkZENsYXNzZXM7XG5wcm90b3R5cGUucmVtb3ZlQ2xhc3NlcyA9IHJlbW92ZUNsYXNzZXM7XG5cbnByb3RvdHlwZS5zZXROYW1lc3BhY2UgPSBmdW5jdGlvbihucykge1xuICB0aGlzLm5hbWVzcGFjZSA9IG5zO1xufTtcblxucHJvdG90eXBlLmRldGVjdE5hbWVzcGFjZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdGhpcy5uYW1lc3BhY2UgPSBpbnRlcmlvck5hbWVzcGFjZShlbGVtZW50KTtcbn07XG5cbnByb3RvdHlwZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50ID0gZnVuY3Rpb24oKXtcbiAgcmV0dXJuIHRoaXMuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xufTtcblxucHJvdG90eXBlLmNyZWF0ZVRleHROb2RlID0gZnVuY3Rpb24odGV4dCl7XG4gIHJldHVybiB0aGlzLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpO1xufTtcblxucHJvdG90eXBlLmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbih0ZXh0KXtcbiAgcmV0dXJuIHRoaXMuZG9jdW1lbnQuY3JlYXRlQ29tbWVudCh0ZXh0KTtcbn07XG5cbnByb3RvdHlwZS5yZXBhaXJDbG9uZWROb2RlID0gZnVuY3Rpb24oZWxlbWVudCwgYmxhbmtDaGlsZFRleHROb2RlcywgaXNDaGVja2VkKXtcbiAgaWYgKGRlbGV0ZXNCbGFua1RleHROb2RlcyAmJiBibGFua0NoaWxkVGV4dE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKHZhciBpPTAsIGxlbj1ibGFua0NoaWxkVGV4dE5vZGVzLmxlbmd0aDtpPGxlbjtpKyspe1xuICAgICAgdmFyIHRleHROb2RlID0gdGhpcy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyksXG4gICAgICAgICAgb2Zmc2V0ID0gYmxhbmtDaGlsZFRleHROb2Rlc1tpXSxcbiAgICAgICAgICBiZWZvcmUgPSB0aGlzLmNoaWxkQXRJbmRleChlbGVtZW50LCBvZmZzZXQpO1xuICAgICAgaWYgKGJlZm9yZSkge1xuICAgICAgICBlbGVtZW50Lmluc2VydEJlZm9yZSh0ZXh0Tm9kZSwgYmVmb3JlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoaWdub3Jlc0NoZWNrZWRBdHRyaWJ1dGUgJiYgaXNDaGVja2VkKSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xuICB9XG59O1xuXG5wcm90b3R5cGUuY2xvbmVOb2RlID0gZnVuY3Rpb24oZWxlbWVudCwgZGVlcCl7XG4gIHZhciBjbG9uZSA9IGVsZW1lbnQuY2xvbmVOb2RlKCEhZGVlcCk7XG4gIHJldHVybiBjbG9uZTtcbn07XG5cbnByb3RvdHlwZS5BdHRyTW9ycGhDbGFzcyA9IEF0dHJNb3JwaDtcblxucHJvdG90eXBlLmNyZWF0ZUF0dHJNb3JwaCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJOYW1lLCBuYW1lc3BhY2Upe1xuICByZXR1cm4gdGhpcy5BdHRyTW9ycGhDbGFzcy5jcmVhdGUoZWxlbWVudCwgYXR0ck5hbWUsIHRoaXMsIG5hbWVzcGFjZSk7XG59O1xuXG5wcm90b3R5cGUuRWxlbWVudE1vcnBoQ2xhc3MgPSBFbGVtZW50TW9ycGg7XG5cbnByb3RvdHlwZS5jcmVhdGVFbGVtZW50TW9ycGggPSBmdW5jdGlvbihlbGVtZW50LCBuYW1lc3BhY2Upe1xuICByZXR1cm4gbmV3IHRoaXMuRWxlbWVudE1vcnBoQ2xhc3MoZWxlbWVudCwgdGhpcywgbmFtZXNwYWNlKTtcbn07XG5cbnByb3RvdHlwZS5jcmVhdGVVbnNhZmVBdHRyTW9ycGggPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyTmFtZSwgbmFtZXNwYWNlKXtcbiAgdmFyIG1vcnBoID0gdGhpcy5jcmVhdGVBdHRyTW9ycGgoZWxlbWVudCwgYXR0ck5hbWUsIG5hbWVzcGFjZSk7XG4gIG1vcnBoLmVzY2FwZWQgPSBmYWxzZTtcbiAgcmV0dXJuIG1vcnBoO1xufTtcblxucHJvdG90eXBlLk1vcnBoQ2xhc3MgPSBNb3JwaDtcblxucHJvdG90eXBlLmNyZWF0ZU1vcnBoID0gZnVuY3Rpb24ocGFyZW50LCBzdGFydCwgZW5kLCBjb250ZXh0dWFsRWxlbWVudCl7XG4gIGlmIChjb250ZXh0dWFsRWxlbWVudCAmJiBjb250ZXh0dWFsRWxlbWVudC5ub2RlVHlwZSA9PT0gMTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcGFzcyBhIGZyYWdtZW50IGFzIHRoZSBjb250ZXh0dWFsIGVsZW1lbnQgdG8gY3JlYXRlTW9ycGhcIik7XG4gIH1cblxuICBpZiAoIWNvbnRleHR1YWxFbGVtZW50ICYmIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgPT09IDEpIHtcbiAgICBjb250ZXh0dWFsRWxlbWVudCA9IHBhcmVudDtcbiAgfVxuICB2YXIgbW9ycGggPSBuZXcgdGhpcy5Nb3JwaENsYXNzKHRoaXMsIGNvbnRleHR1YWxFbGVtZW50KTtcbiAgbW9ycGguZmlyc3ROb2RlID0gc3RhcnQ7XG4gIG1vcnBoLmxhc3ROb2RlID0gZW5kO1xuICByZXR1cm4gbW9ycGg7XG59O1xuXG5wcm90b3R5cGUuY3JlYXRlRnJhZ21lbnRNb3JwaCA9IGZ1bmN0aW9uKGNvbnRleHR1YWxFbGVtZW50KSB7XG4gIGlmIChjb250ZXh0dWFsRWxlbWVudCAmJiBjb250ZXh0dWFsRWxlbWVudC5ub2RlVHlwZSA9PT0gMTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcGFzcyBhIGZyYWdtZW50IGFzIHRoZSBjb250ZXh0dWFsIGVsZW1lbnQgdG8gY3JlYXRlTW9ycGhcIik7XG4gIH1cblxuICB2YXIgZnJhZ21lbnQgPSB0aGlzLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgcmV0dXJuIE1vcnBoLmNyZWF0ZSh0aGlzLCBjb250ZXh0dWFsRWxlbWVudCwgZnJhZ21lbnQpO1xufTtcblxucHJvdG90eXBlLnJlcGxhY2VDb250ZW50V2l0aE1vcnBoID0gZnVuY3Rpb24oZWxlbWVudCkgIHtcbiAgdmFyIGZpcnN0Q2hpbGQgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7XG5cbiAgaWYgKCFmaXJzdENoaWxkKSB7XG4gICAgdmFyIGNvbW1lbnQgPSB0aGlzLmNyZWF0ZUNvbW1lbnQoJycpO1xuICAgIHRoaXMuYXBwZW5kQ2hpbGQoZWxlbWVudCwgY29tbWVudCk7XG4gICAgcmV0dXJuIE1vcnBoLmNyZWF0ZSh0aGlzLCBlbGVtZW50LCBjb21tZW50KTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbW9ycGggPSBNb3JwaC5hdHRhY2godGhpcywgZWxlbWVudCwgZmlyc3RDaGlsZCwgZWxlbWVudC5sYXN0Q2hpbGQpO1xuICAgIG1vcnBoLmNsZWFyKCk7XG4gICAgcmV0dXJuIG1vcnBoO1xuICB9XG59O1xuXG5wcm90b3R5cGUuY3JlYXRlVW5zYWZlTW9ycGggPSBmdW5jdGlvbihwYXJlbnQsIHN0YXJ0LCBlbmQsIGNvbnRleHR1YWxFbGVtZW50KXtcbiAgdmFyIG1vcnBoID0gdGhpcy5jcmVhdGVNb3JwaChwYXJlbnQsIHN0YXJ0LCBlbmQsIGNvbnRleHR1YWxFbGVtZW50KTtcbiAgbW9ycGgucGFyc2VUZXh0QXNIVE1MID0gdHJ1ZTtcbiAgcmV0dXJuIG1vcnBoO1xufTtcblxuLy8gVGhpcyBoZWxwZXIgaXMganVzdCB0byBrZWVwIHRoZSB0ZW1wbGF0ZXMgZ29vZCBsb29raW5nLFxuLy8gcGFzc2luZyBpbnRlZ2VycyBpbnN0ZWFkIG9mIGVsZW1lbnQgcmVmZXJlbmNlcy5cbnByb3RvdHlwZS5jcmVhdGVNb3JwaEF0ID0gZnVuY3Rpb24ocGFyZW50LCBzdGFydEluZGV4LCBlbmRJbmRleCwgY29udGV4dHVhbEVsZW1lbnQpe1xuICB2YXIgc2luZ2xlID0gc3RhcnRJbmRleCA9PT0gZW5kSW5kZXg7XG4gIHZhciBzdGFydCA9IHRoaXMuY2hpbGRBdEluZGV4KHBhcmVudCwgc3RhcnRJbmRleCk7XG4gIHZhciBlbmQgPSBzaW5nbGUgPyBzdGFydCA6IHRoaXMuY2hpbGRBdEluZGV4KHBhcmVudCwgZW5kSW5kZXgpO1xuICByZXR1cm4gdGhpcy5jcmVhdGVNb3JwaChwYXJlbnQsIHN0YXJ0LCBlbmQsIGNvbnRleHR1YWxFbGVtZW50KTtcbn07XG5cbnByb3RvdHlwZS5jcmVhdGVVbnNhZmVNb3JwaEF0ID0gZnVuY3Rpb24ocGFyZW50LCBzdGFydEluZGV4LCBlbmRJbmRleCwgY29udGV4dHVhbEVsZW1lbnQpIHtcbiAgdmFyIG1vcnBoID0gdGhpcy5jcmVhdGVNb3JwaEF0KHBhcmVudCwgc3RhcnRJbmRleCwgZW5kSW5kZXgsIGNvbnRleHR1YWxFbGVtZW50KTtcbiAgbW9ycGgucGFyc2VUZXh0QXNIVE1MID0gdHJ1ZTtcbiAgcmV0dXJuIG1vcnBoO1xufTtcblxucHJvdG90eXBlLmluc2VydE1vcnBoQmVmb3JlID0gZnVuY3Rpb24oZWxlbWVudCwgcmVmZXJlbmNlQ2hpbGQsIGNvbnRleHR1YWxFbGVtZW50KSB7XG4gIHZhciBpbnNlcnRpb24gPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuICBlbGVtZW50Lmluc2VydEJlZm9yZShpbnNlcnRpb24sIHJlZmVyZW5jZUNoaWxkKTtcbiAgcmV0dXJuIHRoaXMuY3JlYXRlTW9ycGgoZWxlbWVudCwgaW5zZXJ0aW9uLCBpbnNlcnRpb24sIGNvbnRleHR1YWxFbGVtZW50KTtcbn07XG5cbnByb3RvdHlwZS5hcHBlbmRNb3JwaCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnRleHR1YWxFbGVtZW50KSB7XG4gIHZhciBpbnNlcnRpb24gPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoJycpO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKGluc2VydGlvbik7XG4gIHJldHVybiB0aGlzLmNyZWF0ZU1vcnBoKGVsZW1lbnQsIGluc2VydGlvbiwgaW5zZXJ0aW9uLCBjb250ZXh0dWFsRWxlbWVudCk7XG59O1xuXG5wcm90b3R5cGUuaW5zZXJ0Qm91bmRhcnkgPSBmdW5jdGlvbihmcmFnbWVudCwgaW5kZXgpIHtcbiAgLy8gdGhpcyB3aWxsIGFsd2F5cyBiZSBudWxsIG9yIGZpcnN0Q2hpbGRcbiAgdmFyIGNoaWxkID0gaW5kZXggPT09IG51bGwgPyBudWxsIDogdGhpcy5jaGlsZEF0SW5kZXgoZnJhZ21lbnQsIGluZGV4KTtcbiAgdGhpcy5pbnNlcnRCZWZvcmUoZnJhZ21lbnQsIHRoaXMuY3JlYXRlVGV4dE5vZGUoJycpLCBjaGlsZCk7XG59O1xuXG5wcm90b3R5cGUuc2V0TW9ycGhIVE1MID0gZnVuY3Rpb24obW9ycGgsIGh0bWwpIHtcbiAgbW9ycGguc2V0SFRNTChodG1sKTtcbn07XG5cbnByb3RvdHlwZS5wYXJzZUhUTUwgPSBmdW5jdGlvbihodG1sLCBjb250ZXh0dWFsRWxlbWVudCkge1xuICB2YXIgY2hpbGROb2RlcztcblxuICBpZiAoaW50ZXJpb3JOYW1lc3BhY2UoY29udGV4dHVhbEVsZW1lbnQpID09PSBzdmdOYW1lc3BhY2UpIHtcbiAgICBjaGlsZE5vZGVzID0gYnVpbGRTVkdET00oaHRtbCwgdGhpcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG5vZGVzID0gYnVpbGRIVE1MRE9NKGh0bWwsIGNvbnRleHR1YWxFbGVtZW50LCB0aGlzKTtcbiAgICBpZiAoZGV0ZWN0T21pdHRlZFN0YXJ0VGFnKGh0bWwsIGNvbnRleHR1YWxFbGVtZW50KSkge1xuICAgICAgdmFyIG5vZGUgPSBub2Rlc1swXTtcbiAgICAgIHdoaWxlIChub2RlICYmIG5vZGUubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgICBjaGlsZE5vZGVzID0gbm9kZS5jaGlsZE5vZGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZE5vZGVzID0gbm9kZXM7XG4gICAgfVxuICB9XG5cbiAgLy8gQ29weSBub2RlIGxpc3QgdG8gYSBmcmFnbWVudC5cbiAgdmFyIGZyYWdtZW50ID0gdGhpcy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgaWYgKGNoaWxkTm9kZXMgJiYgY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgdmFyIGN1cnJlbnROb2RlID0gY2hpbGROb2Rlc1swXTtcblxuICAgIC8vIFdlIHByZXBlbmQgYW4gPG9wdGlvbj4gdG8gPHNlbGVjdD4gYm94ZXMgdG8gYWJzb3JiIGFueSBicm93c2VyIGJ1Z3NcbiAgICAvLyByZWxhdGVkIHRvIGF1dG8tc2VsZWN0IGJlaGF2aW9yLiBTa2lwIHBhc3QgaXQuXG4gICAgaWYgKGNvbnRleHR1YWxFbGVtZW50LnRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLm5leHRTaWJsaW5nO1xuICAgIH1cblxuICAgIHdoaWxlIChjdXJyZW50Tm9kZSkge1xuICAgICAgdmFyIHRlbXBOb2RlID0gY3VycmVudE5vZGU7XG4gICAgICBjdXJyZW50Tm9kZSA9IGN1cnJlbnROb2RlLm5leHRTaWJsaW5nO1xuXG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZCh0ZW1wTm9kZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZyYWdtZW50O1xufTtcblxudmFyIG5vZGVVUkw7XG52YXIgcGFyc2luZ05vZGU7XG5cbmZ1bmN0aW9uIGluc3RhbGxFbnZpcm9ubWVudFNwZWNpZmljTWV0aG9kcyhkb21IZWxwZXIpIHtcbiAgdmFyIHByb3RvY29sID0gYnJvd3NlclByb3RvY29sRm9yVVJMLmNhbGwoZG9tSGVscGVyLCAnZm9vYmFyOmJheicpO1xuXG4gIC8vIFRlc3QgdG8gc2VlIGlmIG91ciBET00gaW1wbGVtZW50YXRpb24gcGFyc2VzXG4gIC8vIGFuZCBub3JtYWxpemVzIFVSTHMuXG4gIGlmIChwcm90b2NvbCA9PT0gJ2Zvb2JhcjonKSB7XG4gICAgLy8gU3dhcCBpbiB0aGUgbWV0aG9kIHRoYXQgZG9lc24ndCBkbyB0aGlzIHRlc3Qgbm93IHRoYXRcbiAgICAvLyB3ZSBrbm93IGl0IHdvcmtzLlxuICAgIGRvbUhlbHBlci5wcm90b2NvbEZvclVSTCA9IGJyb3dzZXJQcm90b2NvbEZvclVSTDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgVVJMID09PSAnb2JqZWN0Jykge1xuICAgIC8vIFVSTCBnbG9iYWxseSBwcm92aWRlZCwgbGlrZWx5IGZyb20gRmFzdEJvb3QncyBzYW5kYm94XG4gICAgbm9kZVVSTCA9IFVSTDtcbiAgICBkb21IZWxwZXIucHJvdG9jb2xGb3JVUkwgPSBub2RlUHJvdG9jb2xGb3JVUkw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZS5yZXF1aXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gT3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIGZhbGwgYmFjayB0byBvdXIgb3duIFVSTCBwYXJzaW5nLlxuICAgIC8vIEdsb2JhbCBgcmVxdWlyZWAgaXMgc2hhZG93ZWQgYnkgRW1iZXIncyBsb2FkZXIgc28gd2UgaGF2ZSB0byB1c2UgdGhlIGZ1bGx5XG4gICAgLy8gcXVhbGlmaWVkIGBtb2R1bGUucmVxdWlyZWAuXG4gICAgbm9kZVVSTCA9IG1vZHVsZS5yZXF1aXJlKCd1cmwnKTtcbiAgICBkb21IZWxwZXIucHJvdG9jb2xGb3JVUkwgPSBub2RlUHJvdG9jb2xGb3JVUkw7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRE9NIEhlbHBlciBjb3VsZCBub3QgZmluZCB2YWxpZCBVUkwgcGFyc2luZyBtZWNoYW5pc21cIik7XG4gIH1cblxuICAvLyBBIFNpbXBsZURPTS1zcGVjaWZpYyBleHRlbnNpb24gdGhhdCBhbGxvd3MgdXMgdG8gcGxhY2UgSFRNTCBkaXJlY3RseVxuICAvLyBpbnRvIHRoZSBET00gdHJlZSwgZm9yIHdoZW4gdGhlIG91dHB1dCB0YXJnZXQgaXMgYWx3YXlzIHNlcmlhbGl6ZWQgSFRNTC5cbiAgaWYgKGRvbUhlbHBlci5kb2N1bWVudC5jcmVhdGVSYXdIVE1MU2VjdGlvbikge1xuICAgIGRvbUhlbHBlci5zZXRNb3JwaEhUTUwgPSBub2RlU2V0TW9ycGhIVE1MO1xuICB9XG59XG5cbmZ1bmN0aW9uIG5vZGVTZXRNb3JwaEhUTUwobW9ycGgsIGh0bWwpIHtcbiAgdmFyIHNlY3Rpb24gPSB0aGlzLmRvY3VtZW50LmNyZWF0ZVJhd0hUTUxTZWN0aW9uKGh0bWwpO1xuICBtb3JwaC5zZXROb2RlKHNlY3Rpb24pO1xufVxuXG5mdW5jdGlvbiBicm93c2VyUHJvdG9jb2xGb3JVUkwodXJsKSB7XG4gIGlmICghcGFyc2luZ05vZGUpIHtcbiAgICBwYXJzaW5nTm9kZSA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICB9XG5cbiAgcGFyc2luZ05vZGUuaHJlZiA9IHVybDtcbiAgcmV0dXJuIHBhcnNpbmdOb2RlLnByb3RvY29sO1xufVxuXG5mdW5jdGlvbiBub2RlUHJvdG9jb2xGb3JVUkwodXJsKSB7XG4gIHZhciBwcm90b2NvbCA9IG51bGw7XG4gIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJykge1xuICAgIHByb3RvY29sID0gbm9kZVVSTC5wYXJzZSh1cmwpLnByb3RvY29sO1xuICB9XG4gIHJldHVybiAocHJvdG9jb2wgPT09IG51bGwpID8gJzonIDogcHJvdG9jb2w7XG59XG5cbmV4cG9ydCBkZWZhdWx0IERPTUhlbHBlcjtcbiJdfQ==
define('dom-helper.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - .');
  QUnit.test('dom-helper.js should pass jshint', function (assert) {
    assert.ok(true, 'dom-helper.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvbS1oZWxwZXIuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQzNCLE9BQUssQ0FBQyxJQUFJLENBQUMsa0NBQWtDLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDOUQsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsbUNBQW1DLENBQUMsQ0FBQztHQUN0RCxDQUFDLENBQUMiLCJmaWxlIjoiZG9tLWhlbHBlci5qc2hpbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJRVW5pdC5tb2R1bGUoJ0pTSGludCAtIC4nKTtcblFVbml0LnRlc3QoJ2RvbS1oZWxwZXIuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2RvbS1oZWxwZXIuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define('dom-helper/build-html-dom', ['exports'], function (exports) {
  /* global XMLSerializer:false */
  var svgHTMLIntegrationPoints = { foreignObject: 1, desc: 1, title: 1 };
  exports.svgHTMLIntegrationPoints = svgHTMLIntegrationPoints;
  var svgNamespace = 'http://www.w3.org/2000/svg';

  exports.svgNamespace = svgNamespace;
  var doc = typeof document === 'undefined' ? false : document;

  // Safari does not like using innerHTML on SVG HTML integration
  // points (desc/title/foreignObject).
  var needsIntegrationPointFix = doc && (function (document) {
    if (document.createElementNS === undefined) {
      return;
    }
    // In FF title will not accept innerHTML.
    var testEl = document.createElementNS(svgNamespace, 'title');
    testEl.innerHTML = "<div></div>";
    return testEl.childNodes.length === 0 || testEl.childNodes[0].nodeType !== 1;
  })(doc);

  // Internet Explorer prior to 9 does not allow setting innerHTML if the first element
  // is a "zero-scope" element. This problem can be worked around by making
  // the first node an invisible text node. We, like Modernizr, use &shy;
  var needsShy = doc && (function (document) {
    var testEl = document.createElement('div');
    testEl.innerHTML = "<div></div>";
    testEl.firstChild.innerHTML = "<script><\/script>";
    return testEl.firstChild.innerHTML === '';
  })(doc);

  // IE 8 (and likely earlier) likes to move whitespace preceeding
  // a script tag to appear after it. This means that we can
  // accidentally remove whitespace when updating a morph.
  var movesWhitespace = doc && (function (document) {
    var testEl = document.createElement('div');
    testEl.innerHTML = "Test: <script type='text/x-placeholder'><\/script>Value";
    return testEl.childNodes[0].nodeValue === 'Test:' && testEl.childNodes[2].nodeValue === ' Value';
  })(doc);

  var tagNamesRequiringInnerHTMLFix = doc && (function (document) {
    var tagNamesRequiringInnerHTMLFix;
    // IE 9 and earlier don't allow us to set innerHTML on col, colgroup, frameset,
    // html, style, table, tbody, tfoot, thead, title, tr. Detect this and add
    // them to an initial list of corrected tags.
    //
    // Here we are only dealing with the ones which can have child nodes.
    //
    var tableNeedsInnerHTMLFix;
    var tableInnerHTMLTestElement = document.createElement('table');
    try {
      tableInnerHTMLTestElement.innerHTML = '<tbody></tbody>';
    } catch (e) {} finally {
      tableNeedsInnerHTMLFix = tableInnerHTMLTestElement.childNodes.length === 0;
    }
    if (tableNeedsInnerHTMLFix) {
      tagNamesRequiringInnerHTMLFix = {
        colgroup: ['table'],
        table: [],
        tbody: ['table'],
        tfoot: ['table'],
        thead: ['table'],
        tr: ['table', 'tbody']
      };
    }

    // IE 8 doesn't allow setting innerHTML on a select tag. Detect this and
    // add it to the list of corrected tags.
    //
    var selectInnerHTMLTestElement = document.createElement('select');
    selectInnerHTMLTestElement.innerHTML = '<option></option>';
    if (!selectInnerHTMLTestElement.childNodes[0]) {
      tagNamesRequiringInnerHTMLFix = tagNamesRequiringInnerHTMLFix || {};
      tagNamesRequiringInnerHTMLFix.select = [];
    }
    return tagNamesRequiringInnerHTMLFix;
  })(doc);

  function scriptSafeInnerHTML(element, html) {
    // without a leading text node, IE will drop a leading script tag.
    html = '&shy;' + html;

    element.innerHTML = html;

    var nodes = element.childNodes;

    // Look for &shy; to remove it.
    var shyElement = nodes[0];
    while (shyElement.nodeType === 1 && !shyElement.nodeName) {
      shyElement = shyElement.firstChild;
    }
    // At this point it's the actual unicode character.
    if (shyElement.nodeType === 3 && shyElement.nodeValue.charAt(0) === "\u00AD") {
      var newValue = shyElement.nodeValue.slice(1);
      if (newValue.length) {
        shyElement.nodeValue = shyElement.nodeValue.slice(1);
      } else {
        shyElement.parentNode.removeChild(shyElement);
      }
    }

    return nodes;
  }

  function buildDOMWithFix(html, contextualElement) {
    var tagName = contextualElement.tagName;

    // Firefox versions < 11 do not have support for element.outerHTML.
    var outerHTML = contextualElement.outerHTML || new XMLSerializer().serializeToString(contextualElement);
    if (!outerHTML) {
      throw "Can't set innerHTML on " + tagName + " in this browser";
    }

    html = fixSelect(html, contextualElement);

    var wrappingTags = tagNamesRequiringInnerHTMLFix[tagName.toLowerCase()];

    var startTag = outerHTML.match(new RegExp("<" + tagName + "([^>]*)>", 'i'))[0];
    var endTag = '</' + tagName + '>';

    var wrappedHTML = [startTag, html, endTag];

    var i = wrappingTags.length;
    var wrappedDepth = 1 + i;
    while (i--) {
      wrappedHTML.unshift('<' + wrappingTags[i] + '>');
      wrappedHTML.push('</' + wrappingTags[i] + '>');
    }

    var wrapper = document.createElement('div');
    scriptSafeInnerHTML(wrapper, wrappedHTML.join(''));
    var element = wrapper;
    while (wrappedDepth--) {
      element = element.firstChild;
      while (element && element.nodeType !== 1) {
        element = element.nextSibling;
      }
    }
    while (element && element.tagName !== tagName) {
      element = element.nextSibling;
    }
    return element ? element.childNodes : [];
  }

  var buildDOM;
  if (needsShy) {
    buildDOM = function buildDOM(html, contextualElement, dom) {
      html = fixSelect(html, contextualElement);

      contextualElement = dom.cloneNode(contextualElement, false);
      scriptSafeInnerHTML(contextualElement, html);
      return contextualElement.childNodes;
    };
  } else {
    buildDOM = function buildDOM(html, contextualElement, dom) {
      html = fixSelect(html, contextualElement);

      contextualElement = dom.cloneNode(contextualElement, false);
      contextualElement.innerHTML = html;
      return contextualElement.childNodes;
    };
  }

  function fixSelect(html, contextualElement) {
    if (contextualElement.tagName === 'SELECT') {
      html = "<option></option>" + html;
    }

    return html;
  }

  var buildIESafeDOM;
  if (tagNamesRequiringInnerHTMLFix || movesWhitespace) {
    buildIESafeDOM = function buildIESafeDOM(html, contextualElement, dom) {
      // Make a list of the leading text on script nodes. Include
      // script tags without any whitespace for easier processing later.
      var spacesBefore = [];
      var spacesAfter = [];
      if (typeof html === 'string') {
        html = html.replace(/(\s*)(<script)/g, function (match, spaces, tag) {
          spacesBefore.push(spaces);
          return tag;
        });

        html = html.replace(/(<\/script>)(\s*)/g, function (match, tag, spaces) {
          spacesAfter.push(spaces);
          return tag;
        });
      }

      // Fetch nodes
      var nodes;
      if (tagNamesRequiringInnerHTMLFix[contextualElement.tagName.toLowerCase()]) {
        // buildDOMWithFix uses string wrappers for problematic innerHTML.
        nodes = buildDOMWithFix(html, contextualElement);
      } else {
        nodes = buildDOM(html, contextualElement, dom);
      }

      // Build a list of script tags, the nodes themselves will be
      // mutated as we add test nodes.
      var i, j, node, nodeScriptNodes;
      var scriptNodes = [];
      for (i = 0; i < nodes.length; i++) {
        node = nodes[i];
        if (node.nodeType !== 1) {
          continue;
        }
        if (node.tagName === 'SCRIPT') {
          scriptNodes.push(node);
        } else {
          nodeScriptNodes = node.getElementsByTagName('script');
          for (j = 0; j < nodeScriptNodes.length; j++) {
            scriptNodes.push(nodeScriptNodes[j]);
          }
        }
      }

      // Walk the script tags and put back their leading text nodes.
      var scriptNode, textNode, spaceBefore, spaceAfter;
      for (i = 0; i < scriptNodes.length; i++) {
        scriptNode = scriptNodes[i];
        spaceBefore = spacesBefore[i];
        if (spaceBefore && spaceBefore.length > 0) {
          textNode = dom.document.createTextNode(spaceBefore);
          scriptNode.parentNode.insertBefore(textNode, scriptNode);
        }

        spaceAfter = spacesAfter[i];
        if (spaceAfter && spaceAfter.length > 0) {
          textNode = dom.document.createTextNode(spaceAfter);
          scriptNode.parentNode.insertBefore(textNode, scriptNode.nextSibling);
        }
      }

      return nodes;
    };
  } else {
    buildIESafeDOM = buildDOM;
  }

  var buildHTMLDOM;
  if (needsIntegrationPointFix) {
    exports.buildHTMLDOM = buildHTMLDOM = function buildHTMLDOM(html, contextualElement, dom) {
      if (svgHTMLIntegrationPoints[contextualElement.tagName]) {
        return buildIESafeDOM(html, document.createElement('div'), dom);
      } else {
        return buildIESafeDOM(html, contextualElement, dom);
      }
    };
  } else {
    exports.buildHTMLDOM = buildHTMLDOM = buildIESafeDOM;
  }

  exports.buildHTMLDOM = buildHTMLDOM;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvbS1oZWxwZXIvYnVpbGQtaHRtbC1kb20uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDTyxNQUFJLHdCQUF3QixHQUFHLEVBQUMsYUFBYSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUMsQ0FBQzs7QUFDckUsTUFBSSxZQUFZLEdBQUcsNEJBQTRCLENBQUM7OztBQUV2RCxNQUFJLEdBQUcsR0FBRyxPQUFPLFFBQVEsS0FBSyxXQUFXLEdBQUcsS0FBSyxHQUFHLFFBQVEsQ0FBQzs7OztBQUk3RCxNQUFJLHdCQUF3QixHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVMsUUFBUSxFQUFFO0FBQ3hELFFBQUksUUFBUSxDQUFDLGVBQWUsS0FBSyxTQUFTLEVBQUU7QUFDMUMsYUFBTztLQUNSOztBQUVELFFBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxlQUFlLENBQUMsWUFBWSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQzdELFVBQU0sQ0FBQyxTQUFTLEdBQUcsYUFBYSxDQUFDO0FBQ2pDLFdBQU8sTUFBTSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQztHQUM5RSxDQUFBLENBQUUsR0FBRyxDQUFDLENBQUM7Ozs7O0FBS1IsTUFBSSxRQUFRLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBUyxRQUFRLEVBQUU7QUFDeEMsUUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUMzQyxVQUFNLENBQUMsU0FBUyxHQUFHLGFBQWEsQ0FBQztBQUNqQyxVQUFNLENBQUMsVUFBVSxDQUFDLFNBQVMsR0FBRyxvQkFBb0IsQ0FBQztBQUNuRCxXQUFPLE1BQU0sQ0FBQyxVQUFVLENBQUMsU0FBUyxLQUFLLEVBQUUsQ0FBQztHQUMzQyxDQUFBLENBQUUsR0FBRyxDQUFDLENB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LFlBQVksR0FIbEIsWUFBWSxHQUFHLGNBQWMsQ0FBQztHQUMvQjs7VUFFTyxZQUFZLEdBQVosWUFBWSIsImZpbGUiOiJkb20taGVscGVyL2J1aWxkLWh0bWwtZG9tLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIFhNTFNlcmlhbGl6ZXI6ZmFsc2UgKi9cbmV4cG9ydCB2YXIgc3ZnSFRNTEludGVncmF0aW9uUG9pbnRzID0ge2ZvcmVpZ25PYmplY3Q6IDEsIGRlc2M6IDEsIHRpdGxlOiAxfTtcbmV4cG9ydCB2YXIgc3ZnTmFtZXNwYWNlID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcblxudmFyIGRvYyA9IHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZSA6IGRvY3VtZW50O1xuXG4vLyBTYWZhcmkgZG9lcyBub3QgbGlrZSB1c2luZyBpbm5lckhUTUwgb24gU1ZHIEhUTUwgaW50ZWdyYXRpb25cbi8vIHBvaW50cyAoZGVzYy90aXRsZS9mb3JlaWduT2JqZWN0KS5cbnZhciBuZWVkc0ludGVncmF0aW9uUG9pbnRGaXggPSBkb2MgJiYgKGZ1bmN0aW9uKGRvY3VtZW50KSB7XG4gIGlmIChkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBJbiBGRiB0aXRsZSB3aWxsIG5vdCBhY2NlcHQgaW5uZXJIVE1MLlxuICB2YXIgdGVzdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05hbWVzcGFjZSwgJ3RpdGxlJyk7XG4gIHRlc3RFbC5pbm5lckhUTUwgPSBcIjxkaXY+PC9kaXY+XCI7XG4gIHJldHVybiB0ZXN0RWwuY2hpbGROb2Rlcy5sZW5ndGggPT09IDAgfHwgdGVzdEVsLmNoaWxkTm9kZXNbMF0ubm9kZVR5cGUgIT09IDE7XG59KShkb2MpO1xuXG4vLyBJbnRlcm5ldCBFeHBsb3JlciBwcmlvciB0byA5IGRvZXMgbm90IGFsbG93IHNldHRpbmcgaW5uZXJIVE1MIGlmIHRoZSBmaXJzdCBlbGVtZW50XG4vLyBpcyBhIFwiemVyby1zY29wZVwiIGVsZW1lbnQuIFRoaXMgcHJvYmxlbSBjYW4gYmUgd29ya2VkIGFyb3VuZCBieSBtYWtpbmdcbi8vIHRoZSBmaXJzdCBub2RlIGFuIGludmlzaWJsZSB0ZXh0IG5vZGUuIFdlLCBsaWtlIE1vZGVybml6ciwgdXNlICZzaHk7XG52YXIgbmVlZHNTaHkgPSBkb2MgJiYgKGZ1bmN0aW9uKGRvY3VtZW50KSB7XG4gIHZhciB0ZXN0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGVzdEVsLmlubmVySFRNTCA9IFwiPGRpdj48L2Rpdj5cIjtcbiAgdGVzdEVsLmZpcnN0Q2hpbGQuaW5uZXJIVE1MID0gXCI8c2NyaXB0PjxcXC9zY3JpcHQ+XCI7XG4gIHJldHVybiB0ZXN0RWwuZmlyc3RDaGlsZC5pbm5lckhUTUwgPT09ICcnO1xufSkoZG9jKTtcblxuLy8gSUUgOCAoYW5kIGxpa2VseSBlYXJsaWVyKSBsaWtlcyB0byBtb3ZlIHdoaXRlc3BhY2UgcHJlY2VlZGluZ1xuLy8gYSBzY3JpcHQgdGFnIHRvIGFwcGVhciBhZnRlciBpdC4gVGhpcyBtZWFucyB0aGF0IHdlIGNhblxuLy8gYWNjaWRlbnRhbGx5IHJlbW92ZSB3aGl0ZXNwYWNlIHdoZW4gdXBkYXRpbmcgYSBtb3JwaC5cbnZhciBtb3Zlc1doaXRlc3BhY2UgPSBkb2MgJiYgKGZ1bmN0aW9uKGRvY3VtZW50KSB7XG4gIHZhciB0ZXN0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGVzdEVsLmlubmVySFRNTCA9IFwiVGVzdDogPHNjcmlwdCB0eXBlPSd0ZXh0L3gtcGxhY2Vob2xkZXInPjxcXC9zY3JpcHQ+VmFsdWVcIjtcbiAgcmV0dXJuIHRlc3RFbC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSA9PT0gJ1Rlc3Q6JyAmJlxuICAgICAgICAgIHRlc3RFbC5jaGlsZE5vZGVzWzJdLm5vZGVWYWx1ZSA9PT0gJyBWYWx1ZSc7XG59KShkb2MpO1xuXG52YXIgdGFnTmFtZXNSZXF1aXJpbmdJbm5lckhUTUxGaXggPSBkb2MgJiYgKGZ1bmN0aW9uKGRvY3VtZW50KSB7XG4gIHZhciB0YWdOYW1lc1JlcXVpcmluZ0lubmVySFRNTEZpeDtcbiAgLy8gSUUgOSBhbmQgZWFybGllciBkb24ndCBhbGxvdyB1cyB0byBzZXQgaW5uZXJIVE1MIG9uIGNvbCwgY29sZ3JvdXAsIGZyYW1lc2V0LFxuICAvLyBodG1sLCBzdHlsZSwgdGFibGUsIHRib2R5LCB0Zm9vdCwgdGhlYWQsIHRpdGxlLCB0ci4gRGV0ZWN0IHRoaXMgYW5kIGFkZFxuICAvLyB0aGVtIHRvIGFuIGluaXRpYWwgbGlzdCBvZiBjb3JyZWN0ZWQgdGFncy5cbiAgLy9cbiAgLy8gSGVyZSB3ZSBhcmUgb25seSBkZWFsaW5nIHdpdGggdGhlIG9uZXMgd2hpY2ggY2FuIGhhdmUgY2hpbGQgbm9kZXMuXG4gIC8vXG4gIHZhciB0YWJsZU5lZWRzSW5uZXJIVE1MRml4O1xuICB2YXIgdGFibGVJbm5lckhUTUxUZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG4gIHRyeSB7XG4gICAgdGFibGVJbm5lckhUTUxUZXN0RWxlbWVudC5pbm5lckhUTUwgPSAnPHRib2R5PjwvdGJvZHk+JztcbiAgfSBjYXRjaCAoZSkge1xuICB9IGZpbmFsbHkge1xuICAgIHRhYmxlTmVlZHNJbm5lckhUTUxGaXggPSAodGFibGVJbm5lckhUTUxUZXN0RWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMCk7XG4gIH1cbiAgaWYgKHRhYmxlTmVlZHNJbm5lckhUTUxGaXgpIHtcbiAgICB0YWdOYW1lc1JlcXVpcmluZ0lubmVySFRNTEZpeCA9IHtcbiAgICAgIGNvbGdyb3VwOiBbJ3RhYmxlJ10sXG4gICAgICB0YWJsZTogW10sXG4gICAgICB0Ym9keTogWyd0YWJsZSddLFxuICAgICAgdGZvb3Q6IFsndGFibGUnXSxcbiAgICAgIHRoZWFkOiBbJ3RhYmxlJ10sXG4gICAgICB0cjogWyd0YWJsZScsICd0Ym9keSddXG4gICAgfTtcbiAgfVxuXG4gIC8vIElFIDggZG9lc24ndCBhbGxvdyBzZXR0aW5nIGlubmVySFRNTCBvbiBhIHNlbGVjdCB0YWcuIERldGVjdCB0aGlzIGFuZFxuICAvLyBhZGQgaXQgdG8gdGhlIGxpc3Qgb2YgY29ycmVjdGVkIHRhZ3MuXG4gIC8vXG4gIHZhciBzZWxlY3RJbm5lckhUTUxUZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICBzZWxlY3RJbm5lckhUTUxUZXN0RWxlbWVudC5pbm5lckhUTUwgPSAnPG9wdGlvbj48L29wdGlvbj4nO1xuICBpZiAoIXNlbGVjdElubmVySFRNTFRlc3RFbGVtZW50LmNoaWxkTm9kZXNbMF0pIHtcbiAgICB0YWdOYW1lc1JlcXVpcmluZ0lubmVySFRNTEZpeCA9IHRhZ05hbWVzUmVxdWlyaW5nSW5uZXJIVE1MRml4IHx8IHt9O1xuICAgIHRhZ05hbWVzUmVxdWlyaW5nSW5uZXJIVE1MRml4LnNlbGVjdCA9IFtdO1xuICB9XG4gIHJldHVybiB0YWdOYW1lc1JlcXVpcmluZ0lubmVySFRNTEZpeDtcbn0pKGRvYyk7XG5cbmZ1bmN0aW9uIHNjcmlwdFNhZmVJbm5lckhUTUwoZWxlbWVudCwgaHRtbCkge1xuICAvLyB3aXRob3V0IGEgbGVhZGluZyB0ZXh0IG5vZGUsIElFIHdpbGwgZHJvcCBhIGxlYWRpbmcgc2NyaXB0IHRhZy5cbiAgaHRtbCA9ICcmc2h5OycraHRtbDtcblxuICBlbGVtZW50LmlubmVySFRNTCA9IGh0bWw7XG5cbiAgdmFyIG5vZGVzID0gZWxlbWVudC5jaGlsZE5vZGVzO1xuXG4gIC8vIExvb2sgZm9yICZzaHk7IHRvIHJlbW92ZSBpdC5cbiAgdmFyIHNoeUVsZW1lbnQgPSBub2Rlc1swXTtcbiAgd2hpbGUgKHNoeUVsZW1lbnQubm9kZVR5cGUgPT09IDEgJiYgIXNoeUVsZW1lbnQubm9kZU5hbWUpIHtcbiAgICBzaHlFbGVtZW50ID0gc2h5RWxlbWVudC5maXJzdENoaWxkO1xuICB9XG4gIC8vIEF0IHRoaXMgcG9pbnQgaXQncyB0aGUgYWN0dWFsIHVuaWNvZGUgY2hhcmFjdGVyLlxuICBpZiAoc2h5RWxlbWVudC5ub2RlVHlwZSA9PT0gMyAmJiBzaHlFbGVtZW50Lm5vZGVWYWx1ZS5jaGFyQXQoMCkgPT09IFwiXFx1MDBBRFwiKSB7XG4gICAgdmFyIG5ld1ZhbHVlID0gc2h5RWxlbWVudC5ub2RlVmFsdWUuc2xpY2UoMSk7XG4gICAgaWYgKG5ld1ZhbHVlLmxlbmd0aCkge1xuICAgICAgc2h5RWxlbWVudC5ub2RlVmFsdWUgPSBzaHlFbGVtZW50Lm5vZGVWYWx1ZS5zbGljZSgxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2h5RWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNoeUVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBub2Rlcztcbn1cblxuZnVuY3Rpb24gYnVpbGRET01XaXRoRml4KGh0bWwsIGNvbnRleHR1YWxFbGVtZW50KXtcbiAgdmFyIHRhZ05hbWUgPSBjb250ZXh0dWFsRWxlbWVudC50YWdOYW1lO1xuXG4gIC8vIEZpcmVmb3ggdmVyc2lvbnMgPCAxMSBkbyBub3QgaGF2ZSBzdXBwb3J0IGZvciBlbGVtZW50Lm91dGVySFRNTC5cbiAgdmFyIG91dGVySFRNTCA9IGNvbnRleHR1YWxFbGVtZW50Lm91dGVySFRNTCB8fCBuZXcgWE1MU2VyaWFsaXplcigpLnNlcmlhbGl6ZVRvU3RyaW5nKGNvbnRleHR1YWxFbGVtZW50KTtcbiAgaWYgKCFvdXRlckhUTUwpIHtcbiAgICB0aHJvdyBcIkNhbid0IHNldCBpbm5lckhUTUwgb24gXCIrdGFnTmFtZStcIiBpbiB0aGlzIGJyb3dzZXJcIjtcbiAgfVxuXG4gIGh0bWwgPSBmaXhTZWxlY3QoaHRtbCwgY29udGV4dHVhbEVsZW1lbnQpO1xuXG4gIHZhciB3cmFwcGluZ1RhZ3MgPSB0YWdOYW1lc1JlcXVpcmluZ0lubmVySFRNTEZpeFt0YWdOYW1lLnRvTG93ZXJDYXNlKCldO1xuXG4gIHZhciBzdGFydFRhZyA9IG91dGVySFRNTC5tYXRjaChuZXcgUmVnRXhwKFwiPFwiK3RhZ05hbWUrXCIoW14+XSopPlwiLCAnaScpKVswXTtcbiAgdmFyIGVuZFRhZyA9ICc8LycrdGFnTmFtZSsnPic7XG5cbiAgdmFyIHdyYXBwZWRIVE1MID0gW3N0YXJ0VGFnLCBodG1sLCBlbmRUYWddO1xuXG4gIHZhciBpID0gd3JhcHBpbmdUYWdzLmxlbmd0aDtcbiAgdmFyIHdyYXBwZWREZXB0aCA9IDEgKyBpO1xuICB3aGlsZShpLS0pIHtcbiAgICB3cmFwcGVkSFRNTC51bnNoaWZ0KCc8Jyt3cmFwcGluZ1RhZ3NbaV0rJz4nKTtcbiAgICB3cmFwcGVkSFRNTC5wdXNoKCc8Lycrd3JhcHBpbmdUYWdzW2ldKyc+Jyk7XG4gIH1cblxuICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBzY3JpcHRTYWZlSW5uZXJIVE1MKHdyYXBwZXIsIHdyYXBwZWRIVE1MLmpvaW4oJycpKTtcbiAgdmFyIGVsZW1lbnQgPSB3cmFwcGVyO1xuICB3aGlsZSAod3JhcHBlZERlcHRoLS0pIHtcbiAgICBlbGVtZW50ID0gZWxlbWVudC5maXJzdENoaWxkO1xuICAgIHdoaWxlIChlbGVtZW50ICYmIGVsZW1lbnQubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm5leHRTaWJsaW5nO1xuICAgIH1cbiAgfVxuICB3aGlsZSAoZWxlbWVudCAmJiBlbGVtZW50LnRhZ05hbWUgIT09IHRhZ05hbWUpIHtcbiAgICBlbGVtZW50ID0gZWxlbWVudC5uZXh0U2libGluZztcbiAgfVxuICByZXR1cm4gZWxlbWVudCA/IGVsZW1lbnQuY2hpbGROb2RlcyA6IFtdO1xufVxuXG52YXIgYnVpbGRET007XG5pZiAobmVlZHNTaHkpIHtcbiAgYnVpbGRET00gPSBmdW5jdGlvbiBidWlsZERPTShodG1sLCBjb250ZXh0dWFsRWxlbWVudCwgZG9tKXtcbiAgICBodG1sID0gZml4U2VsZWN0KGh0bWwsIGNvbnRleHR1YWxFbGVtZW50KTtcblxuICAgIGNvbnRleHR1YWxFbGVtZW50ID0gZG9tLmNsb25lTm9kZShjb250ZXh0dWFsRWxlbWVudCwgZmFsc2UpO1xuICAgIHNjcmlwdFNhZmVJbm5lckhUTUwoY29udGV4dHVhbEVsZW1lbnQsIGh0bWwpO1xuICAgIHJldHVybiBjb250ZXh0dWFsRWxlbWVudC5jaGlsZE5vZGVzO1xuICB9O1xufSBlbHNlIHtcbiAgYnVpbGRET00gPSBmdW5jdGlvbiBidWlsZERPTShodG1sLCBjb250ZXh0dWFsRWxlbWVudCwgZG9tKXtcbiAgICBodG1sID0gZml4U2VsZWN0KGh0bWwsIGNvbnRleHR1YWxFbGVtZW50KTtcblxuICAgIGNvbnRleHR1YWxFbGVtZW50ID0gZG9tLmNsb25lTm9kZShjb250ZXh0dWFsRWxlbWVudCwgZmFsc2UpO1xuICAgIGNvbnRleHR1YWxFbGVtZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgcmV0dXJuIGNvbnRleHR1YWxFbGVtZW50LmNoaWxkTm9kZXM7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZpeFNlbGVjdChodG1sLCBjb250ZXh0dWFsRWxlbWVudCkge1xuICBpZiAoY29udGV4dHVhbEVsZW1lbnQudGFnTmFtZSA9PT0gJ1NFTEVDVCcpIHtcbiAgICBodG1sID0gXCI8b3B0aW9uPjwvb3B0aW9uPlwiICsgaHRtbDtcbiAgfVxuXG4gIHJldHVybiBodG1sO1xufVxuXG52YXIgYnVpbGRJRVNhZmVET007XG5pZiAodGFnTmFtZXNSZXF1aXJpbmdJbm5lckhUTUxGaXggfHwgbW92ZXNXaGl0ZXNwYWNlKSB7XG4gIGJ1aWxkSUVTYWZlRE9NID0gZnVuY3Rpb24gYnVpbGRJRVNhZmVET00oaHRtbCwgY29udGV4dHVhbEVsZW1lbnQsIGRvbSkge1xuICAgIC8vIE1ha2UgYSBsaXN0IG9mIHRoZSBsZWFkaW5nIHRleHQgb24gc2NyaXB0IG5vZGVzLiBJbmNsdWRlXG4gICAgLy8gc2NyaXB0IHRhZ3Mgd2l0aG91dCBhbnkgd2hpdGVzcGFjZSBmb3IgZWFzaWVyIHByb2Nlc3NpbmcgbGF0ZXIuXG4gICAgdmFyIHNwYWNlc0JlZm9yZSA9IFtdO1xuICAgIHZhciBzcGFjZXNBZnRlciA9IFtdO1xuICAgIGlmICh0eXBlb2YgaHRtbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLyhcXHMqKSg8c2NyaXB0KS9nLCBmdW5jdGlvbihtYXRjaCwgc3BhY2VzLCB0YWcpIHtcbiAgICAgICAgc3BhY2VzQmVmb3JlLnB1c2goc3BhY2VzKTtcbiAgICAgICAgcmV0dXJuIHRhZztcbiAgICAgIH0pO1xuXG4gICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC8oPFxcL3NjcmlwdD4pKFxccyopL2csIGZ1bmN0aW9uKG1hdGNoLCB0YWcsIHNwYWNlcykge1xuICAgICAgICBzcGFjZXNBZnRlci5wdXNoKHNwYWNlcyk7XG4gICAgICAgIHJldHVybiB0YWc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBGZXRjaCBub2Rlc1xuICAgIHZhciBub2RlcztcbiAgICBpZiAodGFnTmFtZXNSZXF1aXJpbmdJbm5lckhUTUxGaXhbY29udGV4dHVhbEVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpXSkge1xuICAgICAgLy8gYnVpbGRET01XaXRoRml4IHVzZXMgc3RyaW5nIHdyYXBwZXJzIGZvciBwcm9ibGVtYXRpYyBpbm5lckhUTUwuXG4gICAgICBub2RlcyA9IGJ1aWxkRE9NV2l0aEZpeChodG1sLCBjb250ZXh0dWFsRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGVzID0gYnVpbGRET00oaHRtbCwgY29udGV4dHVhbEVsZW1lbnQsIGRvbSk7XG4gICAgfVxuXG4gICAgLy8gQnVpbGQgYSBsaXN0IG9mIHNjcmlwdCB0YWdzLCB0aGUgbm9kZXMgdGhlbXNlbHZlcyB3aWxsIGJlXG4gICAgLy8gbXV0YXRlZCBhcyB3ZSBhZGQgdGVzdCBub2Rlcy5cbiAgICB2YXIgaSwgaiwgbm9kZSwgbm9kZVNjcmlwdE5vZGVzO1xuICAgIHZhciBzY3JpcHROb2RlcyA9IFtdO1xuICAgIGZvciAoaT0wO2k8bm9kZXMubGVuZ3RoO2krKykge1xuICAgICAgbm9kZT1ub2Rlc1tpXTtcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUudGFnTmFtZSA9PT0gJ1NDUklQVCcpIHtcbiAgICAgICAgc2NyaXB0Tm9kZXMucHVzaChub2RlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5vZGVTY3JpcHROb2RlcyA9IG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpO1xuICAgICAgICBmb3IgKGo9MDtqPG5vZGVTY3JpcHROb2Rlcy5sZW5ndGg7aisrKSB7XG4gICAgICAgICAgc2NyaXB0Tm9kZXMucHVzaChub2RlU2NyaXB0Tm9kZXNbal0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2FsayB0aGUgc2NyaXB0IHRhZ3MgYW5kIHB1dCBiYWNrIHRoZWlyIGxlYWRpbmcgdGV4dCBub2Rlcy5cbiAgICB2YXIgc2NyaXB0Tm9kZSwgdGV4dE5vZGUsIHNwYWNlQmVmb3JlLCBzcGFjZUFmdGVyO1xuICAgIGZvciAoaT0wO2k8c2NyaXB0Tm9kZXMubGVuZ3RoO2krKykge1xuICAgICAgc2NyaXB0Tm9kZSA9IHNjcmlwdE5vZGVzW2ldO1xuICAgICAgc3BhY2VCZWZvcmUgPSBzcGFjZXNCZWZvcmVbaV07XG4gICAgICBpZiAoc3BhY2VCZWZvcmUgJiYgc3BhY2VCZWZvcmUubGVuZ3RoID4gMCkge1xuICAgICAgICB0ZXh0Tm9kZSA9IGRvbS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzcGFjZUJlZm9yZSk7XG4gICAgICAgIHNjcmlwdE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGV4dE5vZGUsIHNjcmlwdE5vZGUpO1xuICAgICAgfVxuXG4gICAgICBzcGFjZUFmdGVyID0gc3BhY2VzQWZ0ZXJbaV07XG4gICAgICBpZiAoc3BhY2VBZnRlciAmJiBzcGFjZUFmdGVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGV4dE5vZGUgPSBkb20uZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3BhY2VBZnRlcik7XG4gICAgICAgIHNjcmlwdE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGV4dE5vZGUsIHNjcmlwdE5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2RlcztcbiAgfTtcbn0gZWxzZSB7XG4gIGJ1aWxkSUVTYWZlRE9NID0gYnVpbGRET007XG59XG5cbnZhciBidWlsZEhUTUxET007XG5pZiAobmVlZHNJbnRlZ3JhdGlvblBvaW50Rml4KSB7XG4gIGJ1aWxkSFRNTERPTSA9IGZ1bmN0aW9uIGJ1aWxkSFRNTERPTShodG1sLCBjb250ZXh0dWFsRWxlbWVudCwgZG9tKXtcbiAgICBpZiAoc3ZnSFRNTEludGVncmF0aW9uUG9pbnRzW2NvbnRleHR1YWxFbGVtZW50LnRhZ05hbWVdKSB7XG4gICAgICByZXR1cm4gYnVpbGRJRVNhZmVET00oaHRtbCwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksIGRvbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBidWlsZElFU2FmZURPTShodG1sLCBjb250ZXh0dWFsRWxlbWVudCwgZG9tKTtcbiAgICB9XG4gIH07XG59IGVsc2Uge1xuICBidWlsZEhUTUxET00gPSBidWlsZElFU2FmZURPTTtcbn1cblxuZXhwb3J0IHtidWlsZEhUTUxET019O1xuIl19
define('dom-helper/build-html-dom.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - dom-helper');
  QUnit.test('dom-helper/build-html-dom.js should pass jshint', function (assert) {
    assert.ok(true, 'dom-helper/build-html-dom.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvbS1oZWxwZXIvYnVpbGQtaHRtbC1kb20uanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLENBQUM7QUFDcEMsT0FBSyxDQUFDLElBQUksQ0FBQyxpREFBaUQsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUM3RSxVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxrREFBa0QsQ0FBQyxDQUFDO0dBQ3JFLENBQUMsQ0FBQyIsImZpbGUiOiJkb20taGVscGVyL2J1aWxkLWh0bWwtZG9tLmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gZG9tLWhlbHBlcicpO1xuUVVuaXQudGVzdCgnZG9tLWhlbHBlci9idWlsZC1odG1sLWRvbS5qcyBzaG91bGQgcGFzcyBqc2hpbnQnLCBmdW5jdGlvbihhc3NlcnQpIHsgXG4gIGFzc2VydC5vayh0cnVlLCAnZG9tLWhlbHBlci9idWlsZC1odG1sLWRvbS5qcyBzaG91bGQgcGFzcyBqc2hpbnQuJyk7IFxufSk7XG4iXX0=
define('dom-helper/classes', ['exports'], function (exports) {
  var doc = typeof document === 'undefined' ? false : document;

  // PhantomJS has a broken classList. See https://github.com/ariya/phantomjs/issues/12782
  var canClassList = doc && (function () {
    var d = document.createElement('div');
    if (!d.classList) {
      return false;
    }
    d.classList.add('boo');
    d.classList.add('boo', 'baz');
    return d.className === 'boo baz';
  })();

  function buildClassList(element) {
    var classString = element.getAttribute('class') || '';
    return classString !== '' && classString !== ' ' ? classString.split(' ') : [];
  }

  function intersect(containingArray, valuesArray) {
    var containingIndex = 0;
    var containingLength = containingArray.length;
    var valuesIndex = 0;
    var valuesLength = valuesArray.length;

    var intersection = new Array(valuesLength);

    // TODO: rewrite this loop in an optimal manner
    for (; containingIndex < containingLength; containingIndex++) {
      valuesIndex = 0;
      for (; valuesIndex < valuesLength; valuesIndex++) {
        if (valuesArray[valuesIndex] === containingArray[containingIndex]) {
          intersection[valuesIndex] = containingIndex;
          break;
        }
      }
    }

    return intersection;
  }

  function addClassesViaAttribute(element, classNames) {
    var existingClasses = buildClassList(element);

    var indexes = intersect(existingClasses, classNames);
    var didChange = false;

    for (var i = 0, l = classNames.length; i < l; i++) {
      if (indexes[i] === undefined) {
        didChange = true;
        existingClasses.push(classNames[i]);
      }
    }

    if (didChange) {
      element.setAttribute('class', existingClasses.length > 0 ? existingClasses.join(' ') : '');
    }
  }

  function removeClassesViaAttribute(element, classNames) {
    var existingClasses = buildClassList(element);

    var indexes = intersect(classNames, existingClasses);
    var didChange = false;
    var newClasses = [];

    for (var i = 0, l = existingClasses.length; i < l; i++) {
      if (indexes[i] === undefined) {
        newClasses.push(existingClasses[i]);
      } else {
        didChange = true;
      }
    }

    if (didChange) {
      element.setAttribute('class', newClasses.length > 0 ? newClasses.join(' ') : '');
    }
  }

  var addClasses, removeClasses;
  if (canClassList) {
    exports.addClasses = addClasses = function addClasses(element, classNames) {
      if (element.classList) {
        if (classNames.length === 1) {
          element.classList.add(classNames[0]);
        } else if (classNames.length === 2) {
          element.classList.add(classNames[0], classNames[1]);
        } else {
          element.classList.add.apply(element.classList, classNames);
        }
      } else {
        addClassesViaAttribute(element, classNames);
      }
    };
    exports.removeClasses = removeClasses = function removeClasses(element, classNames) {
      if (element.classList) {
        if (classNames.length === 1) {
          element.classList.remove(classNames[0]);
        } else if (classNames.length === 2) {
          element.classList.remove(classNames[0], classNames[1]);
        } else {
          element.classList.remove.apply(element.classList, classNames);
        }
      } else {
        removeClassesViaAttribute(element, classNames);
      }
    };
  } else {
    exports.addClasses = addClasses = addClassesViaAttribute;
    exports.removeClasses = removeClasses = removeClassesViaAttribute;
  }

  exports.addClasses = addClasses;
  exports.removeClasses = removeClasses;
});
//# sourceMappingURL=data:application/json;base64,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bHBlci9jbGFzc2VzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGRvYyA9IHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcgPyBmYWxzZSA6IGRvY3VtZW50O1xuXG4vLyBQaGFudG9tSlMgaGFzIGEgYnJva2VuIGNsYXNzTGlzdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hcml5YS9waGFudG9tanMvaXNzdWVzLzEyNzgyXG52YXIgY2FuQ2xhc3NMaXN0ID0gZG9jICYmIChmdW5jdGlvbigpe1xuICB2YXIgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpZiAoIWQuY2xhc3NMaXN0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGQuY2xhc3NMaXN0LmFkZCgnYm9vJyk7XG4gIGQuY2xhc3NMaXN0LmFkZCgnYm9vJywgJ2JheicpO1xuICByZXR1cm4gKGQuY2xhc3NOYW1lID09PSAnYm9vIGJheicpO1xufSkoKTtcblxuZnVuY3Rpb24gYnVpbGRDbGFzc0xpc3QoZWxlbWVudCkge1xuICB2YXIgY2xhc3NTdHJpbmcgPSAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpO1xuICByZXR1cm4gY2xhc3NTdHJpbmcgIT09ICcnICYmIGNsYXNzU3RyaW5nICE9PSAnICcgPyBjbGFzc1N0cmluZy5zcGxpdCgnICcpIDogW107XG59XG5cbmZ1bmN0aW9uIGludGVyc2VjdChjb250YWluaW5nQXJyYXksIHZhbHVlc0FycmF5KSB7XG4gIHZhciBjb250YWluaW5nSW5kZXggPSAwO1xuICB2YXIgY29udGFpbmluZ0xlbmd0aCA9IGNvbnRhaW5pbmdBcnJheS5sZW5ndGg7XG4gIHZhciB2YWx1ZXNJbmRleCA9IDA7XG4gIHZhciB2YWx1ZXNMZW5ndGggPSB2YWx1ZXNBcnJheS5sZW5ndGg7XG5cbiAgdmFyIGludGVyc2VjdGlvbiA9IG5ldyBBcnJheSh2YWx1ZXNMZW5ndGgpO1xuXG4gIC8vIFRPRE86IHJld3JpdGUgdGhpcyBsb29wIGluIGFuIG9wdGltYWwgbWFubmVyXG4gIGZvciAoO2NvbnRhaW5pbmdJbmRleDxjb250YWluaW5nTGVuZ3RoO2NvbnRhaW5pbmdJbmRleCsrKSB7XG4gICAgdmFsdWVzSW5kZXggPSAwO1xuICAgIGZvciAoO3ZhbHVlc0luZGV4PHZhbHVlc0xlbmd0aDt2YWx1ZXNJbmRleCsrKSB7XG4gICAgICBpZiAodmFsdWVzQXJyYXlbdmFsdWVzSW5kZXhdID09PSBjb250YWluaW5nQXJyYXlbY29udGFpbmluZ0luZGV4XSkge1xuICAgICAgICBpbnRlcnNlY3Rpb25bdmFsdWVzSW5kZXhdID0gY29udGFpbmluZ0luZGV4O1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gaW50ZXJzZWN0aW9uO1xufVxuXG5mdW5jdGlvbiBhZGRDbGFzc2VzVmlhQXR0cmlidXRlKGVsZW1lbnQsIGNsYXNzTmFtZXMpIHtcbiAgdmFyIGV4aXN0aW5nQ2xhc3NlcyA9IGJ1aWxkQ2xhc3NMaXN0KGVsZW1lbnQpO1xuXG4gIHZhciBpbmRleGVzID0gaW50ZXJzZWN0KGV4aXN0aW5nQ2xhc3NlcywgY2xhc3NOYW1lcyk7XG4gIHZhciBkaWRDaGFuZ2UgPSBmYWxzZTtcblxuICBmb3IgKHZhciBpPTAsIGw9Y2xhc3NOYW1lcy5sZW5ndGg7IGk8bDsgaSsrKSB7XG4gICAgaWYgKGluZGV4ZXNbaV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgZGlkQ2hhbmdlID0gdHJ1ZTtcbiAgICAgIGV4aXN0aW5nQ2xhc3Nlcy5wdXNoKGNsYXNzTmFtZXNbaV0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkaWRDaGFuZ2UpIHtcbiAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBleGlzdGluZ0NsYXNzZXMubGVuZ3RoID4gMCA/IGV4aXN0aW5nQ2xhc3Nlcy5qb2luKCcgJykgOiAnJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3Nlc1ZpYUF0dHJpYnV0ZShlbGVtZW50LCBjbGFzc05hbWVzKSB7XG4gIHZhciBleGlzdGluZ0NsYXNzZXMgPSBidWlsZENsYXNzTGlzdChlbGVtZW50KTtcblxuICB2YXIgaW5kZXhlcyA9IGludGVyc2VjdChjbGFzc05hbWVzLCBleGlzdGluZ0NsYXNzZXMpO1xuICB2YXIgZGlkQ2hhbmdlID0gZmFsc2U7XG4gIHZhciBuZXdDbGFzc2VzID0gW107XG5cbiAgZm9yICh2YXIgaT0wLCBsPWV4aXN0aW5nQ2xhc3Nlcy5sZW5ndGg7IGk8bDsgaSsrKSB7XG4gICAgaWYgKGluZGV4ZXNbaV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgbmV3Q2xhc3Nlcy5wdXNoKGV4aXN0aW5nQ2xhc3Nlc1tpXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpZENoYW5nZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRpZENoYW5nZSkge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIG5ld0NsYXNzZXMubGVuZ3RoID4gMCA/IG5ld0NsYXNzZXMuam9pbignICcpIDogJycpO1xuICB9XG59XG5cbnZhciBhZGRDbGFzc2VzLCByZW1vdmVDbGFzc2VzO1xuaWYgKGNhbkNsYXNzTGlzdCkge1xuICBhZGRDbGFzc2VzID0gZnVuY3Rpb24gYWRkQ2xhc3NlcyhlbGVtZW50LCBjbGFzc05hbWVzKSB7XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7XG4gICAgICBpZiAoY2xhc3NOYW1lcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZXNbMF0pO1xuICAgICAgfSBlbHNlIGlmIChjbGFzc05hbWVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lc1swXSwgY2xhc3NOYW1lc1sxXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQuYXBwbHkoZWxlbWVudC5jbGFzc0xpc3QsIGNsYXNzTmFtZXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBhZGRDbGFzc2VzVmlhQXR0cmlidXRlKGVsZW1lbnQsIGNsYXNzTmFtZXMpO1xuICAgIH1cbiAgfTtcbiAgcmVtb3ZlQ2xhc3NlcyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoZWxlbWVudCwgY2xhc3NOYW1lcykge1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkge1xuICAgICAgaWYgKGNsYXNzTmFtZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWVzWzBdKTtcbiAgICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lcy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZXNbMF0sIGNsYXNzTmFtZXNbMV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlLmFwcGx5KGVsZW1lbnQuY2xhc3NMaXN0LCBjbGFzc05hbWVzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlQ2xhc3Nlc1ZpYUF0dHJpYnV0ZShlbGVtZW50LCBjbGFzc05hbWVzKTtcbiAgICB9XG4gIH07XG59IGVsc2Uge1xuICBhZGRDbGFzc2VzID0gYWRkQ2xhc3Nlc1ZpYUF0dHJpYnV0ZTtcbiAgcmVtb3ZlQ2xhc3NlcyA9IHJlbW92ZUNsYXNzZXNWaWFBdHRyaWJ1dGU7XG59XG5cbmV4cG9ydCB7XG4gIGFkZENsYXNzZXMsXG4gIHJlbW92ZUNsYXNzZXNcbn07XG4iXX0=
define('dom-helper/classes.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - dom-helper');
  QUnit.test('dom-helper/classes.js should pass jshint', function (assert) {
    assert.ok(true, 'dom-helper/classes.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvbS1oZWxwZXIvY2xhc3Nlcy5qc2hpbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQUssQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUNwQyxPQUFLLENBQUMsSUFBSSxDQUFDLDBDQUEwQyxFQUFFLFVBQVMsTUFBTSxFQUFFO0FBQ3RFLFVBQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLDJDQUEyQyxDQUFDLENBQUM7R0FDOUQsQ0FBQyxDQUFDIiwiZmlsZSI6ImRvbS1oZWxwZXIvY2xhc3Nlcy5qc2hpbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJRVW5pdC5tb2R1bGUoJ0pTSGludCAtIGRvbS1oZWxwZXInKTtcblFVbml0LnRlc3QoJ2RvbS1oZWxwZXIvY2xhc3Nlcy5qcyBzaG91bGQgcGFzcyBqc2hpbnQnLCBmdW5jdGlvbihhc3NlcnQpIHsgXG4gIGFzc2VydC5vayh0cnVlLCAnZG9tLWhlbHBlci9jbGFzc2VzLmpzIHNob3VsZCBwYXNzIGpzaGludC4nKTsgXG59KTtcbiJdfQ==
define('dom-helper/prop', ['exports'], function (exports) {
  exports.isAttrRemovalValue = isAttrRemovalValue;
  exports.normalizeProperty = normalizeProperty;

  function isAttrRemovalValue(value) {
    return value === null || value === undefined;
  }

  /*
   *
   * @method normalizeProperty
   * @param element {HTMLElement}
   * @param slotName {String}
   * @returns {Object} { name, type }
   */

  function normalizeProperty(element, slotName) {
    var type, normalized;

    if (slotName in element) {
      normalized = slotName;
      type = 'prop';
    } else {
      var lower = slotName.toLowerCase();
      if (lower in element) {
        type = 'prop';
        normalized = lower;
      } else {
        type = 'attr';
        normalized = slotName;
      }
    }

    if (type === 'prop' && (normalized.toLowerCase() === 'style' || preferAttr(element.tagName, normalized))) {
      type = 'attr';
    }

    return { normalized: normalized, type: type };
  }

  // properties that MUST be set as attributes, due to:
  // * browser bug
  // * strange spec outlier
  var ATTR_OVERRIDES = {

    // phantomjs < 2.0 lets you set it as a prop but won't reflect it
    // back to the attribute. button.getAttribute('type') === null
    BUTTON: { type: true, form: true },

    INPUT: {
      // TODO: remove when IE8 is droped
      // Some versions of IE (IE8) throw an exception when setting
      // `input.list = 'somestring'`:
      // https://github.com/emberjs/ember.js/issues/10908
      // https://github.com/emberjs/ember.js/issues/11364
      list: true,
      // Some version of IE (like IE9) actually throw an exception
      // if you set input.type = 'something-unknown'
      type: true,
      form: true,
      // Chrome 46.0.2464.0: 'autocorrect' in document.createElement('input') === false
      // Safari 8.0.7: 'autocorrect' in document.createElement('input') === false
      // Mobile Safari (iOS 8.4 simulator): 'autocorrect' in document.createElement('input') === true
      autocorrect: true
    },

    // element.form is actually a legitimate readOnly property, that is to be
    // mutated, but must be mutated by setAttribute...
    SELECT: { form: true },
    OPTION: { form: true },
    TEXTAREA: { form: true },
    LABEL: { form: true },
    FIELDSET: { form: true },
    LEGEND: { form: true },
    OBJECT: { form: true }
  };

  function preferAttr(tagName, propName) {
    var tag = ATTR_OVERRIDES[tagName.toUpperCase()];
    return tag && tag[propName.toLowerCase()] || false;
  }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvbS1oZWxwZXIvcHJvcC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQU8sV0FBUyxrQkFBa0IsQ0FBQyxLQUFLLEVBQUU7QUFDeEMsV0FBTyxLQUFLLEtBQUssSUFBSSxJQUFJLEtBQUssS0FBSyxTQUFTLENBQUM7R0FDOUM7Ozs7Ozs7Ozs7QUFRTSxXQUFTLGlCQUFpQixDQUFDLE9BQU8sRUFBRSxRQUFRLEVBQUU7QUFDbkQsUUFBSSxJQUFJLEVBQUUsVUFBVSxDQUFDOztBQUVyQixRQUFJLFFBQVEsSUFBSSxPQUFPLEVBQUU7QUFDdkIsZ0JBQVUsR0FBRyxRQUFRLENBQUM7QUFDdEIsVUFBSSxHQUFHLE1BQU0sQ0FBQztLQUNmLE1BQU07QUFDTCxVQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUM7QUFDbkMsVUFBSSxLQUFLLElBQUksT0FBTyxFQUFFO0FBQ3BCLFlBQUksR0FBRyxNQUFNLENBQUM7QUFDZCxrQkFBVSxHQUFHLEtBQUssQ0FBQztPQUNwQixNQUFNO0FBQ0wsWUFBSSxHQUFHLE1BQU0sQ0FBQztBQUNkLGtCQUFVLEdBQUcsUUFBUSxDQUFDO09BQ3ZCO0tBQ0Y7O0FBRUQsUUFBSSxJQUFJLEtBQUssTUFBTSxLQUNkLFVBQVUsQ0FBQyxXQUFXLEVBQUUsS0FBSyxPQUFPLElBQ3BDLFVBQVUsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFBLEFBQUMsRUFBRTtBQUM3QyxVQUFJLEdBQUcsTUFBTSxDQUFDO0tBQ2Y7O0FBRUQsV0FBTyxFQUFFLFVBQVUsRUFBVixVQUFVLEVBQUUsSUFBSSxFQUFKLElBQUksRUFBRSxDQUFDO0dBQzdCOzs7OztBQUtELE1BQUksY0FBYyxHQUFHOzs7O0FBSW5CLFVBQU0sRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTs7QUFFbEMsU0FBSyxFQUFFOzs7Ozs7QUFNTCxVQUFJLEVBQUUsSUFBSTs7O0FBR1YsVUFBSSxFQUFFLElBQUk7QUFDVixVQUFJLEVBQUUsSUFBSTs7OztBQUlWLGlCQUFXLEVBQUUsSUFBSTtLQUNsQjs7OztBQUlELFVBQU0sRUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7QUFDeEIsVUFBTSxFQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtBQUN4QixZQUFRLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQ3hCLFNBQUssRUFBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7QUFDeEIsWUFBUSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRTtBQUN4QixVQUFNLEVBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFO0FBQ3hCLFVBQU0sRUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUU7R0FDekIsQ0FBQzs7QUFFRixXQUFTLFVBQVUsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFO0FBQ3JDLFFBQUksR0FBRyxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQztBQUNoRCxXQUFPLEdBQUcsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUksS0FBSyxDQUFDO0dBQ3BEIiwiZmlsZSI6ImRvbS1oZWxwZXIvcHJvcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc0F0dHJSZW1vdmFsVmFsdWUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQ7XG59XG4vKlxuICpcbiAqIEBtZXRob2Qgbm9ybWFsaXplUHJvcGVydHlcbiAqIEBwYXJhbSBlbGVtZW50IHtIVE1MRWxlbWVudH1cbiAqIEBwYXJhbSBzbG90TmFtZSB7U3RyaW5nfVxuICogQHJldHVybnMge09iamVjdH0geyBuYW1lLCB0eXBlIH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVByb3BlcnR5KGVsZW1lbnQsIHNsb3ROYW1lKSB7XG4gIHZhciB0eXBlLCBub3JtYWxpemVkO1xuXG4gIGlmIChzbG90TmFtZSBpbiBlbGVtZW50KSB7XG4gICAgbm9ybWFsaXplZCA9IHNsb3ROYW1lO1xuICAgIHR5cGUgPSAncHJvcCc7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxvd2VyID0gc2xvdE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAobG93ZXIgaW4gZWxlbWVudCkge1xuICAgICAgdHlwZSA9ICdwcm9wJztcbiAgICAgIG5vcm1hbGl6ZWQgPSBsb3dlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9ICdhdHRyJztcbiAgICAgIG5vcm1hbGl6ZWQgPSBzbG90TmFtZTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZSA9PT0gJ3Byb3AnICYmXG4gICAgICAobm9ybWFsaXplZC50b0xvd2VyQ2FzZSgpID09PSAnc3R5bGUnIHx8XG4gICAgICAgcHJlZmVyQXR0cihlbGVtZW50LnRhZ05hbWUsIG5vcm1hbGl6ZWQpKSkge1xuICAgIHR5cGUgPSAnYXR0cic7XG4gIH1cblxuICByZXR1cm4geyBub3JtYWxpemVkLCB0eXBlIH07XG59XG5cbi8vIHByb3BlcnRpZXMgdGhhdCBNVVNUIGJlIHNldCBhcyBhdHRyaWJ1dGVzLCBkdWUgdG86XG4vLyAqIGJyb3dzZXIgYnVnXG4vLyAqIHN0cmFuZ2Ugc3BlYyBvdXRsaWVyXG52YXIgQVRUUl9PVkVSUklERVMgPSB7XG5cbiAgLy8gcGhhbnRvbWpzIDwgMi4wIGxldHMgeW91IHNldCBpdCBhcyBhIHByb3AgYnV0IHdvbid0IHJlZmxlY3QgaXRcbiAgLy8gYmFjayB0byB0aGUgYXR0cmlidXRlLiBidXR0b24uZ2V0QXR0cmlidXRlKCd0eXBlJykgPT09IG51bGxcbiAgQlVUVE9OOiB7IHR5cGU6IHRydWUsIGZvcm06IHRydWUgfSxcblxuICBJTlBVVDoge1xuICAgIC8vIFRPRE86IHJlbW92ZSB3aGVuIElFOCBpcyBkcm9wZWRcbiAgICAvLyBTb21lIHZlcnNpb25zIG9mIElFIChJRTgpIHRocm93IGFuIGV4Y2VwdGlvbiB3aGVuIHNldHRpbmdcbiAgICAvLyBgaW5wdXQubGlzdCA9ICdzb21lc3RyaW5nJ2A6XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2VtYmVyanMvZW1iZXIuanMvaXNzdWVzLzEwOTA4XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2VtYmVyanMvZW1iZXIuanMvaXNzdWVzLzExMzY0XG4gICAgbGlzdDogdHJ1ZSxcbiAgICAvLyBTb21lIHZlcnNpb24gb2YgSUUgKGxpa2UgSUU5KSBhY3R1YWxseSB0aHJvdyBhbiBleGNlcHRpb25cbiAgICAvLyBpZiB5b3Ugc2V0IGlucHV0LnR5cGUgPSAnc29tZXRoaW5nLXVua25vd24nXG4gICAgdHlwZTogdHJ1ZSxcbiAgICBmb3JtOiB0cnVlLFxuICAgIC8vIENocm9tZSA0Ni4wLjI0NjQuMDogJ2F1dG9jb3JyZWN0JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpID09PSBmYWxzZVxuICAgIC8vIFNhZmFyaSA4LjAuNzogJ2F1dG9jb3JyZWN0JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpID09PSBmYWxzZVxuICAgIC8vIE1vYmlsZSBTYWZhcmkgKGlPUyA4LjQgc2ltdWxhdG9yKTogJ2F1dG9jb3JyZWN0JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpID09PSB0cnVlXG4gICAgYXV0b2NvcnJlY3Q6IHRydWVcbiAgfSxcblxuICAvLyBlbGVtZW50LmZvcm0gaXMgYWN0dWFsbHkgYSBsZWdpdGltYXRlIHJlYWRPbmx5IHByb3BlcnR5LCB0aGF0IGlzIHRvIGJlXG4gIC8vIG11dGF0ZWQsIGJ1dCBtdXN0IGJlIG11dGF0ZWQgYnkgc2V0QXR0cmlidXRlLi4uXG4gIFNFTEVDVDogICB7IGZvcm06IHRydWUgfSxcbiAgT1BUSU9OOiAgIHsgZm9ybTogdHJ1ZSB9LFxuICBURVhUQVJFQTogeyBmb3JtOiB0cnVlIH0sXG4gIExBQkVMOiAgICB7IGZvcm06IHRydWUgfSxcbiAgRklFTERTRVQ6IHsgZm9ybTogdHJ1ZSB9LFxuICBMRUdFTkQ6ICAgeyBmb3JtOiB0cnVlIH0sXG4gIE9CSkVDVDogICB7IGZvcm06IHRydWUgfVxufTtcblxuZnVuY3Rpb24gcHJlZmVyQXR0cih0YWdOYW1lLCBwcm9wTmFtZSkge1xuICB2YXIgdGFnID0gQVRUUl9PVkVSUklERVNbdGFnTmFtZS50b1VwcGVyQ2FzZSgpXTtcbiAgcmV0dXJuIHRhZyAmJiB0YWdbcHJvcE5hbWUudG9Mb3dlckNhc2UoKV0gfHwgZmFsc2U7XG59XG4iXX0=
define('dom-helper/prop.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - dom-helper');
  QUnit.test('dom-helper/prop.js should pass jshint', function (assert) {
    assert.ok(true, 'dom-helper/prop.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRvbS1oZWxwZXIvcHJvcC5qc2hpbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQUssQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQztBQUNwQyxPQUFLLENBQUMsSUFBSSxDQUFDLHVDQUF1QyxFQUFFLFVBQVMsTUFBTSxFQUFFO0FBQ25FLFVBQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLHdDQUF3QyxDQUFDLENBQUM7R0FDM0QsQ0FBQyxDQUFDIiwiZmlsZSI6ImRvbS1oZWxwZXIvcHJvcC5qc2hpbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJRVW5pdC5tb2R1bGUoJ0pTSGludCAtIGRvbS1oZWxwZXInKTtcblFVbml0LnRlc3QoJ2RvbS1oZWxwZXIvcHJvcC5qcyBzaG91bGQgcGFzcyBqc2hpbnQnLCBmdW5jdGlvbihhc3NlcnQpIHsgXG4gIGFzc2VydC5vayh0cnVlLCAnZG9tLWhlbHBlci9wcm9wLmpzIHNob3VsZCBwYXNzIGpzaGludC4nKTsgXG59KTtcbiJdfQ==
define('htmlbars-compiler-tests/compile-tests', ['exports', '../htmlbars-compiler/compiler'], function (exports, _htmlbarsCompilerCompiler) {

  QUnit.module('compile: buildMeta');

  test('is merged into meta in template', function () {
    var template = _htmlbarsCompilerCompiler.compile('Hi, {{name}}!', {
      buildMeta: function () {
        return { blah: 'zorz' };
      }
    });

    equal(template.meta.blah, 'zorz', 'return value from buildMeta was pass through');
  });

  test('the program is passed to the callback function', function () {
    var template = _htmlbarsCompilerCompiler.compile('Hi, {{name}}!', {
      buildMeta: function (program) {
        return { loc: program.loc };
      }
    });

    equal(template.meta.loc.start.line, 1, 'the loc was passed through from program');
  });

  test('value keys are properly stringified', function () {
    var template = _htmlbarsCompilerCompiler.compile('Hi, {{name}}!', {
      buildMeta: function () {
        return { 'loc-derp.lol': 'zorz' };
      }
    });

    equal(template.meta['loc-derp.lol'], 'zorz', 'return value from buildMeta was pass through');
  });

  test('returning undefined does not throw errors', function () {
    var template = _htmlbarsCompilerCompiler.compile('Hi, {{name}}!', {
      buildMeta: function () {
        return;
      }
    });

    ok(template.meta, 'meta is present in template, even if empty');
  });

  test('options are not required for `compile`', function () {
    var template = _htmlbarsCompilerCompiler.compile('Hi, {{name}}!');

    ok(template.meta, 'meta is present in template, even if empty');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2NvbXBpbGUtdGVzdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQSxPQUFLLENBQUMsTUFBTSxDQUFDLG9CQUFvQixDQUFDLENBQUM7O0FBRW5DLE1BQUksQ0FBQyxpQ0FBaUMsRUFBRSxZQUFXO0FBQ2pELFFBQUksUUFBUSxHQUFHLDBCQUxSLE9BQU8sQ0FLUyxlQUFlLEVBQUU7QUFDdEMsZUFBUyxFQUFFLFlBQVc7QUFDcEIsZUFBTyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQztPQUN6QjtLQUNGLENBQUMsQ0FBQzs7QUFFSCxTQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLDhDQUE4QyxDQUFDLENBQUM7R0FDbkYsQ0FBQyxDQUFDOztBQUVILE1BQUksQ0FBQyxnREFBZ0QsRUFBRSxZQUFXO0FBQ2hFLFFBQUksUUFBUSxHQUFHLDBCQWZSLE9BQU8sQ0FlUyxlQUFlLEVBQUU7QUFDdEMsZUFBUyxFQUFFLFVBQVMsT0FBTyxFQUFFO0FBQzNCLGVBQU8sRUFBRSxHQUFHLEVBQUUsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDO09BQzdCO0tBQ0YsQ0FBQyxDQUFDOztBQUVILFNBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSx5Q0FBeUMsQ0FBQyxDQUFDO0dBQ25GLENBQUMsQ0FBQzs7QUFFSCxNQUFJLENBQUMscUNBQXFDLEVBQUUsWUFBVztBQUNyRCxRQUFJLFFBQVEsR0FBRywwQkF6QlIsT0FBTyxDQXlCUyxlQUFlLEVBQUU7QUFDdEMsZUFBUyxFQUFFLFlBQVc7QUFDcEIsZUFBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLEVBQUUsQ0FBQztPQUNuQztLQUNGLENBQUMsQ0FBQzs7QUFFSCxTQUFLLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBRSxNQUFNLEVBQUUsOENBQThDLENBQUMsQ0FBQztHQUM5RixDQUFDLENBQUM7O0FBRUgsTUFBSSxDQUFDLDJDQUEyQyxFQUFFLFlBQVk7QUFDNUQsUUFBSSxRQUFRLEdBQUcsMEJBbkNSLE9BQU8sQ0FtQ1MsZUFBZSxFQUFFO0FBQ3RDLGVBQVMsRUFBRSxZQUFXO0FBQ3BCLGVBQU87T0FDUjtLQUNGLENBQUMsQ0FBQzs7QUFFSCxNQUFFLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSw0Q0FBNEMsQ0FBQyxDQUFDO0dBQ2pFLENBQUMsQ0FBQzs7QUFFSCxNQUFJLENBQUMsd0NBQXdDLEVBQUUsWUFBWTtBQUN6RCxRQUFJLFFBQVEsR0FBRywwQkE3Q1IsT0FBTyxDQTZDUyxlQUFlLENBQUMsQ0FBQzs7QUFFeEMsTUFBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsNENBQTRDLENBQUMsQ0FBQztHQUNqRSxDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvY29tcGlsZS10ZXN0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXBpbGUgfSBmcm9tIFwiLi4vaHRtbGJhcnMtY29tcGlsZXIvY29tcGlsZXJcIjtcblxuUVVuaXQubW9kdWxlKCdjb21waWxlOiBidWlsZE1ldGEnKTtcblxudGVzdCgnaXMgbWVyZ2VkIGludG8gbWV0YSBpbiB0ZW1wbGF0ZScsIGZ1bmN0aW9uKCkge1xuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKCdIaSwge3tuYW1lfX0hJywge1xuICAgIGJ1aWxkTWV0YTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4geyBibGFoOiAnem9yeicgfTtcbiAgICB9XG4gIH0pO1xuXG4gIGVxdWFsKHRlbXBsYXRlLm1ldGEuYmxhaCwgJ3pvcnonLCAncmV0dXJuIHZhbHVlIGZyb20gYnVpbGRNZXRhIHdhcyBwYXNzIHRocm91Z2gnKTtcbn0pO1xuXG50ZXN0KCd0aGUgcHJvZ3JhbSBpcyBwYXNzZWQgdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uJywgZnVuY3Rpb24oKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJ0hpLCB7e25hbWV9fSEnLCB7XG4gICAgYnVpbGRNZXRhOiBmdW5jdGlvbihwcm9ncmFtKSB7XG4gICAgICByZXR1cm4geyBsb2M6IHByb2dyYW0ubG9jIH07XG4gICAgfVxuICB9KTtcblxuICBlcXVhbCh0ZW1wbGF0ZS5tZXRhLmxvYy5zdGFydC5saW5lLCAxLCAndGhlIGxvYyB3YXMgcGFzc2VkIHRocm91Z2ggZnJvbSBwcm9ncmFtJyk7XG59KTtcblxudGVzdCgndmFsdWUga2V5cyBhcmUgcHJvcGVybHkgc3RyaW5naWZpZWQnLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZSgnSGksIHt7bmFtZX19IScsIHtcbiAgICBidWlsZE1ldGE6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHsgJ2xvYy1kZXJwLmxvbCc6ICd6b3J6JyB9O1xuICAgIH1cbiAgfSk7XG5cbiAgZXF1YWwodGVtcGxhdGUubWV0YVsnbG9jLWRlcnAubG9sJ10sICd6b3J6JywgJ3JldHVybiB2YWx1ZSBmcm9tIGJ1aWxkTWV0YSB3YXMgcGFzcyB0aHJvdWdoJyk7XG59KTtcblxudGVzdCgncmV0dXJuaW5nIHVuZGVmaW5lZCBkb2VzIG5vdCB0aHJvdyBlcnJvcnMnLCBmdW5jdGlvbiAoKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJ0hpLCB7e25hbWV9fSEnLCB7XG4gICAgYnVpbGRNZXRhOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0pO1xuXG4gIG9rKHRlbXBsYXRlLm1ldGEsICdtZXRhIGlzIHByZXNlbnQgaW4gdGVtcGxhdGUsIGV2ZW4gaWYgZW1wdHknKTtcbn0pO1xuXG50ZXN0KCdvcHRpb25zIGFyZSBub3QgcmVxdWlyZWQgZm9yIGBjb21waWxlYCcsIGZ1bmN0aW9uICgpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZSgnSGksIHt7bmFtZX19IScpO1xuXG4gIG9rKHRlbXBsYXRlLm1ldGEsICdtZXRhIGlzIHByZXNlbnQgaW4gdGVtcGxhdGUsIGV2ZW4gaWYgZW1wdHknKTtcbn0pO1xuIl19
define('htmlbars-compiler-tests/compile-tests.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests');
  QUnit.test('htmlbars-compiler-tests/compile-tests.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/compile-tests.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2NvbXBpbGUtdGVzdHMuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLGtDQUFrQyxDQUFDLENBQUM7QUFDakQsT0FBSyxDQUFDLElBQUksQ0FBQyw2REFBNkQsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUN6RixVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSw4REFBOEQsQ0FBQyxDQUFDO0dBQ2pGLENBQUMsQ0FBQyIsImZpbGUiOiJodG1sYmFycy1jb21waWxlci10ZXN0cy9jb21waWxlLXRlc3RzLmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gaHRtbGJhcnMtY29tcGlsZXItdGVzdHMnKTtcblFVbml0LnRlc3QoJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2NvbXBpbGUtdGVzdHMuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2NvbXBpbGUtdGVzdHMuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define("htmlbars-compiler-tests/diffing-test", ["exports", "../htmlbars-compiler/compiler", "../htmlbars-runtime/hooks", "../htmlbars-util/object-utils", "../dom-helper", "../htmlbars-test-helpers"], function (exports, _htmlbarsCompilerCompiler, _htmlbarsRuntimeHooks, _htmlbarsUtilObjectUtils, _domHelper, _htmlbarsTestHelpers) {

  var hooks, helpers, partials, env;

  function registerHelper(name, callback) {
    helpers[name] = callback;
  }

  function commonSetup() {
    hooks = _htmlbarsUtilObjectUtils.merge({}, _htmlbarsRuntimeHooks.default);
    hooks.keywords = _htmlbarsUtilObjectUtils.merge({}, _htmlbarsRuntimeHooks.default.keywords);
    helpers = {};
    partials = {};

    env = {
      dom: new _domHelper.default(),
      hooks: hooks,
      helpers: helpers,
      partials: partials,
      useFragmentCache: true
    };

    registerHelper('each', function (params) {
      var list = params[0];

      for (var i = 0, l = list.length; i < l; i++) {
        var item = list[i];
        if (this.arity > 0) {
          this.yieldItem(item.key, [item]);
        }
      }
    });
  }

  QUnit.module("Diffing", {
    beforeEach: commonSetup
  });

  test("Morph order is preserved when rerendering with duplicate keys", function () {
    var template = _htmlbarsCompilerCompiler.compile("<ul>{{#each items as |item|}}<li>{{item.name}}</li>{{/each}}</ul>");

    var a1 = { key: "a", name: "A1" };
    var a2 = { key: "a", name: "A2" };
    var b1 = { key: "b", name: "B1" };
    var b2 = { key: "b", name: "B2" };

    var result = template.render({ items: [a1, a2, b1, b2] }, env);
    _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li>A1</li><li>A2</li><li>B1</li><li>B2</li></ul>");

    var morph = result.nodes[0].morphList.firstChildMorph;
    morph.getState().initialName = 'A1';
    morph.nextMorph.getState().initialName = 'A2';
    morph.nextMorph.nextMorph.getState().initialName = 'B1';
    morph.nextMorph.nextMorph.nextMorph.getState().initialName = 'B2';

    function getNames() {
      var names = [];
      var morph = result.nodes[0].morphList.firstChildMorph;

      while (morph) {
        names.push(morph.getState().initialName);
        morph = morph.nextMorph;
      }

      return names;
    }

    result.rerender(env, { items: [a1, b2, b1, a2] });

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li>A1</li><li>B2</li><li>B1</li><li>A2</li></ul>");
    deepEqual(getNames(), ['A1', 'B1', 'B2', 'A2']);

    result.rerender(env, { items: [b1, a2] });

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li>B1</li><li>A2</li></ul>");
    deepEqual(getNames(), ['B1', 'A1']);
  });

  test("duplicate keys are allowed when duplicate is last morph", function () {
    var template = _htmlbarsCompilerCompiler.compile("<ul>{{#each items as |item|}}<li>{{item.name}}</li>{{/each}}</ul>");

    var a1 = { key: "a", name: "A1" };
    var a2 = { key: "a", name: "A2" };

    var result = template.render({ items: [] }, env);

    result.rerender(env, { items: [a1] });
    _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li>A1</li></ul>");

    result.rerender(env, { items: [a1, a2] });
    _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li>A1</li><li>A2</li></ul>");
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2RpZmZpbmctdGVzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU1BLE1BQUksS0FBSyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsR0FBRyxDQUFDOztBQUVsQyxXQUFTLGNBQWMsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFO0FBQ3RDLFdBQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUM7R0FDMUI7O0FBRUQsV0FBUyxXQUFXLEdBQUc7QUFDckIsU0FBSyxHQUFHLHlCQVhELEtBQUssQ0FXRSxFQUFFLGdDQUFlLENBQUM7QUFDaEMsU0FBSyxDQUFDLFFBQVEsR0FBRyx5QkFaVixLQUFLLENBWVcsRUFBRSxFQUFFLDhCQUFhLFFBQVEsQ0FBQyxDQUFDO0FBQ2xELFdBQU8sR0FBRyxFQUFFLENBQUM7QUFDYixZQUFRLEdBQUcsRUFBRSxDQUFDOztBQUVkLE9BQUcsR0FBRztBQUNKLFNBQUcsRUFBRSx3QkFBZTtBQUNwQixXQUFLLEVBQUUsS0FBSztBQUNaLGFBQU8sRUFBRSxPQUFPO0FBQ2hCLGNBQVEsRUFBRSxRQUFRO0FBQ2xCLHNCQUFnQixFQUFFLElBQUk7S0FDdkIsQ0FBQzs7QUFFRixrQkFBYyxDQUFDLE1BQU0sRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUN0QyxVQUFJLElBQUksR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7O0FBRXJCLFdBQUssSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDckMsWUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25CLFlBQUksSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLEVBQUU7QUFDbEIsY0FBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMs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QUFHLDBCQXBGUixPQUFPLHFFQW9GNkUsQ0FBQzs7QUFFNUYsUUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUNsQyxRQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDOztBQUVsQyxRQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUcsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDOztBQUVsRCxVQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxFQUFFLEtBQUssRUFBRSxDQUFFLEVBQUUsQ0FBRSxFQUFFLENBQUMsQ0FBQztBQUN4Qyx5QkF4Rk8sV0FBVyxDQXdGTixNQUFNLENBQUMsUUFBUSx5QkFBeUIsQ0FBQzs7QUFFckQsVUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzFDLHlCQTNGTyxXQUFXLENBMkZOLE1BQU0sQ0FBQyxRQUFRLG9DQUFvQyxDQUFDO0dBQ2pFLENBQUMsQ0FBQyIsImZpbGUiOiJodG1sYmFycy1jb21waWxlci10ZXN0cy9kaWZmaW5nLXRlc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21waWxlIH0gZnJvbSBcIi4uL2h0bWxiYXJzLWNvbXBpbGVyL2NvbXBpbGVyXCI7XG5pbXBvcnQgZGVmYXVsdEhvb2tzIGZyb20gXCIuLi9odG1sYmFycy1ydW50aW1lL2hvb2tzXCI7XG5pbXBvcnQgeyBtZXJnZSB9IGZyb20gXCIuLi9odG1sYmFycy11dGlsL29iamVjdC11dGlsc1wiO1xuaW1wb3J0IERPTUhlbHBlciBmcm9tIFwiLi4vZG9tLWhlbHBlclwiO1xuaW1wb3J0IHsgZXF1YWxUb2tlbnMgfSBmcm9tIFwiLi4vaHRtbGJhcnMtdGVzdC1oZWxwZXJzXCI7XG5cbnZhciBob29rcywgaGVscGVycywgcGFydGlhbHMsIGVudjtcblxuZnVuY3Rpb24gcmVnaXN0ZXJIZWxwZXIobmFtZSwgY2FsbGJhY2spIHtcbiAgaGVscGVyc1tuYW1lXSA9IGNhbGxiYWNrO1xufVxuXG5mdW5jdGlvbiBjb21tb25TZXR1cCgpIHtcbiAgaG9va3MgPSBtZXJnZSh7fSwgZGVmYXVsdEhvb2tzKTtcbiAgaG9va3Mua2V5d29yZHMgPSBtZXJnZSh7fSwgZGVmYXVsdEhvb2tzLmtleXdvcmRzKTtcbiAgaGVscGVycyA9IHt9O1xuICBwYXJ0aWFscyA9IHt9O1xuXG4gIGVudiA9IHtcbiAgICBkb206IG5ldyBET01IZWxwZXIoKSxcbiAgICBob29rczogaG9va3MsXG4gICAgaGVscGVyczogaGVscGVycyxcbiAgICBwYXJ0aWFsczogcGFydGlhbHMsXG4gICAgdXNlRnJhZ21lbnRDYWNoZTogdHJ1ZVxuICB9O1xuXG4gIHJlZ2lzdGVySGVscGVyKCdlYWNoJywgZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgdmFyIGxpc3QgPSBwYXJhbXNbMF07XG5cbiAgICBmb3IgKHZhciBpPTAsIGw9bGlzdC5sZW5ndGg7IGk8bDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgICBpZiAodGhpcy5hcml0eSA+IDApIHtcbiAgICAgICAgdGhpcy55aWVsZEl0ZW0oaXRlbS5rZXksIFtpdGVtXSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxufVxuXG5RVW5pdC5tb2R1bGUoXCJEaWZmaW5nXCIsIHtcbiAgYmVmb3JlRWFjaDogY29tbW9uU2V0dXBcbn0pO1xuXG50ZXN0KFwiTW9ycGggb3JkZXIgaXMgcHJlc2VydmVkIHdoZW4gcmVyZW5kZXJpbmcgd2l0aCBkdXBsaWNhdGUga2V5c1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShgPHVsPnt7I2VhY2ggaXRlbXMgYXMgfGl0ZW18fX08bGk+e3tpdGVtLm5hbWV9fTwvbGk+e3svZWFjaH19PC91bD5gKTtcblxuICBsZXQgYTEgPSB7IGtleTogXCJhXCIsIG5hbWU6IFwiQTFcIiB9O1xuICBsZXQgYTIgPSB7IGtleTogXCJhXCIsIG5hbWU6IFwiQTJcIiB9O1xuICBsZXQgYjEgPSB7IGtleTogXCJiXCIsIG5hbWU6IFwiQjFcIiB9O1xuICBsZXQgYjIgPSB7IGtleTogXCJiXCIsIG5hbWU6IFwiQjJcIiB9O1xuXG4gIHZhciByZXN1bHQgPSB0ZW1wbGF0ZS5yZW5kZXIoeyBpdGVtczogW2ExLCBhMiwgYjEsIGIyXSB9LCBlbnYpO1xuICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIGA8dWw+PGxpPkExPC9saT48bGk+QTI8L2xpPjxsaT5CMTwvbGk+PGxpPkIyPC9saT48L3VsPmApO1xuXG4gIGxldCBtb3JwaCA9IHJlc3VsdC5ub2Rlc1swXS5tb3JwaExpc3QuZmlyc3RDaGlsZE1vcnBoO1xuICBtb3JwaC5nZXRTdGF0ZSgpLmluaXRpYWxOYW1lID0gJ0ExJztcbiAgbW9ycGgubmV4dE1vcnBoLmdldFN0YXRlKCkuaW5pdGlhbE5hbWUgPSAnQTInO1xuICBtb3JwaC5uZXh0TW9ycGgubmV4dE1vcnBoLmdldFN0YXRlKCkuaW5pdGlhbE5hbWUgPSAnQjEnO1xuICBtb3JwaC5uZXh0TW9ycGgubmV4dE1vcnBoLm5leHRNb3JwaC5nZXRTdGF0ZSgpLmluaXRpYWxOYW1lID0gJ0IyJztcblxuICBmdW5jdGlvbiBnZXROYW1lcygpIHtcbiAgICBsZXQgbmFtZXMgPSBbXTtcbiAgICBsZXQgbW9ycGggPSByZXN1bHQubm9kZXNbMF0ubW9ycGhMaXN0LmZpcnN0Q2hpbGRNb3JwaDtcblxuICAgIHdoaWxlIChtb3JwaCkge1xuICAgICAgbmFtZXMucHVzaChtb3JwaC5nZXRTdGF0ZSgpLmluaXRpYWxOYW1lKTtcbiAgICAgIG1vcnBoID0gbW9ycGgubmV4dE1vcnBoO1xuICAgIH1cblxuICAgIHJldHVybiBuYW1lcztcbiAgfVxuXG4gIHJlc3VsdC5yZXJlbmRlcihlbnYsIHsgaXRlbXM6IFthMSwgYjIsIGIxLCBhMl0gfSk7XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCBgPHVsPjxsaT5BMTwvbGk+PGxpPkIyPC9saT48bGk+QjE8L2xpPjxsaT5BMjwvbGk+PC91bD5gKTtcbiAgZGVlcEVxdWFsKGdldE5hbWVzKCksIFsnQTEnLCAnQjEnLCAnQjInLCAnQTInXSk7XG5cbiAgcmVzdWx0LnJlcmVuZGVyKGVudiwgeyBpdGVtczogW2IxLCBhMl0gfSk7XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCBgPHVsPjxsaT5CMTwvbGk+PGxpPkEyPC9saT48L3VsPmApO1xuICBkZWVwRXF1YWwoZ2V0TmFtZXMoKSwgWydCMScsICdBMSddKTtcbn0pO1xuXG50ZXN0KFwiZHVwbGljYXRlIGtleXMgYXJlIGFsbG93ZWQgd2hlbiBkdXBsaWNhdGUgaXMgbGFzdCBtb3JwaFwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShgPHVsPnt7I2VhY2ggaXRlbXMgYXMgfGl0ZW18fX08bGk+e3tpdGVtLm5hbWV9fTwvbGk+e3svZWFjaH19PC91bD5gKTtcblxuICBsZXQgYTEgPSB7IGtleTogXCJhXCIsIG5hbWU6IFwiQTFcIiB9O1xuICBsZXQgYTIgPSB7IGtleTogXCJhXCIsIG5hbWU6IFwiQTJcIiB9O1xuXG4gIHZhciByZXN1bHQgPSB0ZW1wbGF0ZS5yZW5kZXIoeyBpdGVtczogWyBdIH0sIGVudik7XG5cbiAgcmVzdWx0LnJlcmVuZGVyKGVudiwgeyBpdGVtczogWyBhMSBdIH0pO1xuICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIGA8dWw+PGxpPkExPC9saT48L3VsPmApO1xuXG4gIHJlc3VsdC5yZXJlbmRlcihlbnYsIHsgaXRlbXM6IFthMSwgYTJdIH0pO1xuICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIGA8dWw+PGxpPkExPC9saT48bGk+QTI8L2xpPjwvdWw+YCk7XG59KTtcbiJdfQ==
define('htmlbars-compiler-tests/diffing-test.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests');
  QUnit.test('htmlbars-compiler-tests/diffing-test.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/diffing-test.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2RpZmZpbmctdGVzdC5qc2hpbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQUssQ0FBQyxNQUFNLENBQUMsa0NBQWtDLENBQUMsQ0FBQztBQUNqRCxPQUFLLENBQUMsSUFBSSxDQUFDLDREQUE0RCxFQUFFLFVBQVMsTUFBTSxFQUFFO0FBQ3hGLFVBQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLDZEQUE2RCxDQUFDLENBQUM7R0FDaEYsQ0FBQyxDQUFDIiwiZmlsZSI6Imh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2RpZmZpbmctdGVzdC5qc2hpbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJRVW5pdC5tb2R1bGUoJ0pTSGludCAtIGh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzJyk7XG5RVW5pdC50ZXN0KCdodG1sYmFycy1jb21waWxlci10ZXN0cy9kaWZmaW5nLXRlc3QuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2RpZmZpbmctdGVzdC5qcyBzaG91bGQgcGFzcyBqc2hpbnQuJyk7IFxufSk7XG4iXX0=
define("htmlbars-compiler-tests/dirtying-test", ["exports", "../htmlbars-compiler/compiler", "../htmlbars-runtime/render", "../htmlbars-runtime/hooks", "../htmlbars-util/template-utils", "../htmlbars-util/object-utils", "../dom-helper", "../htmlbars-test-helpers"], function (exports, _htmlbarsCompilerCompiler, _htmlbarsRuntimeRender, _htmlbarsRuntimeHooks, _htmlbarsUtilTemplateUtils, _htmlbarsUtilObjectUtils, _domHelper, _htmlbarsTestHelpers) {

  var hooks, helpers, partials, env;

  function registerHelper(name, callback) {
    helpers[name] = callback;
  }

  function commonSetup() {
    hooks = _htmlbarsUtilObjectUtils.merge({}, _htmlbarsRuntimeHooks.default);
    hooks.keywords = _htmlbarsUtilObjectUtils.merge({}, _htmlbarsRuntimeHooks.default.keywords);
    helpers = {};
    partials = {};

    env = {
      dom: new _domHelper.default(),
      hooks: hooks,
      helpers: helpers,
      partials: partials,
      useFragmentCache: true
    };

    registerHelper('if', function (params, hash, options) {
      if (!!params[0]) {
        return options.template.yield();
      } else if (options.inverse.yield) {
        return options.inverse.yield();
      }
    });

    registerHelper('each', function (params) {
      var list = params[0];

      for (var i = 0, l = list.length; i < l; i++) {
        var item = list[i];
        if (this.arity > 0) {
          this.yieldItem(item.key, [item]);
        } else {
          this.yieldItem(item.key, undefined, item);
        }
      }
    });
  }

  QUnit.module("HTML-based compiler (dirtying)", {
    beforeEach: commonSetup
  });

  test("a simple implementation of a dirtying rerender", function () {
    var object = { condition: true, value: 'hello world' };
    var template = _htmlbarsCompilerCompiler.compile('<div>{{#if condition}}<p>{{value}}</p>{{else}}<p>Nothing</p>{{/if}}</div>');
    var result = template.render(object, env);
    var valueNode = result.fragment.firstChild.firstChild.firstChild;

    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div><p>hello world</p></div>', "Initial render");

    result.rerender();

    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div><p>hello world</p></div>', "After dirtying but not updating");
    strictEqual(result.fragment.firstChild.firstChild.firstChild, valueNode, "The text node was not blown away");

    // Even though the #if was stable, a dirty child node is updated
    object.value = 'goodbye world';
    result.rerender();
    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div><p>goodbye world</p></div>', "After updating and dirtying");
    strictEqual(result.fragment.firstChild.firstChild.firstChild, valueNode, "The text node was not blown away");

    // Should not update since render node is not marked as dirty
    object.condition = false;
    result.revalidate();
    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div><p>goodbye world</p></div>', "After flipping the condition but not dirtying");
    strictEqual(result.fragment.firstChild.firstChild.firstChild, valueNode, "The text node was not blown away");

    result.rerender();
    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div><p>Nothing</p></div>', "And then dirtying");
    QUnit.notStrictEqual(result.fragment.firstChild.firstChild.firstChild, valueNode, "The text node was not blown away");
  });

  test("a simple implementation of a dirtying rerender without inverse", function () {
    var object = { condition: true, value: 'hello world' };
    var template = _htmlbarsCompilerCompiler.compile('<div>{{#if condition}}<p>{{value}}</p>{{/if}}</div>');
    var result = template.render(object, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div><p>hello world</p></div>', "Initial render");

    // Should not update since render node is not marked as dirty
    object.condition = false;

    result.rerender();
    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div><!----></div>', "If the condition is false, the morph becomes empty");

    object.condition = true;

    result.rerender();
    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div><p>hello world</p></div>', "If the condition is false, the morph becomes empty");
  });

  test("block helpers whose template has a morph at the edge", function () {
    registerHelper('id', function (params, hash, options) {
      return options.template.yield();
    });

    var template = _htmlbarsCompilerCompiler.compile("{{#id}}{{value}}{{/id}}");
    var object = { value: "hello world" };
    var result = template.render(object, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, 'hello world');
    var firstNode = result.root.firstNode;
    equal(firstNode.nodeType, 3, "first node of the parent template");
    equal(firstNode.nodeValue, "", "its content should be empty");

    var secondNode = firstNode.nextSibling;
    equal(secondNode.nodeType, 3, "first node of the helper template should be a text node");
    equal(secondNode.nodeValue, "", "its content should be empty");

    var textContent = secondNode.nextSibling;
    equal(textContent.nodeType, 3, "second node of the helper should be a text node");
    equal(textContent.nodeValue, "hello world", "its content should be hello world");

    var fourthNode = textContent.nextSibling;
    equal(fourthNode.nodeType, 3, "last node of the helper should be a text node");
    equal(fourthNode.nodeValue, "", "its content should be empty");

    var lastNode = fourthNode.nextSibling;
    equal(lastNode.nodeType, 3, "last node of the parent template should be a text node");
    equal(lastNode.nodeValue, "", "its content should be empty");

    strictEqual(lastNode.nextSibling, null, "there should only be five nodes");
  });

  test("clean content doesn't get blown away", function () {
    var template = _htmlbarsCompilerCompiler.compile("<div>{{value}}</div>");
    var object = { value: "hello" };
    var result = template.render(object, env);

    var textNode = result.fragment.firstChild.firstChild;
    equal(textNode.nodeValue, "hello");

    object.value = "goodbye";
    result.revalidate(); // without setting the node to dirty

    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div>hello</div>');

    var textRenderNode = result.root.childNodes[0];

    textRenderNode.setContent = function () {
      ok(false, "Should not get called");
    };

    object.value = "hello";
    result.rerender();
  });

  test("helper calls follow the normal dirtying rules", function () {
    registerHelper('capitalize', function (params) {
      return params[0].toUpperCase();
    });

    var template = _htmlbarsCompilerCompiler.compile("<div>{{capitalize value}}</div>");
    var object = { value: "hello" };
    var result = template.render(object, env);

    var textNode = result.fragment.firstChild.firstChild;
    equal(textNode.nodeValue, "HELLO");

    object.value = "goodbye";
    result.revalidate(); // without setting the node to dirty

    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div>HELLO</div>');

    var textRenderNode = result.root.childNodes[0];

    result.rerender();

    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div>GOODBYE</div>');

    textRenderNode.setContent = function () {
      ok(false, "Should not get called");
    };

    // Checks normalized value, not raw value
    object.value = "GoOdByE";
    result.rerender();
  });

  test("attribute nodes follow the normal dirtying rules", function () {
    var template = _htmlbarsCompilerCompiler.compile("<div class={{value}}>hello</div>");
    var object = { value: "world" };

    var result = template.render(object, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div class='world'>hello</div>", "Initial render");

    object.value = "universe";
    result.revalidate(); // without setting the node to dirty

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div class='world'>hello</div>", "Revalidating without dirtying");

    var attrRenderNode = result.root.childNodes[0];

    result.rerender();

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div class='universe'>hello</div>", "Revalidating after dirtying");

    attrRenderNode.setContent = function () {
      ok(false, "Should not get called");
    };

    object.value = "universe";
    result.rerender();
  });

  test("attribute nodes w/ concat follow the normal dirtying rules", function () {
    var template = _htmlbarsCompilerCompiler.compile("<div class='hello {{value}}'>hello</div>");
    var object = { value: "world" };
    var result = template.render(object, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div class='hello world'>hello</div>");

    object.value = "universe";
    result.revalidate(); // without setting the node to dirty

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div class='hello world'>hello</div>");

    var attrRenderNode = result.root.childNodes[0];

    result.rerender();

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div class='hello universe'>hello</div>");

    attrRenderNode.setContent = function () {
      ok(false, "Should not get called");
    };

    object.value = "universe";
    result.rerender();
  });

  testEachHelper("An implementation of #each using block params", "<ul>{{#each list as |item|}}<li class={{item.class}}>{{item.name}}</li>{{/each}}</ul>");

  testEachHelper("An implementation of #each using a self binding", "<ul>{{#each list}}<li class={{class}}>{{name}}</li>{{/each}}</ul>");

  function testEachHelper(testName, templateSource) {
    test(testName, function () {
      var template = _htmlbarsCompilerCompiler.compile(templateSource);
      var object = { list: [{ key: "1", name: "Tom Dale", "class": "tomdale" }, { key: "2", name: "Yehuda Katz", "class": "wycats" }] };
      var result = template.render(object, env);

      var itemNode = getItemNode('tomdale');
      var nameNode = getNameNode('tomdale');

      _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li class='tomdale'>Tom Dale</li><li class='wycats'>Yehuda Katz</li></ul>", "Initial render");

      rerender();
      assertStableNodes('tomdale', "after no-op rerender");
      _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li class='tomdale'>Tom Dale</li><li class='wycats'>Yehuda Katz</li></ul>", "After no-op re-render");

      result.revalidate();
      assertStableNodes('tomdale', "after non-dirty rerender");
      _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li class='tomdale'>Tom Dale</li><li class='wycats'>Yehuda Katz</li></ul>", "After no-op re-render");

      object = { list: [object.list[1], object.list[0]] };
      rerender(object);
      assertStableNodes('tomdale', "after changing the list order");
      _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li class='wycats'>Yehuda Katz</li><li class='tomdale'>Tom Dale</li></ul>", "After changing the list order");

      object = { list: [{ key: "1", name: "Martin Muoz", "class": "mmun" }, { key: "2", name: "Kris Selden", "class": "krisselden" }] };
      rerender(object);
      assertStableNodes('mmun', "after changing the list entries, but with stable keys");
      _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li class='mmun'>Martin Muoz</li><li class='krisselden'>Kris Selden</li></ul>", "After changing the list entries, but with stable keys");

      object = { list: [{ key: "1", name: "Martin Muoz", "class": "mmun" }, { key: "2", name: "Kristoph Selden", "class": "krisselden" }, { key: "3", name: "Matthew Beale", "class": "mixonic" }] };

      rerender(object);
      assertStableNodes('mmun', "after adding an additional entry");
      _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li class='mmun'>Martin Muoz</li><li class='krisselden'>Kristoph Selden</li><li class='mixonic'>Matthew Beale</li></ul>", "After adding an additional entry");

      object = { list: [{ key: "1", name: "Martin Muoz", "class": "mmun" }, { key: "3", name: "Matthew Beale", "class": "mixonic" }] };

      rerender(object);
      assertStableNodes('mmun', "after removing the middle entry");
      _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li class='mmun'>Martin Muoz</li><li class='mixonic'>Matthew Beale</li></ul>", "after removing the middle entry");

      object = { list: [{ key: "1", name: "Martin Muoz", "class": "mmun" }, { key: "4", name: "Stefan Penner", "class": "stefanpenner" }, { key: "5", name: "Robert Jackson", "class": "rwjblue" }] };

      rerender(object);
      assertStableNodes('mmun', "after adding two more entries");
      _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li class='mmun'>Martin Muoz</li><li class='stefanpenner'>Stefan Penner</li><li class='rwjblue'>Robert Jackson</li></ul>", "After adding two more entries");

      // New node for stability check
      itemNode = getItemNode('rwjblue');
      nameNode = getNameNode('rwjblue');

      object = { list: [{ key: "5", name: "Robert Jackson", "class": "rwjblue" }] };

      rerender(object);
      assertStableNodes('rwjblue', "after removing two entries");
      _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li class='rwjblue'>Robert Jackson</li></ul>", "After removing two entries");

      object = { list: [{ key: "1", name: "Martin Muoz", "class": "mmun" }, { key: "4", name: "Stefan Penner", "class": "stefanpenner" }, { key: "5", name: "Robert Jackson", "class": "rwjblue" }] };

      rerender(object);
      assertStableNodes('rwjblue', "after adding back entries");
      _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li class='mmun'>Martin Muoz</li><li class='stefanpenner'>Stefan Penner</li><li class='rwjblue'>Robert Jackson</li></ul>", "After adding back entries");

      // New node for stability check
      itemNode = getItemNode('mmun');
      nameNode = getNameNode('mmun');

      object = { list: [{ key: "1", name: "Martin Muoz", "class": "mmun" }] };

      rerender(object);
      assertStableNodes('mmun', "after removing from the back");
      _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><li class='mmun'>Martin Muoz</li></ul>", "After removing from the back");

      object = { list: [] };

      rerender(object);
      strictEqual(result.fragment.firstChild.firstChild.nodeType, 8, "there are no li's after removing the remaining entry");
      _htmlbarsTestHelpers.equalTokens(result.fragment, "<ul><!----></ul>", "After removing the remaining entries");

      function rerender(context) {
        result.rerender(env, context);
      }

      function assertStableNodes(className, message) {
        strictEqual(getItemNode(className), itemNode, "The item node has not changed " + message);
        strictEqual(getNameNode(className), nameNode, "The name node has not changed " + message);
      }

      function getItemNode(className) {
        // <li>
        var itemNode = result.fragment.firstChild.firstChild;

        while (itemNode) {
          if (itemNode.getAttribute('class') === className) {
            break;
          }
          itemNode = itemNode.nextSibling;
        }

        ok(itemNode, "Expected node with class='" + className + "'");
        return itemNode;
      }

      function getNameNode(className) {
        // {{item.name}}
        var itemNode = getItemNode(className);
        ok(itemNode, "Expected child node of node with class='" + className + "', but no parent node found");

        var childNode = itemNode && itemNode.firstChild;
        ok(childNode, "Expected child node of node with class='" + className + "', but not child node found");

        return childNode;
      }
    });
  }

  test("Returning true from `linkRenderNodes` makes the value itself stable across renders", function () {
    var streams = { hello: { value: "hello" }, world: { value: "world" } };

    hooks.linkRenderNode = function () {
      return true;
    };

    hooks.getValue = function (stream) {
      return stream();
    };

    var concatCalled = 0;
    hooks.concat = function (env, params) {
      ok(++concatCalled === 1, "The concat hook is only invoked one time (invoked " + concatCalled + " times)");
      return function () {
        return params[0].value + params[1] + params[2].value;
      };
    };

    var template = _htmlbarsCompilerCompiler.compile("<div class='{{hello}} {{world}}'></div>");
    var result = template.render(streams, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div class='hello world'></div>");

    streams.hello.value = "goodbye";

    result.rerender();

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div class='goodbye world'></div>");
  });

  var destroyedRenderNodeCount;
  var destroyedRenderNode;

  QUnit.module("HTML-based compiler (dirtying) - pruning", {
    beforeEach: function () {
      commonSetup();
      destroyedRenderNodeCount = 0;
      destroyedRenderNode = null;

      hooks.destroyRenderNode = function (renderNode) {
        destroyedRenderNode = renderNode;
        destroyedRenderNodeCount++;
      };
    }
  });

  test("Pruned render nodes invoke a cleanup hook when replaced", function () {
    var object = { condition: true, value: 'hello world', falsy: "Nothing" };
    var template = _htmlbarsCompilerCompiler.compile('<div>{{#if condition}}<p>{{value}}</p>{{else}}<p>{{falsy}}</p>{{/if}}</div>');

    var result = template.render(object, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div><p>hello world</p></div>");

    object.condition = false;
    result.rerender();

    strictEqual(destroyedRenderNodeCount, 1, "cleanup hook was invoked once");
    strictEqual(destroyedRenderNode.lastValue, 'hello world', "The correct render node is passed in");

    object.condition = true;
    result.rerender();

    strictEqual(destroyedRenderNodeCount, 2, "cleanup hook was invoked again");
    strictEqual(destroyedRenderNode.lastValue, 'Nothing', "The correct render node is passed in");
  });

  test("MorphLists in childNodes are properly cleared", function () {
    var object = {
      condition: true,
      falsy: "Nothing",
      list: [{ key: "1", word: 'Hello' }, { key: "2", word: 'World' }]
    };
    var template = _htmlbarsCompilerCompiler.compile('<div>{{#if condition}}{{#each list as |item|}}<p>{{item.word}}</p>{{/each}}{{else}}<p>{{falsy}}</p>{{/if}}</div>');

    var result = template.render(object, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div><p>Hello</p><p>World</p></div>");

    object.condition = false;
    result.rerender();

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div><p>Nothing</p></div>");

    strictEqual(destroyedRenderNodeCount, 5, "cleanup hook was invoked for each morph");

    object.condition = true;
    result.rerender();

    strictEqual(destroyedRenderNodeCount, 6, "cleanup hook was invoked again");
  });

  test("Pruned render nodes invoke a cleanup hook when cleared", function () {
    var object = { condition: true, value: 'hello world' };
    var template = _htmlbarsCompilerCompiler.compile('<div>{{#if condition}}<p>{{value}}</p>{{/if}}</div>');

    var result = template.render(object, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div><p>hello world</p></div>");

    object.condition = false;
    result.rerender();

    strictEqual(destroyedRenderNodeCount, 1, "cleanup hook was invoked once");
    strictEqual(destroyedRenderNode.lastValue, 'hello world', "The correct render node is passed in");

    object.condition = true;
    result.rerender();

    strictEqual(destroyedRenderNodeCount, 1, "cleanup hook was not invoked again");
  });

  test("Pruned lists invoke a cleanup hook when removing elements", function () {
    var object = { list: [{ key: "1", word: "hello" }, { key: "2", word: "world" }] };
    var template = _htmlbarsCompilerCompiler.compile('<div>{{#each list as |item|}}<p>{{item.word}}</p>{{/each}}</div>');

    var result = template.render(object, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div><p>hello</p><p>world</p></div>");

    object.list.pop();
    result.rerender();

    strictEqual(destroyedRenderNodeCount, 2, "cleanup hook was invoked once for the wrapper morph and once for the {{item.word}}");
    strictEqual(destroyedRenderNode.lastValue, "world", "The correct render node is passed in");

    object.list.pop();
    result.rerender();

    strictEqual(destroyedRenderNodeCount, 4, "cleanup hook was invoked once for the wrapper morph and once for the {{item.word}}");
    strictEqual(destroyedRenderNode.lastValue, "hello", "The correct render node is passed in");
  });

  test("Pruned lists invoke a cleanup hook on their subtrees when removing elements", function () {
    var object = { list: [{ key: "1", word: "hello" }, { key: "2", word: "world" }] };
    var template = _htmlbarsCompilerCompiler.compile('<div>{{#each list as |item|}}<p>{{#if item.word}}{{item.word}}{{/if}}</p>{{/each}}</div>');

    var result = template.render(object, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<div><p>hello</p><p>world</p></div>");

    object.list.pop();
    result.rerender();

    strictEqual(destroyedRenderNodeCount, 3, "cleanup hook was invoked once for the wrapper morph and once for the {{item.word}}");
    strictEqual(destroyedRenderNode.lastValue, "world", "The correct render node is passed in");

    object.list.pop();
    result.rerender();

    strictEqual(destroyedRenderNodeCount, 6, "cleanup hook was invoked once for the wrapper morph and once for the {{item.word}}");
    strictEqual(destroyedRenderNode.lastValue, "hello", "The correct render node is passed in");
  });

  QUnit.module("Manual elements", {
    beforeEach: commonSetup
  });

  QUnit.skip("Setting up a manual element renders and revalidates", function () {
    hooks.keywords['manual-element'] = {
      render: function (morph, env, scope, params, hash, template, inverse, visitor) {
        var attributes = {
          title: "Tom Dale",
          href: ['concat', ['http://tomdale.', ['get', 'tld']]],
          'data-bar': ['get', 'bar']
        };

        var layout = _htmlbarsRuntimeRender.manualElement('span', attributes);

        _htmlbarsRuntimeHooks.hostBlock(morph, env, scope, template, inverse, null, visitor, function (options) {
          options.templates.template.yieldIn({ raw: layout }, hash);
        });

        _htmlbarsRuntimeRender.manualElement(env, scope, 'span', attributes, morph);
      },

      isStable: function () {
        return true;
      }
    };

    var template = _htmlbarsCompilerCompiler.compile("{{#manual-element bar='baz' tld='net'}}Hello {{world}}!{{/manual-element}}");
    var result = template.render({ world: "world" }, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<span title='Tom Dale' href='http://tomdale.net' data-bar='baz'>Hello world!</span>");
  });

  test("It is possible to nest multiple templates into a manual element", function () {
    var layout = _htmlbarsCompilerCompiler.compile("<em>{{attrs.foo}}. {{yield}}</em>");
    var template = _htmlbarsCompilerCompiler.compile("{{#manual-element foo='foo' bar='baz' tld='net'}}Hello {{world}}!{{/manual-element}}");

    hooks.keywords['manual-element'] = {
      render: function (morph, env, scope, params, hash, template, inverse, visitor) {
        var attributes = {
          title: "Tom Dale",
          href: _htmlbarsUtilTemplateUtils.buildStatement('concat', ['http://tomdale.', _htmlbarsUtilTemplateUtils.buildStatement('get', 'tld')]),
          'data-bar': _htmlbarsUtilTemplateUtils.buildStatement('get', 'bar')
        };

        var elementTemplate = _htmlbarsRuntimeRender.manualElement('span', attributes);

        var contentBlock = _htmlbarsUtilTemplateUtils.blockFor(_htmlbarsRuntimeRender.default, template, { scope: scope });

        var layoutBlock = _htmlbarsUtilTemplateUtils.blockFor(_htmlbarsRuntimeRender.default, layout.raw, {
          yieldTo: contentBlock,
          self: { attrs: hash }
        });

        var elementBlock = _htmlbarsUtilTemplateUtils.blockFor(_htmlbarsRuntimeRender.default, elementTemplate, {
          yieldTo: layoutBlock,
          self: hash
        });

        elementBlock.invoke(env, null, undefined, morph, null, visitor);
      },

      isStable: function () {
        return true;
      }
    };

    var result = template.render({ world: "world" }, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, "<span title='Tom Dale' href='http://tomdale.net' data-bar='baz'><em>foo. Hello world!</em></span>");
  });

  test("The invoke helper hook can instruct the runtime to link the result", function () {
    var invokeCount = 0;

    env.hooks.invokeHelper = function (morph, env, scope, visitor, params, hash, helper) {
      invokeCount++;
      return { value: helper(params, hash), link: true };
    };

    helpers.double = function (_ref) {
      var input = _ref[0];

      return input * 2;
    };

    var template = _htmlbarsCompilerCompiler.compile("{{double 12}}");
    var result = template.render({}, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, "24");
    equal(invokeCount, 1);

    result.rerender();

    _htmlbarsTestHelpers.equalTokens(result.fragment, "24");
    equal(invokeCount, 1);
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2RpcnR5aW5nLXRlc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFVQSxNQUFJLEtBQUssRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQzs7QUFFbEMsV0FBUyxjQUFjLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRTtBQUN0QyxXQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDO0dBQzFCOztBQUVELFdBQVMsV0FBVyxHQUFHO0FBQ3JCLFNBQUssR0FBRyx5QkFYRCxLQUFLLENBV0UsRUFBRSxnQ0FBZSxDQUFDO0FBQ2hDLFNBQUssQ0FBQyxRQUFRLEdBQUcseUJBWlYsS0FBSyxDQVlXLEVBQUUsRUFBRSw4QkFBYSxRQUFRLENBQUMsQ0FBQztBQUNsRCxXQUFPLEdBQUcsRUFBRSxDQUFDO0FBQ2IsWUFBUSxHQUFHLEVBQUUsQ0FBQzs7QUFFZCxPQUFHLEdBQUc7QUFDSixTQUFHLEVBQUUsd0JBQWU7QUFDcEIsV0FBSyxFQUFFLEtBQUs7QUFDWixhQUFPLEVBQUUsT0FBTztBQUNoQixjQUFRLEVBQUUsUUFBUTtBQUNsQixzQkFBZ0IsRUFBRSxJQUFJO0tBQ3ZCLENBQUM7O0FBRUYsa0JBQWMsQ0FBQyxJQUFJLEVBQUUsVUFBUyxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRTtBQUNuRCxVQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDZixlQUFPLE9BQU8sQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7T0FDakMsTUFBTSxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFO0FBQ2hDLGVBQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztPQUNoQztLQUNGLENBQUMsQ0FBQzs7QUFFSCxrQkFBYyxDQUFDLE1BQU0sRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUN0QyxVQUFJLElBQUksR0FBRyxNQUFNLENBQUMsQ0FB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SSxDQUFDLG9FQUFvRSxFQUFFLFlBQVc7QUFDcEYsUUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFDOztBQUVwQixPQUFHLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxVQUFTLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRTtBQUNsRixpQkFBVyxFQUFFLENBQUM7QUFDZCxhQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDO0tBQ3BELENBQUM7O0FBRUYsV0FBTyxDQUFDLE1BQU0sR0FBRyxVQUFTLElBQU8sRUFBRTtVQUFSLEtBQUssR0FBTixJQUFPOztBQUMvQixhQUFPLEtBQUssR0FBRyxDQUFDLENBQUM7S0FDbEIsQ0FBQzs7QUFFRixRQUFJLFFBQVEsR0FBRywwQkExbkJSLE9BQU8sQ0EwbkJTLGVBQWUsQ0FBQyxDQUFDO0FBQ3hDLFFBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFDOztBQUV0Qyx5QkFybkJPLFdBQVcsQ0FxbkJOLE1BQU0sQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDbkMsU0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQzs7QUFFdEIsVUFBTSxDQUFDLFFBQVEsRUFBRSxDQUFDOztBQUVsQix5QkExbkJPLFdBQVcsQ0EwbkJOLE1BQU0sQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDbkMsU0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztHQUN2QixDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvZGlydHlpbmctdGVzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXBpbGUgfSBmcm9tIFwiLi4vaHRtbGJhcnMtY29tcGlsZXIvY29tcGlsZXJcIjtcbmltcG9ydCB7IG1hbnVhbEVsZW1lbnQgfSBmcm9tIFwiLi4vaHRtbGJhcnMtcnVudGltZS9yZW5kZXJcIjtcbmltcG9ydCB7IGhvc3RCbG9jayB9IGZyb20gXCIuLi9odG1sYmFycy1ydW50aW1lL2hvb2tzXCI7XG5pbXBvcnQgcmVuZGVyIGZyb20gXCIuLi9odG1sYmFycy1ydW50aW1lL3JlbmRlclwiO1xuaW1wb3J0IHsgYmxvY2tGb3IsIGJ1aWxkU3RhdGVtZW50IH0gZnJvbSBcIi4uL2h0bWxiYXJzLXV0aWwvdGVtcGxhdGUtdXRpbHNcIjtcbmltcG9ydCBkZWZhdWx0SG9va3MgZnJvbSBcIi4uL2h0bWxiYXJzLXJ1bnRpbWUvaG9va3NcIjtcbmltcG9ydCB7IG1lcmdlIH0gZnJvbSBcIi4uL2h0bWxiYXJzLXV0aWwvb2JqZWN0LXV0aWxzXCI7XG5pbXBvcnQgRE9NSGVscGVyIGZyb20gXCIuLi9kb20taGVscGVyXCI7XG5pbXBvcnQgeyBlcXVhbFRva2VucyB9IGZyb20gXCIuLi9odG1sYmFycy10ZXN0LWhlbHBlcnNcIjtcblxudmFyIGhvb2tzLCBoZWxwZXJzLCBwYXJ0aWFscywgZW52O1xuXG5mdW5jdGlvbiByZWdpc3RlckhlbHBlcihuYW1lLCBjYWxsYmFjaykge1xuICBoZWxwZXJzW25hbWVdID0gY2FsbGJhY2s7XG59XG5cbmZ1bmN0aW9uIGNvbW1vblNldHVwKCkge1xuICBob29rcyA9IG1lcmdlKHt9LCBkZWZhdWx0SG9va3MpO1xuICBob29rcy5rZXl3b3JkcyA9IG1lcmdlKHt9LCBkZWZhdWx0SG9va3Mua2V5d29yZHMpO1xuICBoZWxwZXJzID0ge307XG4gIHBhcnRpYWxzID0ge307XG5cbiAgZW52ID0ge1xuICAgIGRvbTogbmV3IERPTUhlbHBlcigpLFxuICAgIGhvb2tzOiBob29rcyxcbiAgICBoZWxwZXJzOiBoZWxwZXJzLFxuICAgIHBhcnRpYWxzOiBwYXJ0aWFscyxcbiAgICB1c2VGcmFnbWVudENhY2hlOiB0cnVlXG4gIH07XG5cbiAgcmVnaXN0ZXJIZWxwZXIoJ2lmJywgZnVuY3Rpb24ocGFyYW1zLCBoYXNoLCBvcHRpb25zKSB7XG4gICAgaWYgKCEhcGFyYW1zWzBdKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy50ZW1wbGF0ZS55aWVsZCgpO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbnZlcnNlLnlpZWxkKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy5pbnZlcnNlLnlpZWxkKCk7XG4gICAgfVxuICB9KTtcblxuICByZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHZhciBsaXN0ID0gcGFyYW1zWzBdO1xuXG4gICAgZm9yICh2YXIgaT0wLCBsPWxpc3QubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgICAgaWYgKHRoaXMuYXJpdHkgPiAwKSB7XG4gICAgICAgIHRoaXMueWllbGRJdGVtKGl0ZW0ua2V5LCBbaXRlbV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy55aWVsZEl0ZW0oaXRlbS5rZXksIHVuZGVmaW5lZCwgaXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxufVxuXG5RVW5pdC5tb2R1bGUoXCJIVE1MLWJhc2VkIGNvbXBpbGVyIChkaXJ0eWluZylcIiwge1xuICBiZWZvcmVFYWNoOiBjb21tb25TZXR1cFxufSk7XG5cbnRlc3QoXCJhIHNpbXBsZSBpbXBsZW1lbnRhdGlvbiBvZiBhIGRpcnR5aW5nIHJlcmVuZGVyXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgb2JqZWN0ID0geyBjb25kaXRpb246IHRydWUsIHZhbHVlOiAnaGVsbG8gd29ybGQnIH07XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxkaXY+e3sjaWYgY29uZGl0aW9ufX08cD57e3ZhbHVlfX08L3A+e3tlbHNlfX08cD5Ob3RoaW5nPC9wPnt7L2lmfX08L2Rpdj4nKTtcbiAgdmFyIHJlc3VsdCA9IHRlbXBsYXRlLnJlbmRlcihvYmplY3QsIGVudik7XG4gIHZhciB2YWx1ZU5vZGUgPSByZXN1bHQuZnJhZ21lbnQuZmlyc3RDaGlsZC5maXJzdENoaWxkLmZpcnN0Q2hpbGQ7XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCAnPGRpdj48cD5oZWxsbyB3b3JsZDwvcD48L2Rpdj4nLCBcIkluaXRpYWwgcmVuZGVyXCIpO1xuXG4gIHJlc3VsdC5yZXJlbmRlcigpO1xuXG4gIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgJzxkaXY+PHA+aGVsbG8gd29ybGQ8L3A+PC9kaXY+JywgXCJBZnRlciBkaXJ0eWluZyBidXQgbm90IHVwZGF0aW5nXCIpO1xuICBzdHJpY3RFcXVhbChyZXN1bHQuZnJhZ21lbnQuZmlyc3RDaGlsZC5maXJzdENoaWxkLmZpcnN0Q2hpbGQsIHZhbHVlTm9kZSwgXCJUaGUgdGV4dCBub2RlIHdhcyBub3QgYmxvd24gYXdheVwiKTtcblxuICAvLyBFdmVuIHRob3VnaCB0aGUgI2lmIHdhcyBzdGFibGUsIGEgZGlydHkgY2hpbGQgbm9kZSBpcyB1cGRhdGVkXG4gIG9iamVjdC52YWx1ZSA9ICdnb29kYnllIHdvcmxkJztcbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG4gIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgJzxkaXY+PHA+Z29vZGJ5ZSB3b3JsZDwvcD48L2Rpdj4nLCBcIkFmdGVyIHVwZGF0aW5nIGFuZCBkaXJ0eWluZ1wiKTtcbiAgc3RyaWN0RXF1YWwocmVzdWx0LmZyYWdtZW50LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5maXJzdENoaWxkLCB2YWx1ZU5vZGUsIFwiVGhlIHRleHQgbm9kZSB3YXMgbm90IGJsb3duIGF3YXlcIik7XG5cbiAgLy8gU2hvdWxkIG5vdCB1cGRhdGUgc2luY2UgcmVuZGVyIG5vZGUgaXMgbm90IG1hcmtlZCBhcyBkaXJ0eVxuICBvYmplY3QuY29uZGl0aW9uID0gZmFsc2U7XG4gIHJlc3VsdC5yZXZhbGlkYXRlKCk7XG4gIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgJzxkaXY+PHA+Z29vZGJ5ZSB3b3JsZDwvcD48L2Rpdj4nLCBcIkFmdGVyIGZsaXBwaW5nIHRoZSBjb25kaXRpb24gYnV0IG5vdCBkaXJ0eWluZ1wiKTtcbiAgc3RyaWN0RXF1YWwocmVzdWx0LmZyYWdtZW50LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5maXJzdENoaWxkLCB2YWx1ZU5vZGUsIFwiVGhlIHRleHQgbm9kZSB3YXMgbm90IGJsb3duIGF3YXlcIik7XG5cbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG4gIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgJzxkaXY+PHA+Tm90aGluZzwvcD48L2Rpdj4nLCBcIkFuZCB0aGVuIGRpcnR5aW5nXCIpO1xuICBRVW5pdC5ub3RTdHJpY3RFcXVhbChyZXN1bHQuZnJhZ21lbnQuZmlyc3RDaGlsZC5maXJzdENoaWxkLmZpcnN0Q2hpbGQsIHZhbHVlTm9kZSwgXCJUaGUgdGV4dCBub2RlIHdhcyBub3QgYmxvd24gYXdheVwiKTtcbn0pO1xuXG50ZXN0KFwiYSBzaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgYSBkaXJ0eWluZyByZXJlbmRlciB3aXRob3V0IGludmVyc2VcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBvYmplY3QgPSB7IGNvbmRpdGlvbjogdHJ1ZSwgdmFsdWU6ICdoZWxsbyB3b3JsZCcgfTtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZSgnPGRpdj57eyNpZiBjb25kaXRpb259fTxwPnt7dmFsdWV9fTwvcD57ey9pZn19PC9kaXY+Jyk7XG4gIHZhciByZXN1bHQgPSB0ZW1wbGF0ZS5yZW5kZXIob2JqZWN0LCBlbnYpO1xuXG4gIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgJzxkaXY+PHA+aGVsbG8gd29ybGQ8L3A+PC9kaXY+JywgXCJJbml0aWFsIHJlbmRlclwiKTtcblxuICAvLyBTaG91bGQgbm90IHVwZGF0ZSBzaW5jZSByZW5kZXIgbm9kZSBpcyBub3QgbWFya2VkIGFzIGRpcnR5XG4gIG9iamVjdC5jb25kaXRpb24gPSBmYWxzZTtcblxuICByZXN1bHQucmVyZW5kZXIoKTtcbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCAnPGRpdj48IS0tLS0+PC9kaXY+JywgXCJJZiB0aGUgY29uZGl0aW9uIGlzIGZhbHNlLCB0aGUgbW9ycGggYmVjb21lcyBlbXB0eVwiKTtcblxuICBvYmplY3QuY29uZGl0aW9uID0gdHJ1ZTtcblxuICByZXN1bHQucmVyZW5kZXIoKTtcbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCAnPGRpdj48cD5oZWxsbyB3b3JsZDwvcD48L2Rpdj4nLCBcIklmIHRoZSBjb25kaXRpb24gaXMgZmFsc2UsIHRoZSBtb3JwaCBiZWNvbWVzIGVtcHR5XCIpO1xufSk7XG5cbnRlc3QoXCJibG9jayBoZWxwZXJzIHdob3NlIHRlbXBsYXRlIGhhcyBhIG1vcnBoIGF0IHRoZSBlZGdlXCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcignaWQnLCBmdW5jdGlvbihwYXJhbXMsIGhhc2gsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucy50ZW1wbGF0ZS55aWVsZCgpO1xuICB9KTtcblxuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKFwie3sjaWR9fXt7dmFsdWV9fXt7L2lkfX1cIik7XG4gIHZhciBvYmplY3QgPSB7IHZhbHVlOiBcImhlbGxvIHdvcmxkXCIgfTtcbiAgdmFyIHJlc3VsdCA9IHRlbXBsYXRlLnJlbmRlcihvYmplY3QsIGVudik7XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCAnaGVsbG8gd29ybGQnKTtcbiAgdmFyIGZpcnN0Tm9kZSA9IHJlc3VsdC5yb290LmZpcnN0Tm9kZTtcbiAgZXF1YWwoZmlyc3ROb2RlLm5vZGVUeXBlLCAzLCBcImZpcnN0IG5vZGUgb2YgdGhlIHBhcmVudCB0ZW1wbGF0ZVwiKTtcbiAgZXF1YWwoZmlyc3ROb2RlLm5vZGVWYWx1ZSwgXCJcIiwgXCJpdHMgY29udGVudCBzaG91bGQgYmUgZW1wdHlcIik7XG5cbiAgdmFyIHNlY29uZE5vZGUgPSBmaXJzdE5vZGUubmV4dFNpYmxpbmc7XG4gIGVxdWFsKHNlY29uZE5vZGUubm9kZVR5cGUsIDMsIFwiZmlyc3Qgbm9kZSBvZiB0aGUgaGVscGVyIHRlbXBsYXRlIHNob3VsZCBiZSBhIHRleHQgbm9kZVwiKTtcbiAgZXF1YWwoc2Vjb25kTm9kZS5ub2RlVmFsdWUsIFwiXCIsIFwiaXRzIGNvbnRlbnQgc2hvdWxkIGJlIGVtcHR5XCIpO1xuXG4gIHZhciB0ZXh0Q29udGVudCA9IHNlY29uZE5vZGUubmV4dFNpYmxpbmc7XG4gIGVxdWFsKHRleHRDb250ZW50Lm5vZGVUeXBlLCAzLCBcInNlY29uZCBub2RlIG9mIHRoZSBoZWxwZXIgc2hvdWxkIGJlIGEgdGV4dCBub2RlXCIpO1xuICBlcXVhbCh0ZXh0Q29udGVudC5ub2RlVmFsdWUsIFwiaGVsbG8gd29ybGRcIiwgXCJpdHMgY29udGVudCBzaG91bGQgYmUgaGVsbG8gd29ybGRcIik7XG5cbiAgdmFyIGZvdXJ0aE5vZGUgPSB0ZXh0Q29udGVudC5uZXh0U2libGluZztcbiAgZXF1YWwoZm91cnRoTm9kZS5ub2RlVHlwZSwgMywgXCJsYXN0IG5vZGUgb2YgdGhlIGhlbHBlciBzaG91bGQgYmUgYSB0ZXh0IG5vZGVcIik7XG4gIGVxdWFsKGZvdXJ0aE5vZGUubm9kZVZhbHVlLCBcIlwiLCBcIml0cyBjb250ZW50IHNob3VsZCBiZSBlbXB0eVwiKTtcblxuICB2YXIgbGFzdE5vZGUgPSBmb3VydGhOb2RlLm5leHRTaWJsaW5nO1xuICBlcXVhbChsYXN0Tm9kZS5ub2RlVHlwZSwgMywgXCJsYXN0IG5vZGUgb2YgdGhlIHBhcmVudCB0ZW1wbGF0ZSBzaG91bGQgYmUgYSB0ZXh0IG5vZGVcIik7XG4gIGVxdWFsKGxhc3ROb2RlLm5vZGVWYWx1ZSwgXCJcIiwgXCJpdHMgY29udGVudCBzaG91bGQgYmUgZW1wdHlcIik7XG5cbiAgc3RyaWN0RXF1YWwobGFzdE5vZGUubmV4dFNpYmxpbmcsIG51bGwsIFwidGhlcmUgc2hvdWxkIG9ubHkgYmUgZml2ZSBub2Rlc1wiKTtcbn0pO1xuXG50ZXN0KFwiY2xlYW4gY29udGVudCBkb2Vzbid0IGdldCBibG93biBhd2F5XCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKFwiPGRpdj57e3ZhbHVlfX08L2Rpdj5cIik7XG4gIHZhciBvYmplY3QgPSB7IHZhbHVlOiBcImhlbGxvXCIgfTtcbiAgdmFyIHJlc3VsdCA9IHRlbXBsYXRlLnJlbmRlcihvYmplY3QsIGVudik7XG5cbiAgdmFyIHRleHROb2RlID0gcmVzdWx0LmZyYWdtZW50LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZDtcbiAgZXF1YWwodGV4dE5vZGUubm9kZVZhbHVlLCBcImhlbGxvXCIpO1xuXG4gIG9iamVjdC52YWx1ZSA9IFwiZ29vZGJ5ZVwiO1xuICByZXN1bHQucmV2YWxpZGF0ZSgpOyAvLyB3aXRob3V0IHNldHRpbmcgdGhlIG5vZGUgdG8gZGlydHlcblxuICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsICc8ZGl2PmhlbGxvPC9kaXY+Jyk7XG5cbiAgdmFyIHRleHRSZW5kZXJOb2RlID0gcmVzdWx0LnJvb3QuY2hpbGROb2Rlc1swXTtcblxuICB0ZXh0UmVuZGVyTm9kZS5zZXRDb250ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgb2soZmFsc2UsIFwiU2hvdWxkIG5vdCBnZXQgY2FsbGVkXCIpO1xuICB9O1xuXG4gIG9iamVjdC52YWx1ZSA9IFwiaGVsbG9cIjtcbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG59KTtcblxudGVzdChcImhlbHBlciBjYWxscyBmb2xsb3cgdGhlIG5vcm1hbCBkaXJ0eWluZyBydWxlc1wiLCBmdW5jdGlvbigpIHtcbiAgcmVnaXN0ZXJIZWxwZXIoJ2NhcGl0YWxpemUnLCBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICByZXR1cm4gcGFyYW1zWzBdLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xuXG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoXCI8ZGl2Pnt7Y2FwaXRhbGl6ZSB2YWx1ZX19PC9kaXY+XCIpO1xuICB2YXIgb2JqZWN0ID0geyB2YWx1ZTogXCJoZWxsb1wiIH07XG4gIHZhciByZXN1bHQgPSB0ZW1wbGF0ZS5yZW5kZXIob2JqZWN0LCBlbnYpO1xuXG4gIHZhciB0ZXh0Tm9kZSA9IHJlc3VsdC5mcmFnbWVudC5maXJzdENoaWxkLmZpcnN0Q2hpbGQ7XG4gIGVxdWFsKHRleHROb2RlLm5vZGVWYWx1ZSwgXCJIRUxMT1wiKTtcblxuICBvYmplY3QudmFsdWUgPSBcImdvb2RieWVcIjtcbiAgcmVzdWx0LnJldmFsaWRhdGUoKTsgLy8gd2l0aG91dCBzZXR0aW5nIHRoZSBub2RlIHRvIGRpcnR5XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCAnPGRpdj5IRUxMTzwvZGl2PicpO1xuXG4gIHZhciB0ZXh0UmVuZGVyTm9kZSA9IHJlc3VsdC5yb290LmNoaWxkTm9kZXNbMF07XG5cbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCAnPGRpdj5HT09EQllFPC9kaXY+Jyk7XG5cbiAgdGV4dFJlbmRlck5vZGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uKCkge1xuICAgIG9rKGZhbHNlLCBcIlNob3VsZCBub3QgZ2V0IGNhbGxlZFwiKTtcbiAgfTtcblxuICAvLyBDaGVja3Mgbm9ybWFsaXplZCB2YWx1ZSwgbm90IHJhdyB2YWx1ZVxuICBvYmplY3QudmFsdWUgPSBcIkdvT2RCeUVcIjtcbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG59KTtcblxudGVzdChcImF0dHJpYnV0ZSBub2RlcyBmb2xsb3cgdGhlIG5vcm1hbCBkaXJ0eWluZyBydWxlc1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShcIjxkaXYgY2xhc3M9e3t2YWx1ZX19PmhlbGxvPC9kaXY+XCIpO1xuICB2YXIgb2JqZWN0ID0geyB2YWx1ZTogXCJ3b3JsZFwiIH07XG5cbiAgdmFyIHJlc3VsdCA9IHRlbXBsYXRlLnJlbmRlcihvYmplY3QsIGVudik7XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCBcIjxkaXYgY2xhc3M9J3dvcmxkJz5oZWxsbzwvZGl2PlwiLCBcIkluaXRpYWwgcmVuZGVyXCIpO1xuXG4gIG9iamVjdC52YWx1ZSA9IFwidW5pdmVyc2VcIjtcbiAgcmVzdWx0LnJldmFsaWRhdGUoKTsgLy8gd2l0aG91dCBzZXR0aW5nIHRoZSBub2RlIHRvIGRpcnR5XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCBcIjxkaXYgY2xhc3M9J3dvcmxkJz5oZWxsbzwvZGl2PlwiLCBcIlJldmFsaWRhdGluZyB3aXRob3V0IGRpcnR5aW5nXCIpO1xuXG4gIHZhciBhdHRyUmVuZGVyTm9kZSA9IHJlc3VsdC5yb290LmNoaWxkTm9kZXNbMF07XG5cbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCBcIjxkaXYgY2xhc3M9J3VuaXZlcnNlJz5oZWxsbzwvZGl2PlwiLCBcIlJldmFsaWRhdGluZyBhZnRlciBkaXJ0eWluZ1wiKTtcblxuICBhdHRyUmVuZGVyTm9kZS5zZXRDb250ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgb2soZmFsc2UsIFwiU2hvdWxkIG5vdCBnZXQgY2FsbGVkXCIpO1xuICB9O1xuXG4gIG9iamVjdC52YWx1ZSA9IFwidW5pdmVyc2VcIjtcbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG59KTtcblxudGVzdChcImF0dHJpYnV0ZSBub2RlcyB3LyBjb25jYXQgZm9sbG93IHRoZSBub3JtYWwgZGlydHlpbmcgcnVsZXNcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoXCI8ZGl2IGNsYXNzPSdoZWxsbyB7e3ZhbHVlfX0nPmhlbGxvPC9kaXY+XCIpO1xuICB2YXIgb2JqZWN0ID0geyB2YWx1ZTogXCJ3b3JsZFwiIH07XG4gIHZhciByZXN1bHQgPSB0ZW1wbGF0ZS5yZW5kZXIob2JqZWN0LCBlbnYpO1xuXG4gIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgXCI8ZGl2IGNsYXNzPSdoZWxsbyB3b3JsZCc+aGVsbG88L2Rpdj5cIik7XG5cbiAgb2JqZWN0LnZhbHVlID0gXCJ1bml2ZXJzZVwiO1xuICByZXN1bHQucmV2YWxpZGF0ZSgpOyAvLyB3aXRob3V0IHNldHRpbmcgdGhlIG5vZGUgdG8gZGlydHlcblxuICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIFwiPGRpdiBjbGFzcz0naGVsbG8gd29ybGQnPmhlbGxvPC9kaXY+XCIpO1xuXG4gIHZhciBhdHRyUmVuZGVyTm9kZSA9IHJlc3VsdC5yb290LmNoaWxkTm9kZXNbMF07XG5cbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCBcIjxkaXYgY2xhc3M9J2hlbGxvIHVuaXZlcnNlJz5oZWxsbzwvZGl2PlwiKTtcblxuICBhdHRyUmVuZGVyTm9kZS5zZXRDb250ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgb2soZmFsc2UsIFwiU2hvdWxkIG5vdCBnZXQgY2FsbGVkXCIpO1xuICB9O1xuXG4gIG9iamVjdC52YWx1ZSA9IFwidW5pdmVyc2VcIjtcbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG59KTtcblxudGVzdEVhY2hIZWxwZXIoXG4gIFwiQW4gaW1wbGVtZW50YXRpb24gb2YgI2VhY2ggdXNpbmcgYmxvY2sgcGFyYW1zXCIsXG4gIFwiPHVsPnt7I2VhY2ggbGlzdCBhcyB8aXRlbXx9fTxsaSBjbGFzcz17e2l0ZW0uY2xhc3N9fT57e2l0ZW0ubmFtZX19PC9saT57ey9lYWNofX08L3VsPlwiXG4pO1xuXG50ZXN0RWFjaEhlbHBlcihcbiAgXCJBbiBpbXBsZW1lbnRhdGlvbiBvZiAjZWFjaCB1c2luZyBhIHNlbGYgYmluZGluZ1wiLFxuICBcIjx1bD57eyNlYWNoIGxpc3R9fTxsaSBjbGFzcz17e2NsYXNzfX0+e3tuYW1lfX08L2xpPnt7L2VhY2h9fTwvdWw+XCJcbik7XG5cbmZ1bmN0aW9uIHRlc3RFYWNoSGVscGVyKHRlc3ROYW1lLCB0ZW1wbGF0ZVNvdXJjZSkge1xuICB0ZXN0KHRlc3ROYW1lLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKHRlbXBsYXRlU291cmNlKTtcbiAgICB2YXIgb2JqZWN0ID0geyBsaXN0OiBbXG4gICAgICB7IGtleTogXCIxXCIsIG5hbWU6IFwiVG9tIERhbGVcIiwgXCJjbGFzc1wiOiBcInRvbWRhbGVcIiB9LFxuICAgICAgeyBrZXk6IFwiMlwiLCBuYW1lOiBcIlllaHVkYSBLYXR6XCIsIFwiY2xhc3NcIjogXCJ3eWNhdHNcIiB9XG4gICAgXX07XG4gICAgdmFyIHJlc3VsdCA9IHRlbXBsYXRlLnJlbmRlcihvYmplY3QsIGVudik7XG5cbiAgICB2YXIgaXRlbU5vZGUgPSBnZXRJdGVtTm9kZSgndG9tZGFsZScpO1xuICAgIHZhciBuYW1lTm9kZSA9IGdldE5hbWVOb2RlKCd0b21kYWxlJyk7XG5cbiAgICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIFwiPHVsPjxsaSBjbGFzcz0ndG9tZGFsZSc+VG9tIERhbGU8L2xpPjxsaSBjbGFzcz0nd3ljYXRzJz5ZZWh1ZGEgS2F0ejwvbGk+PC91bD5cIiwgXCJJbml0aWFsIHJlbmRlclwiKTtcblxuICAgIHJlcmVuZGVyKCk7XG4gICAgYXNzZXJ0U3RhYmxlTm9kZXMoJ3RvbWRhbGUnLCBcImFmdGVyIG5vLW9wIHJlcmVuZGVyXCIpO1xuICAgIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgXCI8dWw+PGxpIGNsYXNzPSd0b21kYWxlJz5Ub20gRGFsZTwvbGk+PGxpIGNsYXNzPSd3eWNhdHMnPlllaHVkYSBLYXR6PC9saT48L3VsPlwiLCBcIkFmdGVyIG5vLW9wIHJlLXJlbmRlclwiKTtcblxuICAgIHJlc3VsdC5yZXZhbGlkYXRlKCk7XG4gICAgYXNzZXJ0U3RhYmxlTm9kZXMoJ3RvbWRhbGUnLCBcImFmdGVyIG5vbi1kaXJ0eSByZXJlbmRlclwiKTtcbiAgICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIFwiPHVsPjxsaSBjbGFzcz0ndG9tZGFsZSc+VG9tIERhbGU8L2xpPjxsaSBjbGFzcz0nd3ljYXRzJz5ZZWh1ZGEgS2F0ejwvbGk+PC91bD5cIiwgXCJBZnRlciBuby1vcCByZS1yZW5kZXJcIik7XG5cbiAgICBvYmplY3QgPSB7IGxpc3Q6IFtvYmplY3QubGlzdFsxXSwgb2JqZWN0Lmxpc3RbMF1dIH07XG4gICAgcmVyZW5kZXIob2JqZWN0KTtcbiAgICBhc3NlcnRTdGFibGVOb2RlcygndG9tZGFsZScsIFwiYWZ0ZXIgY2hhbmdpbmcgdGhlIGxpc3Qgb3JkZXJcIik7XG4gICAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCBcIjx1bD48bGkgY2xhc3M9J3d5Y2F0cyc+WWVodWRhIEthdHo8L2xpPjxsaSBjbGFzcz0ndG9tZGFsZSc+VG9tIERhbGU8L2xpPjwvdWw+XCIsIFwiQWZ0ZXIgY2hhbmdpbmcgdGhlIGxpc3Qgb3JkZXJcIik7XG5cbiAgICBvYmplY3QgPSB7IGxpc3Q6IFtcbiAgICAgIHsga2V5OiBcIjFcIiwgbmFtZTogXCJNYXJ0aW4gTXXDsW96XCIsIFwiY2xhc3NcIjogXCJtbXVuXCIgfSxcbiAgICAgIHsga2V5OiBcIjJcIiwgbmFtZTogXCJLcmlzIFNlbGRlblwiLCBcImNsYXNzXCI6IFwia3Jpc3NlbGRlblwiIH1cbiAgICBdfTtcbiAgICByZXJlbmRlcihvYmplY3QpO1xuICAgIGFzc2VydFN0YWJsZU5vZGVzKCdtbXVuJywgXCJhZnRlciBjaGFuZ2luZyB0aGUgbGlzdCBlbnRyaWVzLCBidXQgd2l0aCBzdGFibGUga2V5c1wiKTtcbiAgICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIFwiPHVsPjxsaSBjbGFzcz0nbW11bic+TWFydGluIE11w7FvejwvbGk+PGxpIGNsYXNzPSdrcmlzc2VsZGVuJz5LcmlzIFNlbGRlbjwvbGk+PC91bD5cIiwgXCJBZnRlciBjaGFuZ2luZyB0aGUgbGlzdCBlbnRyaWVzLCBidXQgd2l0aCBzdGFibGUga2V5c1wiKTtcblxuICAgIG9iamVjdCA9IHsgbGlzdDogW1xuICAgICAgeyBrZXk6IFwiMVwiLCBuYW1lOiBcIk1hcnRpbiBNdcOxb3pcIiwgXCJjbGFzc1wiOiBcIm1tdW5cIiB9LFxuICAgICAgeyBrZXk6IFwiMlwiLCBuYW1lOiBcIktyaXN0b3BoIFNlbGRlblwiLCBcImNsYXNzXCI6IFwia3Jpc3NlbGRlblwiIH0sXG4gICAgICB7IGtleTogXCIzXCIsIG5hbWU6IFwiTWF0dGhldyBCZWFsZVwiLCBcImNsYXNzXCI6IFwibWl4b25pY1wiIH1cbiAgICBdfTtcblxuICAgIHJlcmVuZGVyKG9iamVjdCk7XG4gICAgYXNzZXJ0U3RhYmxlTm9kZXMoJ21tdW4nLCBcImFmdGVyIGFkZGluZyBhbiBhZGRpdGlvbmFsIGVudHJ5XCIpO1xuICAgIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgXCI8dWw+PGxpIGNsYXNzPSdtbXVuJz5NYXJ0aW4gTXXDsW96PC9saT48bGkgY2xhc3M9J2tyaXNzZWxkZW4nPktyaXN0b3BoIFNlbGRlbjwvbGk+PGxpIGNsYXNzPSdtaXhvbmljJz5NYXR0aGV3IEJlYWxlPC9saT48L3VsPlwiLCBcIkFmdGVyIGFkZGluZyBhbiBhZGRpdGlvbmFsIGVudHJ5XCIpO1xuXG4gICAgb2JqZWN0ID0geyBsaXN0OiBbXG4gICAgICB7IGtleTogXCIxXCIsIG5hbWU6IFwiTWFydGluIE11w7FvelwiLCBcImNsYXNzXCI6IFwibW11blwiIH0sXG4gICAgICB7IGtleTogXCIzXCIsIG5hbWU6IFwiTWF0dGhldyBCZWFsZVwiLCBcImNsYXNzXCI6IFwibWl4b25pY1wiIH1cbiAgICBdfTtcblxuICAgIHJlcmVuZGVyKG9iamVjdCk7XG4gICAgYXNzZXJ0U3RhYmxlTm9kZXMoJ21tdW4nLCBcImFmdGVyIHJlbW92aW5nIHRoZSBtaWRkbGUgZW50cnlcIik7XG4gICAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCBcIjx1bD48bGkgY2xhc3M9J21tdW4nPk1hcnRpbiBNdcOxb3o8L2xpPjxsaSBjbGFzcz0nbWl4b25pYyc+TWF0dGhldyBCZWFsZTwvbGk+PC91bD5cIiwgXCJhZnRlciByZW1vdmluZyB0aGUgbWlkZGxlIGVudHJ5XCIpO1xuXG4gICAgb2JqZWN0ID0geyBsaXN0OiBbXG4gICAgICB7IGtleTogXCIxXCIsIG5hbWU6IFwiTWFydGluIE11w7FvelwiLCBcImNsYXNzXCI6IFwibW11blwiIH0sXG4gICAgICB7IGtleTogXCI0XCIsIG5hbWU6IFwiU3RlZmFuIFBlbm5lclwiLCBcImNsYXNzXCI6IFwic3RlZmFucGVubmVyXCIgfSxcbiAgICAgIHsga2V5OiBcIjVcIiwgbmFtZTogXCJSb2JlcnQgSmFja3NvblwiLCBcImNsYXNzXCI6IFwicndqYmx1ZVwiIH1cbiAgICBdfTtcblxuICAgIHJlcmVuZGVyKG9iamVjdCk7XG4gICAgYXNzZXJ0U3RhYmxlTm9kZXMoJ21tdW4nLCBcImFmdGVyIGFkZGluZyB0d28gbW9yZSBlbnRyaWVzXCIpO1xuICAgIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgXCI8dWw+PGxpIGNsYXNzPSdtbXVuJz5NYXJ0aW4gTXXDsW96PC9saT48bGkgY2xhc3M9J3N0ZWZhbnBlbm5lcic+U3RlZmFuIFBlbm5lcjwvbGk+PGxpIGNsYXNzPSdyd2pibHVlJz5Sb2JlcnQgSmFja3NvbjwvbGk+PC91bD5cIiwgXCJBZnRlciBhZGRpbmcgdHdvIG1vcmUgZW50cmllc1wiKTtcblxuICAgIC8vIE5ldyBub2RlIGZvciBzdGFiaWxpdHkgY2hlY2tcbiAgICBpdGVtTm9kZSA9IGdldEl0ZW1Ob2RlKCdyd2pibHVlJyk7XG4gICAgbmFtZU5vZGUgPSBnZXROYW1lTm9kZSgncndqYmx1ZScpO1xuXG4gICAgb2JqZWN0ID0geyBsaXN0OiBbXG4gICAgICB7IGtleTogXCI1XCIsIG5hbWU6IFwiUm9iZXJ0IEphY2tzb25cIiwgXCJjbGFzc1wiOiBcInJ3amJsdWVcIiB9XG4gICAgXX07XG5cbiAgICByZXJlbmRlcihvYmplY3QpO1xuICAgIGFzc2VydFN0YWJsZU5vZGVzKCdyd2pibHVlJywgXCJhZnRlciByZW1vdmluZyB0d28gZW50cmllc1wiKTtcbiAgICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIFwiPHVsPjxsaSBjbGFzcz0ncndqYmx1ZSc+Um9iZXJ0IEphY2tzb248L2xpPjwvdWw+XCIsIFwiQWZ0ZXIgcmVtb3ZpbmcgdHdvIGVudHJpZXNcIik7XG5cbiAgICBvYmplY3QgPSB7IGxpc3Q6IFtcbiAgICAgIHsga2V5OiBcIjFcIiwgbmFtZTogXCJNYXJ0aW4gTXXDsW96XCIsIFwiY2xhc3NcIjogXCJtbXVuXCIgfSxcbiAgICAgIHsga2V5OiBcIjRcIiwgbmFtZTogXCJTdGVmYW4gUGVubmVyXCIsIFwiY2xhc3NcIjogXCJzdGVmYW5wZW5uZXJcIiB9LFxuICAgICAgeyBrZXk6IFwiNVwiLCBuYW1lOiBcIlJvYmVydCBKYWNrc29uXCIsIFwiY2xhc3NcIjogXCJyd2pibHVlXCIgfVxuICAgIF19O1xuXG4gICAgcmVyZW5kZXIob2JqZWN0KTtcbiAgICBhc3NlcnRTdGFibGVOb2RlcygncndqYmx1ZScsIFwiYWZ0ZXIgYWRkaW5nIGJhY2sgZW50cmllc1wiKTtcbiAgICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIFwiPHVsPjxsaSBjbGFzcz0nbW11bic+TWFydGluIE11w7FvejwvbGk+PGxpIGNsYXNzPSdzdGVmYW5wZW5uZXInPlN0ZWZhbiBQZW5uZXI8L2xpPjxsaSBjbGFzcz0ncndqYmx1ZSc+Um9iZXJ0IEphY2tzb248L2xpPjwvdWw+XCIsIFwiQWZ0ZXIgYWRkaW5nIGJhY2sgZW50cmllc1wiKTtcblxuICAgIC8vIE5ldyBub2RlIGZvciBzdGFiaWxpdHkgY2hlY2tcbiAgICBpdGVtTm9kZSA9IGdldEl0ZW1Ob2RlKCdtbXVuJyk7XG4gICAgbmFtZU5vZGUgPSBnZXROYW1lTm9kZSgnbW11bicpO1xuXG4gICAgb2JqZWN0ID0geyBsaXN0OiBbXG4gICAgICB7IGtleTogXCIxXCIsIG5hbWU6IFwiTWFydGluIE11w7FvelwiLCBcImNsYXNzXCI6IFwibW11blwiIH1cbiAgICBdfTtcblxuICAgIHJlcmVuZGVyKG9iamVjdCk7XG4gICAgYXNzZXJ0U3RhYmxlTm9kZXMoJ21tdW4nLCBcImFmdGVyIHJlbW92aW5nIGZyb20gdGhlIGJhY2tcIik7XG4gICAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCBcIjx1bD48bGkgY2xhc3M9J21tdW4nPk1hcnRpbiBNdcOxb3o8L2xpPjwvdWw+XCIsIFwiQWZ0ZXIgcmVtb3ZpbmcgZnJvbSB0aGUgYmFja1wiKTtcblxuICAgIG9iamVjdCA9IHsgbGlzdDogW10gfTtcblxuICAgIHJlcmVuZGVyKG9iamVjdCk7XG4gICAgc3RyaWN0RXF1YWwocmVzdWx0LmZyYWdtZW50LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5ub2RlVHlwZSwgOCwgXCJ0aGVyZSBhcmUgbm8gbGkncyBhZnRlciByZW1vdmluZyB0aGUgcmVtYWluaW5nIGVudHJ5XCIpO1xuICAgIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgXCI8dWw+PCEtLS0tPjwvdWw+XCIsIFwiQWZ0ZXIgcmVtb3ZpbmcgdGhlIHJlbWFpbmluZyBlbnRyaWVzXCIpO1xuXG4gICAgZnVuY3Rpb24gcmVyZW5kZXIoY29udGV4dCkge1xuICAgICAgcmVzdWx0LnJlcmVuZGVyKGVudiwgY29udGV4dCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXNzZXJ0U3RhYmxlTm9kZXMoY2xhc3NOYW1lLCBtZXNzYWdlKSB7XG4gICAgICBzdHJpY3RFcXVhbChnZXRJdGVtTm9kZShjbGFzc05hbWUpLCBpdGVtTm9kZSwgXCJUaGUgaXRlbSBub2RlIGhhcyBub3QgY2hhbmdlZCBcIiArIG1lc3NhZ2UpO1xuICAgICAgc3RyaWN0RXF1YWwoZ2V0TmFtZU5vZGUoY2xhc3NOYW1lKSwgbmFtZU5vZGUsIFwiVGhlIG5hbWUgbm9kZSBoYXMgbm90IGNoYW5nZWQgXCIgKyBtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRJdGVtTm9kZShjbGFzc05hbWUpIHtcbiAgICAgIC8vIDxsaT5cbiAgICAgIHZhciBpdGVtTm9kZSA9IHJlc3VsdC5mcmFnbWVudC5maXJzdENoaWxkLmZpcnN0Q2hpbGQ7XG5cbiAgICAgIHdoaWxlIChpdGVtTm9kZSkge1xuICAgICAgICBpZiAoaXRlbU5vZGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpID09PSBjbGFzc05hbWUpIHsgYnJlYWs7IH1cbiAgICAgICAgaXRlbU5vZGUgPSBpdGVtTm9kZS5uZXh0U2libGluZztcbiAgICAgIH1cblxuICAgICAgb2soaXRlbU5vZGUsIFwiRXhwZWN0ZWQgbm9kZSB3aXRoIGNsYXNzPSdcIiArIGNsYXNzTmFtZSArIFwiJ1wiKTtcbiAgICAgIHJldHVybiBpdGVtTm9kZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXROYW1lTm9kZShjbGFzc05hbWUpIHtcbiAgICAgIC8vIHt7aXRlbS5uYW1lfX1cbiAgICAgIHZhciBpdGVtTm9kZSA9IGdldEl0ZW1Ob2RlKGNsYXNzTmFtZSk7XG4gICAgICBvayhpdGVtTm9kZSwgXCJFeHBlY3RlZCBjaGlsZCBub2RlIG9mIG5vZGUgd2l0aCBjbGFzcz0nXCIgKyBjbGFzc05hbWUgKyBcIicsIGJ1dCBubyBwYXJlbnQgbm9kZSBmb3VuZFwiKTtcblxuICAgICAgdmFyIGNoaWxkTm9kZSA9IGl0ZW1Ob2RlICYmIGl0ZW1Ob2RlLmZpcnN0Q2hpbGQ7XG4gICAgICBvayhjaGlsZE5vZGUsIFwiRXhwZWN0ZWQgY2hpbGQgbm9kZSBvZiBub2RlIHdpdGggY2xhc3M9J1wiICsgY2xhc3NOYW1lICsgXCInLCBidXQgbm90IGNoaWxkIG5vZGUgZm91bmRcIik7XG5cbiAgICAgIHJldHVybiBjaGlsZE5vZGU7XG4gICAgfVxuICB9KTtcbn1cblxudGVzdChcIlJldHVybmluZyB0cnVlIGZyb20gYGxpbmtSZW5kZXJOb2Rlc2AgbWFrZXMgdGhlIHZhbHVlIGl0c2VsZiBzdGFibGUgYWNyb3NzIHJlbmRlcnNcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBzdHJlYW1zID0geyBoZWxsbzogeyB2YWx1ZTogXCJoZWxsb1wiIH0sIHdvcmxkOiB7IHZhbHVlOiBcIndvcmxkXCIgfSB9O1xuXG4gIGhvb2tzLmxpbmtSZW5kZXJOb2RlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgaG9va3MuZ2V0VmFsdWUgPSBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICByZXR1cm4gc3RyZWFtKCk7XG4gIH07XG5cbiAgdmFyIGNvbmNhdENhbGxlZCA9IDA7XG4gIGhvb2tzLmNvbmNhdCA9IGZ1bmN0aW9uKGVudiwgcGFyYW1zKSB7XG4gICAgb2soKytjb25jYXRDYWxsZWQgPT09IDEsIFwiVGhlIGNvbmNhdCBob29rIGlzIG9ubHkgaW52b2tlZCBvbmUgdGltZSAoaW52b2tlZCBcIiArIGNvbmNhdENhbGxlZCArIFwiIHRpbWVzKVwiKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcGFyYW1zWzBdLnZhbHVlICsgcGFyYW1zWzFdICsgcGFyYW1zWzJdLnZhbHVlO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShcIjxkaXYgY2xhc3M9J3t7aGVsbG99fSB7e3dvcmxkfX0nPjwvZGl2PlwiKTtcbiAgdmFyIHJlc3VsdCA9IHRlbXBsYXRlLnJlbmRlcihzdHJlYW1zLCBlbnYpO1xuXG4gIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgXCI8ZGl2IGNsYXNzPSdoZWxsbyB3b3JsZCc+PC9kaXY+XCIpO1xuXG4gIHN0cmVhbXMuaGVsbG8udmFsdWUgPSBcImdvb2RieWVcIjtcblxuICByZXN1bHQucmVyZW5kZXIoKTtcblxuICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIFwiPGRpdiBjbGFzcz0nZ29vZGJ5ZSB3b3JsZCc+PC9kaXY+XCIpO1xufSk7XG5cbnZhciBkZXN0cm95ZWRSZW5kZXJOb2RlQ291bnQ7XG52YXIgZGVzdHJveWVkUmVuZGVyTm9kZTtcblxuUVVuaXQubW9kdWxlKFwiSFRNTC1iYXNlZCBjb21waWxlciAoZGlydHlpbmcpIC0gcHJ1bmluZ1wiLCB7XG4gIGJlZm9yZUVhY2g6IGZ1bmN0aW9uKCkge1xuICAgIGNvbW1vblNldHVwKCk7XG4gICAgZGVzdHJveWVkUmVuZGVyTm9kZUNvdW50ID0gMDtcbiAgICBkZXN0cm95ZWRSZW5kZXJOb2RlID0gbnVsbDtcblxuICAgIGhvb2tzLmRlc3Ryb3lSZW5kZXJOb2RlID0gZnVuY3Rpb24ocmVuZGVyTm9kZSkge1xuICAgICAgZGVzdHJveWVkUmVuZGVyTm9kZSA9IHJlbmRlck5vZGU7XG4gICAgICBkZXN0cm95ZWRSZW5kZXJOb2RlQ291bnQrKztcbiAgICB9O1xuICB9XG59KTtcblxudGVzdChcIlBydW5lZCByZW5kZXIgbm9kZXMgaW52b2tlIGEgY2xlYW51cCBob29rIHdoZW4gcmVwbGFjZWRcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBvYmplY3QgPSB7IGNvbmRpdGlvbjogdHJ1ZSwgdmFsdWU6ICdoZWxsbyB3b3JsZCcsIGZhbHN5OiBcIk5vdGhpbmdcIiB9O1xuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKCc8ZGl2Pnt7I2lmIGNvbmRpdGlvbn19PHA+e3t2YWx1ZX19PC9wPnt7ZWxzZX19PHA+e3tmYWxzeX19PC9wPnt7L2lmfX08L2Rpdj4nKTtcblxuICB2YXIgcmVzdWx0ID0gdGVtcGxhdGUucmVuZGVyKG9iamVjdCwgZW52KTtcblxuICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIFwiPGRpdj48cD5oZWxsbyB3b3JsZDwvcD48L2Rpdj5cIik7XG5cbiAgb2JqZWN0LmNvbmRpdGlvbiA9IGZhbHNlO1xuICByZXN1bHQucmVyZW5kZXIoKTtcblxuICBzdHJpY3RFcXVhbChkZXN0cm95ZWRSZW5kZXJOb2RlQ291bnQsIDEsIFwiY2xlYW51cCBob29rIHdhcyBpbnZva2VkIG9uY2VcIik7XG4gIHN0cmljdEVxdWFsKGRlc3Ryb3llZFJlbmRlck5vZGUubGFzdFZhbHVlLCAnaGVsbG8gd29ybGQnLCBcIlRoZSBjb3JyZWN0IHJlbmRlciBub2RlIGlzIHBhc3NlZCBpblwiKTtcblxuICBvYmplY3QuY29uZGl0aW9uID0gdHJ1ZTtcbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG5cbiAgc3RyaWN0RXF1YWwoZGVzdHJveWVkUmVuZGVyTm9kZUNvdW50LCAyLCBcImNsZWFudXAgaG9vayB3YXMgaW52b2tlZCBhZ2FpblwiKTtcbiAgc3RyaWN0RXF1YWwoZGVzdHJveWVkUmVuZGVyTm9kZS5sYXN0VmFsdWUsICdOb3RoaW5nJywgXCJUaGUgY29ycmVjdCByZW5kZXIgbm9kZSBpcyBwYXNzZWQgaW5cIik7XG59KTtcblxudGVzdChcIk1vcnBoTGlzdHMgaW4gY2hpbGROb2RlcyBhcmUgcHJvcGVybHkgY2xlYXJlZFwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIG9iamVjdCA9IHtcbiAgICBjb25kaXRpb246IHRydWUsXG4gICAgZmFsc3k6IFwiTm90aGluZ1wiLFxuICAgIGxpc3Q6IFtcbiAgICAgIHsga2V5OiBcIjFcIiwgd29yZDogJ0hlbGxvJyB9LFxuICAgICAgeyBrZXk6IFwiMlwiLCB3b3JkOiAnV29ybGQnIH1cbiAgICBdXG4gIH07XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxkaXY+e3sjaWYgY29uZGl0aW9ufX17eyNlYWNoIGxpc3QgYXMgfGl0ZW18fX08cD57e2l0ZW0ud29yZH19PC9wPnt7L2VhY2h9fXt7ZWxzZX19PHA+e3tmYWxzeX19PC9wPnt7L2lmfX08L2Rpdj4nKTtcblxuICB2YXIgcmVzdWx0ID0gdGVtcGxhdGUucmVuZGVyKG9iamVjdCwgZW52KTtcblxuICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIFwiPGRpdj48cD5IZWxsbzwvcD48cD5Xb3JsZDwvcD48L2Rpdj5cIik7XG5cbiAgb2JqZWN0LmNvbmRpdGlvbiA9IGZhbHNlO1xuICByZXN1bHQucmVyZW5kZXIoKTtcblxuICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsIFwiPGRpdj48cD5Ob3RoaW5nPC9wPjwvZGl2PlwiKTtcblxuICBzdHJpY3RFcXVhbChkZXN0cm95ZWRSZW5kZXJOb2RlQ291bnQsIDUsIFwiY2xlYW51cCBob29rIHdhcyBpbnZva2VkIGZvciBlYWNoIG1vcnBoXCIpO1xuXG4gIG9iamVjdC5jb25kaXRpb24gPSB0cnVlO1xuICByZXN1bHQucmVyZW5kZXIoKTtcblxuICBzdHJpY3RFcXVhbChkZXN0cm95ZWRSZW5kZXJOb2RlQ291bnQsIDYsIFwiY2xlYW51cCBob29rIHdhcyBpbnZva2VkIGFnYWluXCIpO1xufSk7XG5cbnRlc3QoXCJQcnVuZWQgcmVuZGVyIG5vZGVzIGludm9rZSBhIGNsZWFudXAgaG9vayB3aGVuIGNsZWFyZWRcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBvYmplY3QgPSB7IGNvbmRpdGlvbjogdHJ1ZSwgdmFsdWU6ICdoZWxsbyB3b3JsZCcgfTtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZSgnPGRpdj57eyNpZiBjb25kaXRpb259fTxwPnt7dmFsdWV9fTwvcD57ey9pZn19PC9kaXY+Jyk7XG5cbiAgdmFyIHJlc3VsdCA9IHRlbXBsYXRlLnJlbmRlcihvYmplY3QsIGVudik7XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCBcIjxkaXY+PHA+aGVsbG8gd29ybGQ8L3A+PC9kaXY+XCIpO1xuXG4gIG9iamVjdC5jb25kaXRpb24gPSBmYWxzZTtcbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG5cbiAgc3RyaWN0RXF1YWwoZGVzdHJveWVkUmVuZGVyTm9kZUNvdW50LCAxLCBcImNsZWFudXAgaG9vayB3YXMgaW52b2tlZCBvbmNlXCIpO1xuICBzdHJpY3RFcXVhbChkZXN0cm95ZWRSZW5kZXJOb2RlLmxhc3RWYWx1ZSwgJ2hlbGxvIHdvcmxkJywgXCJUaGUgY29ycmVjdCByZW5kZXIgbm9kZSBpcyBwYXNzZWQgaW5cIik7XG5cbiAgb2JqZWN0LmNvbmRpdGlvbiA9IHRydWU7XG4gIHJlc3VsdC5yZXJlbmRlcigpO1xuXG4gIHN0cmljdEVxdWFsKGRlc3Ryb3llZFJlbmRlck5vZGVDb3VudCwgMSwgXCJjbGVhbnVwIGhvb2sgd2FzIG5vdCBpbnZva2VkIGFnYWluXCIpO1xufSk7XG5cbnRlc3QoXCJQcnVuZWQgbGlzdHMgaW52b2tlIGEgY2xlYW51cCBob29rIHdoZW4gcmVtb3ZpbmcgZWxlbWVudHNcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBvYmplY3QgPSB7IGxpc3Q6IFt7IGtleTogXCIxXCIsIHdvcmQ6IFwiaGVsbG9cIiB9LCB7IGtleTogXCIyXCIsIHdvcmQ6IFwid29ybGRcIiB9XSB9O1xuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKCc8ZGl2Pnt7I2VhY2ggbGlzdCBhcyB8aXRlbXx9fTxwPnt7aXRlbS53b3JkfX08L3A+e3svZWFjaH19PC9kaXY+Jyk7XG5cbiAgdmFyIHJlc3VsdCA9IHRlbXBsYXRlLnJlbmRlcihvYmplY3QsIGVudik7XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCBcIjxkaXY+PHA+aGVsbG88L3A+PHA+d29ybGQ8L3A+PC9kaXY+XCIpO1xuXG4gIG9iamVjdC5saXN0LnBvcCgpO1xuICByZXN1bHQucmVyZW5kZXIoKTtcblxuICBzdHJpY3RFcXVhbChkZXN0cm95ZWRSZW5kZXJOb2RlQ291bnQsIDIsIFwiY2xlYW51cCBob29rIHdhcyBpbnZva2VkIG9uY2UgZm9yIHRoZSB3cmFwcGVyIG1vcnBoIGFuZCBvbmNlIGZvciB0aGUge3tpdGVtLndvcmR9fVwiKTtcbiAgc3RyaWN0RXF1YWwoZGVzdHJveWVkUmVuZGVyTm9kZS5sYXN0VmFsdWUsIFwid29ybGRcIiwgXCJUaGUgY29ycmVjdCByZW5kZXIgbm9kZSBpcyBwYXNzZWQgaW5cIik7XG5cbiAgb2JqZWN0Lmxpc3QucG9wKCk7XG4gIHJlc3VsdC5yZXJlbmRlcigpO1xuXG4gIHN0cmljdEVxdWFsKGRlc3Ryb3llZFJlbmRlck5vZGVDb3VudCwgNCwgXCJjbGVhbnVwIGhvb2sgd2FzIGludm9rZWQgb25jZSBmb3IgdGhlIHdyYXBwZXIgbW9ycGggYW5kIG9uY2UgZm9yIHRoZSB7e2l0ZW0ud29yZH19XCIpO1xuICBzdHJpY3RFcXVhbChkZXN0cm95ZWRSZW5kZXJOb2RlLmxhc3RWYWx1ZSwgXCJoZWxsb1wiLCBcIlRoZSBjb3JyZWN0IHJlbmRlciBub2RlIGlzIHBhc3NlZCBpblwiKTtcbn0pO1xuXG50ZXN0KFwiUHJ1bmVkIGxpc3RzIGludm9rZSBhIGNsZWFudXAgaG9vayBvbiB0aGVpciBzdWJ0cmVlcyB3aGVuIHJlbW92aW5nIGVsZW1lbnRzXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgb2JqZWN0ID0geyBsaXN0OiBbeyBrZXk6IFwiMVwiLCB3b3JkOiBcImhlbGxvXCIgfSwgeyBrZXk6IFwiMlwiLCB3b3JkOiBcIndvcmxkXCIgfV0gfTtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZSgnPGRpdj57eyNlYWNoIGxpc3QgYXMgfGl0ZW18fX08cD57eyNpZiBpdGVtLndvcmR9fXt7aXRlbS53b3JkfX17ey9pZn19PC9wPnt7L2VhY2h9fTwvZGl2PicpO1xuXG4gIHZhciByZXN1bHQgPSB0ZW1wbGF0ZS5yZW5kZXIob2JqZWN0LCBlbnYpO1xuXG4gIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgXCI8ZGl2PjxwPmhlbGxvPC9wPjxwPndvcmxkPC9wPjwvZGl2PlwiKTtcblxuICBvYmplY3QubGlzdC5wb3AoKTtcbiAgcmVzdWx0LnJlcmVuZGVyKCk7XG5cbiAgc3RyaWN0RXF1YWwoZGVzdHJveWVkUmVuZGVyTm9kZUNvdW50LCAzLCBcImNsZWFudXAgaG9vayB3YXMgaW52b2tlZCBvbmNlIGZvciB0aGUgd3JhcHBlciBtb3JwaCBhbmQgb25jZSBmb3IgdGhlIHt7aXRlbS53b3JkfX1cIik7XG4gIHN0cmljdEVxdWFsKGRlc3Ryb3llZFJlbmRlck5vZGUubGFzdFZhbHVlLCBcIndvcmxkXCIsIFwiVGhlIGNvcnJlY3QgcmVuZGVyIG5vZGUgaXMgcGFzc2VkIGluXCIpO1xuXG4gIG9iamVjdC5saXN0LnBvcCgpO1xuICByZXN1bHQucmVyZW5kZXIoKTtcblxuICBzdHJpY3RFcXVhbChkZXN0cm95ZWRSZW5kZXJOb2RlQ291bnQsIDYsIFwiY2xlYW51cCBob29rIHdhcyBpbnZva2VkIG9uY2UgZm9yIHRoZSB3cmFwcGVyIG1vcnBoIGFuZCBvbmNlIGZvciB0aGUge3tpdGVtLndvcmR9fVwiKTtcbiAgc3RyaWN0RXF1YWwoZGVzdHJveWVkUmVuZGVyTm9kZS5sYXN0VmFsdWUsIFwiaGVsbG9cIiwgXCJUaGUgY29ycmVjdCByZW5kZXIgbm9kZSBpcyBwYXNzZWQgaW5cIik7XG59KTtcblxuUVVuaXQubW9kdWxlKFwiTWFudWFsIGVsZW1lbnRzXCIsIHtcbiAgYmVmb3JlRWFjaDogY29tbW9uU2V0dXBcbn0pO1xuXG5RVW5pdC5za2lwKFwiU2V0dGluZyB1cCBhIG1hbnVhbCBlbGVtZW50IHJlbmRlcnMgYW5kIHJldmFsaWRhdGVzXCIsIGZ1bmN0aW9uKCkge1xuICBob29rcy5rZXl3b3Jkc1snbWFudWFsLWVsZW1lbnQnXSA9IHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uKG1vcnBoLCBlbnYsIHNjb3BlLCBwYXJhbXMsIGhhc2gsIHRlbXBsYXRlLCBpbnZlcnNlLCB2aXNpdG9yKSB7XG4gICAgICB2YXIgYXR0cmlidXRlcyA9IHtcbiAgICAgICAgdGl0bGU6IFwiVG9tIERhbGVcIixcbiAgICAgICAgaHJlZjogWydjb25jYXQnLCBbJ2h0dHA6Ly90b21kYWxlLicsIFsnZ2V0JywgJ3RsZCddXV0sXG4gICAgICAgICdkYXRhLWJhcic6IFsnZ2V0JywgJ2JhciddXG4gICAgICB9O1xuXG4gICAgICB2YXIgbGF5b3V0ID0gbWFudWFsRWxlbWVudCgnc3BhbicsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICBob3N0QmxvY2sobW9ycGgsIGVudiwgc2NvcGUsIHRlbXBsYXRlLCBpbnZlcnNlLCBudWxsLCB2aXNpdG9yLCBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMudGVtcGxhdGVzLnRlbXBsYXRlLnlpZWxkSW4oeyByYXc6IGxheW91dCB9LCBoYXNoKTtcbiAgICAgIH0pO1xuXG4gICAgICBtYW51YWxFbGVtZW50KGVudiwgc2NvcGUsICdzcGFuJywgYXR0cmlidXRlcywgbW9ycGgpO1xuICAgIH0sXG5cbiAgICBpc1N0YWJsZTogZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9XG4gIH07XG5cbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShcInt7I21hbnVhbC1lbGVtZW50IGJhcj0nYmF6JyB0bGQ9J25ldCd9fUhlbGxvIHt7d29ybGR9fSF7ey9tYW51YWwtZWxlbWVudH19XCIpO1xuICB2YXIgcmVzdWx0ID0gdGVtcGxhdGUucmVuZGVyKHsgd29ybGQ6IFwid29ybGRcIiB9LCBlbnYpO1xuXG4gIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgXCI8c3BhbiB0aXRsZT0nVG9tIERhbGUnIGhyZWY9J2h0dHA6Ly90b21kYWxlLm5ldCcgZGF0YS1iYXI9J2Jheic+SGVsbG8gd29ybGQhPC9zcGFuPlwiKTtcbn0pO1xuXG50ZXN0KFwiSXQgaXMgcG9zc2libGUgdG8gbmVzdCBtdWx0aXBsZSB0ZW1wbGF0ZXMgaW50byBhIG1hbnVhbCBlbGVtZW50XCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgbGF5b3V0ID0gY29tcGlsZShcIjxlbT57e2F0dHJzLmZvb319LiB7e3lpZWxkfX08L2VtPlwiKTtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShcInt7I21hbnVhbC1lbGVtZW50IGZvbz0nZm9vJyBiYXI9J2JheicgdGxkPSduZXQnfX1IZWxsbyB7e3dvcmxkfX0he3svbWFudWFsLWVsZW1lbnR9fVwiKTtcblxuICBob29rcy5rZXl3b3Jkc1snbWFudWFsLWVsZW1lbnQnXSA9IHtcbiAgICByZW5kZXI6IGZ1bmN0aW9uKG1vcnBoLCBlbnYsIHNjb3BlLCBwYXJhbXMsIGhhc2gsIHRlbXBsYXRlLCBpbnZlcnNlLCB2aXNpdG9yKSB7XG4gICAgICB2YXIgYXR0cmlidXRlcyA9IHtcbiAgICAgICAgdGl0bGU6IFwiVG9tIERhbGVcIixcbiAgICAgICAgaHJlZjogYnVpbGRTdGF0ZW1lbnQoJ2NvbmNhdCcsIFsnaHR0cDovL3RvbWRhbGUuJywgYnVpbGRTdGF0ZW1lbnQoJ2dldCcsICd0bGQnKV0pLFxuICAgICAgICAnZGF0YS1iYXInOiBidWlsZFN0YXRlbWVudCgnZ2V0JywgJ2JhcicpXG4gICAgICB9O1xuXG4gICAgICB2YXIgZWxlbWVudFRlbXBsYXRlID0gbWFudWFsRWxlbWVudCgnc3BhbicsIGF0dHJpYnV0ZXMpO1xuXG4gICAgICB2YXIgY29udGVudEJsb2NrID0gYmxvY2tGb3IocmVuZGVyLCB0ZW1wbGF0ZSwgeyBzY29wZTogc2NvcGUgfSk7XG5cbiAgICAgIHZhciBsYXlvdXRCbG9jayA9IGJsb2NrRm9yKHJlbmRlciwgbGF5b3V0LnJhdywge1xuICAgICAgICB5aWVsZFRvOiBjb250ZW50QmxvY2ssXG4gICAgICAgIHNlbGY6IHsgYXR0cnM6IGhhc2ggfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBlbGVtZW50QmxvY2sgPSBibG9ja0ZvcihyZW5kZXIsIGVsZW1lbnRUZW1wbGF0ZSwge1xuICAgICAgICB5aWVsZFRvOiBsYXlvdXRCbG9jayxcbiAgICAgICAgc2VsZjogaGFzaFxuICAgICAgfSk7XG5cbiAgICAgIGVsZW1lbnRCbG9jay5pbnZva2UoZW52LCBudWxsLCB1bmRlZmluZWQsIG1vcnBoLCBudWxsLCB2aXNpdG9yKTtcbiAgICB9LFxuXG4gICAgaXNTdGFibGU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICB9O1xuXG4gIHZhciByZXN1bHQgPSB0ZW1wbGF0ZS5yZW5kZXIoeyB3b3JsZDogXCJ3b3JsZFwiIH0sIGVudik7XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCBcIjxzcGFuIHRpdGxlPSdUb20gRGFsZScgaHJlZj0naHR0cDovL3RvbWRhbGUubmV0JyBkYXRhLWJhcj0nYmF6Jz48ZW0+Zm9vLiBIZWxsbyB3b3JsZCE8L2VtPjwvc3Bhbj5cIik7XG59KTtcblxudGVzdChcIlRoZSBpbnZva2UgaGVscGVyIGhvb2sgY2FuIGluc3RydWN0IHRoZSBydW50aW1lIHRvIGxpbmsgdGhlIHJlc3VsdFwiLCBmdW5jdGlvbigpIHtcbiAgbGV0IGludm9rZUNvdW50ID0gMDtcblxuICBlbnYuaG9va3MuaW52b2tlSGVscGVyID0gZnVuY3Rpb24obW9ycGgsIGVudiwgc2NvcGUsIHZpc2l0b3IsIHBhcmFtcywgaGFzaCwgaGVscGVyKSB7XG4gICAgaW52b2tlQ291bnQrKztcbiAgICByZXR1cm4geyB2YWx1ZTogaGVscGVyKHBhcmFtcywgaGFzaCksIGxpbms6IHRydWUgfTtcbiAgfTtcblxuICBoZWxwZXJzLmRvdWJsZSA9IGZ1bmN0aW9uKFtpbnB1dF0pIHtcbiAgICByZXR1cm4gaW5wdXQgKiAyO1xuICB9O1xuXG4gIGxldCB0ZW1wbGF0ZSA9IGNvbXBpbGUoXCJ7e2RvdWJsZSAxMn19XCIpO1xuICBsZXQgcmVzdWx0ID0gdGVtcGxhdGUucmVuZGVyKHt9LCBlbnYpO1xuXG4gIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgXCIyNFwiKTtcbiAgZXF1YWwoaW52b2tlQ291bnQsIDEpO1xuXG4gIHJlc3VsdC5yZXJlbmRlcigpO1xuXG4gIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgXCIyNFwiKTtcbiAgZXF1YWwoaW52b2tlQ291bnQsIDEpO1xufSk7XG4iXX0=
define('htmlbars-compiler-tests/dirtying-test.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests');
  QUnit.test('htmlbars-compiler-tests/dirtying-test.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/dirtying-test.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2RpcnR5aW5nLXRlc3QuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLGtDQUFrQyxDQUFDLENBQUM7QUFDakQsT0FBSyxDQUFDLElBQUksQ0FBQyw2REFBNkQsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUN6RixVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSw4REFBOEQsQ0FBQyxDQUFDO0dBQ2pGLENBQUMsQ0FBQyIsImZpbGUiOiJodG1sYmFycy1jb21waWxlci10ZXN0cy9kaXJ0eWluZy10ZXN0LmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gaHRtbGJhcnMtY29tcGlsZXItdGVzdHMnKTtcblFVbml0LnRlc3QoJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2RpcnR5aW5nLXRlc3QuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2RpcnR5aW5nLXRlc3QuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define("htmlbars-compiler-tests/fragment-test", ["exports", "../htmlbars-compiler/fragment-opcode-compiler", "../htmlbars-compiler/fragment-javascript-compiler", "../dom-helper", "../htmlbars-syntax/parser", "../htmlbars-test-helpers"], function (exports, _htmlbarsCompilerFragmentOpcodeCompiler, _htmlbarsCompilerFragmentJavascriptCompiler, _domHelper, _htmlbarsSyntaxParser, _htmlbarsTestHelpers) {

  var xhtmlNamespace = "http://www.w3.org/1999/xhtml",
      svgNamespace = "http://www.w3.org/2000/svg";

  function fragmentFor(ast) {
    /* jshint evil: true */
    var fragmentOpcodeCompiler = new _htmlbarsCompilerFragmentOpcodeCompiler.default(),
        fragmentCompiler = new _htmlbarsCompilerFragmentJavascriptCompiler.default();

    var opcodes = fragmentOpcodeCompiler.compile(ast);
    var program = fragmentCompiler.compile(opcodes);

    var fn = new Function("dom", 'return ' + program)();

    return fn(new _domHelper.default());
  }

  QUnit.module('fragment');

  test('compiles a fragment', function () {
    var ast = _htmlbarsSyntaxParser.preprocess("<div>{{foo}} bar {{baz}}</div>");
    var divNode = fragmentFor(ast).firstChild;

    _htmlbarsTestHelpers.equalHTML(divNode, "<div><!----> bar <!----></div>");
  });

  if (document && document.createElementNS) {
    test('compiles an svg fragment', function () {
      var ast = _htmlbarsSyntaxParser.preprocess("<div><svg><circle/><foreignObject><span></span></foreignObject></svg></div>");
      var divNode = fragmentFor(ast).firstChild;

      equal(divNode.childNodes[0].namespaceURI, svgNamespace, 'svg has the right namespace');
      equal(divNode.childNodes[0].childNodes[0].namespaceURI, svgNamespace, 'circle has the right namespace');
      equal(divNode.childNodes[0].childNodes[1].namespaceURI, svgNamespace, 'foreignObject has the right namespace');
      equal(divNode.childNodes[0].childNodes[1].childNodes[0].namespaceURI, xhtmlNamespace, 'span has the right namespace');
    });
  }

  test('compiles an svg element with classes', function () {
    var ast = _htmlbarsSyntaxParser.preprocess('<svg class="red right hand"></svg>');
    var svgNode = fragmentFor(ast).firstChild;

    equal(svgNode.getAttribute('class'), 'red right hand');
  });

  if (document && document.createElementNS) {
    test('compiles an svg element with proper namespace', function () {
      var ast = _htmlbarsSyntaxParser.preprocess('<svg><use xlink:title="nice-title"></use></svg>');
      var svgNode = fragmentFor(ast).firstChild;

      equal(svgNode.childNodes[0].getAttributeNS('http://www.w3.org/1999/xlink', 'title'), 'nice-title');
      equal(svgNode.childNodes[0].attributes[0].namespaceURI, 'http://www.w3.org/1999/xlink');
      equal(svgNode.childNodes[0].attributes[0].name, 'xlink:title');
      equal(svgNode.childNodes[0].attributes[0].localName, 'title');
      equal(svgNode.childNodes[0].attributes[0].value, 'nice-title');
    });
  }

  test('converts entities to their char/string equivalent', function () {
    var ast = _htmlbarsSyntaxParser.preprocess("<div title=\"&quot;Foo &amp; Bar&quot;\">lol &lt; &#60;&#x3c; &#x3C; &LT; &NotGreaterFullEqual; &Borksnorlax;</div>");
    var divNode = fragmentFor(ast).firstChild;

    equal(divNode.getAttribute('title'), '"Foo & Bar"');
    equal(_htmlbarsTestHelpers.getTextContent(divNode), "lol < << < <  &Borksnorlax;");
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2ZyYWdtZW50LXRlc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFNQSxNQUFJLGNBQWMsR0FBRyw4QkFBOEI7TUFDL0MsWUFBWSxHQUFHLDRCQUE0QixDQUFDOztBQUVoRCxXQUFTLFdBQVcsQ0FBQyxHQUFHLEVBQUU7O0FBRXhCLFFBQUksc0JBQXNCLEdBQUcscURBQTRCO1FBQ3JELGdCQUFnQixHQUFHLHlEQUFnQyxDQUFDOztBQUV4RCxRQUFJLE9BQU8sR0FBRyxzQkFBc0IsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDbEQsUUFBSSxPQUFPLEdBQUcsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDOztBQUVoRCxRQUFJLEVBQUUsR0FBRyxJQUFJLFFBQVEsQ0FBQyxLQUFLLEVBQUUsU0FBUyxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUM7O0FBRXBELFdBQU8sRUFBRSxDQUFDLHdCQUFlLENBQUMsQ0FBQztHQUM1Qjs7QUFFRCxPQUFLLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDOztBQUV6QixNQUFJLENBQUMscUJBQXFCLEVBQUUsWUFBWTtBQUN0QyxRQUFJLEdBQUcsR0FBRyxzQkF0QkgsVUFBVSxDQXNCSSxnQ0FBZ0MsQ0FBQyxDQUFDO0FBQ3ZELFFBQUksT0FBTyxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxVQUFVLENBQUM7O0FBRTFDLHlCQXhCTyxTQUFTLENBd0JOLE9BQU8sRUFBRSxnQ0FBZ0MsQ0FBQyxDQUFDO0dBQ3RELENBQUMsQ0FBQzs7QUFFSCxNQUFJLFFBQVEsSUFBSSxRQUFRLENBQUMsZUFBZSxFQUFFO0FBQ3hDLFFBQUksQ0FBQywwQkFBMEIsRUFBRSxZQUFZO0FBQzNDLFVBQUksR0FBRyxHQUFHLHNCQTlCTCxVQUFVLENBOEJNLDZFQUE2RSxDQUFDLENBQUM7QUFDcEcsVUFBSSxPQUFPLEdBQUcsV0FBVyxDQUFDLEdBQUcs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bnRlbnQiOlsiaW1wb3J0IEZyYWdtZW50T3Bjb2RlQ29tcGlsZXIgZnJvbSBcIi4uL2h0bWxiYXJzLWNvbXBpbGVyL2ZyYWdtZW50LW9wY29kZS1jb21waWxlclwiO1xuaW1wb3J0IEZyYWdtZW50SmF2YVNjcmlwdENvbXBpbGVyIGZyb20gXCIuLi9odG1sYmFycy1jb21waWxlci9mcmFnbWVudC1qYXZhc2NyaXB0LWNvbXBpbGVyXCI7XG5pbXBvcnQgRE9NSGVscGVyIGZyb20gXCIuLi9kb20taGVscGVyXCI7XG5pbXBvcnQgeyBwcmVwcm9jZXNzIH0gZnJvbSBcIi4uL2h0bWxiYXJzLXN5bnRheC9wYXJzZXJcIjtcbmltcG9ydCB7IGVxdWFsSFRNTCwgZ2V0VGV4dENvbnRlbnQgfSBmcm9tIFwiLi4vaHRtbGJhcnMtdGVzdC1oZWxwZXJzXCI7XG5cbnZhciB4aHRtbE5hbWVzcGFjZSA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLFxuICAgIHN2Z05hbWVzcGFjZSA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcblxuZnVuY3Rpb24gZnJhZ21lbnRGb3IoYXN0KSB7XG4gIC8qIGpzaGludCBldmlsOiB0cnVlICovXG4gIHZhciBmcmFnbWVudE9wY29kZUNvbXBpbGVyID0gbmV3IEZyYWdtZW50T3Bjb2RlQ29tcGlsZXIoKSxcbiAgICAgIGZyYWdtZW50Q29tcGlsZXIgPSBuZXcgRnJhZ21lbnRKYXZhU2NyaXB0Q29tcGlsZXIoKTtcblxuICB2YXIgb3Bjb2RlcyA9IGZyYWdtZW50T3Bjb2RlQ29tcGlsZXIuY29tcGlsZShhc3QpO1xuICB2YXIgcHJvZ3JhbSA9IGZyYWdtZW50Q29tcGlsZXIuY29tcGlsZShvcGNvZGVzKTtcblxuICB2YXIgZm4gPSBuZXcgRnVuY3Rpb24oXCJkb21cIiwgJ3JldHVybiAnICsgcHJvZ3JhbSkoKTtcblxuICByZXR1cm4gZm4obmV3IERPTUhlbHBlcigpKTtcbn1cblxuUVVuaXQubW9kdWxlKCdmcmFnbWVudCcpO1xuXG50ZXN0KCdjb21waWxlcyBhIGZyYWdtZW50JywgZnVuY3Rpb24gKCkge1xuICB2YXIgYXN0ID0gcHJlcHJvY2VzcyhcIjxkaXY+e3tmb299fSBiYXIge3tiYXp9fTwvZGl2PlwiKTtcbiAgdmFyIGRpdk5vZGUgPSBmcmFnbWVudEZvcihhc3QpLmZpcnN0Q2hpbGQ7XG5cbiAgZXF1YWxIVE1MKGRpdk5vZGUsIFwiPGRpdj48IS0tLS0+IGJhciA8IS0tLS0+PC9kaXY+XCIpO1xufSk7XG5cbmlmIChkb2N1bWVudCAmJiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMpIHtcbiAgdGVzdCgnY29tcGlsZXMgYW4gc3ZnIGZyYWdtZW50JywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBhc3QgPSBwcmVwcm9jZXNzKFwiPGRpdj48c3ZnPjxjaXJjbGUvPjxmb3JlaWduT2JqZWN0PjxzcGFuPjwvc3Bhbj48L2ZvcmVpZ25PYmplY3Q+PC9zdmc+PC9kaXY+XCIpO1xuICAgIHZhciBkaXZOb2RlID0gZnJhZ21lbnRGb3IoYXN0KS5maXJzdENoaWxkO1xuXG4gICAgZXF1YWwoIGRpdk5vZGUuY2hpbGROb2Rlc1swXS5uYW1lc3BhY2VVUkksIHN2Z05hbWVzcGFjZSxcbiAgICAgICAgICAgJ3N2ZyBoYXMgdGhlIHJpZ2h0IG5hbWVzcGFjZScgKTtcbiAgICBlcXVhbCggZGl2Tm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0ubmFtZXNwYWNlVVJJLCBzdmdOYW1lc3BhY2UsXG4gICAgICAgICAgICdjaXJjbGUgaGFzIHRoZSByaWdodCBuYW1lc3BhY2UnICk7XG4gICAgZXF1YWwoIGRpdk5vZGUuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzFdLm5hbWVzcGFjZVVSSSwgc3ZnTmFtZXNwYWNlLFxuICAgICAgICAgICAnZm9yZWlnbk9iamVjdCBoYXMgdGhlIHJpZ2h0IG5hbWVzcGFjZScgKTtcbiAgICBlcXVhbCggZGl2Tm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMV0uY2hpbGROb2Rlc1swXS5uYW1lc3BhY2VVUkksIHhodG1sTmFtZXNwYWNlLFxuICAgICAgICAgICAnc3BhbiBoYXMgdGhlIHJpZ2h0IG5hbWVzcGFjZScgKTtcbiAgfSk7XG59XG4gIFxudGVzdCgnY29tcGlsZXMgYW4gc3ZnIGVsZW1lbnQgd2l0aCBjbGFzc2VzJywgZnVuY3Rpb24gKCkge1xuICB2YXIgYXN0ID0gcHJlcHJvY2VzcygnPHN2ZyBjbGFzcz1cInJlZCByaWdodCBoYW5kXCI+PC9zdmc+Jyk7XG4gIHZhciBzdmdOb2RlID0gZnJhZ21lbnRGb3IoYXN0KS5maXJzdENoaWxkO1xuXG4gIGVxdWFsKHN2Z05vZGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpLCAncmVkIHJpZ2h0IGhhbmQnKTtcbn0pO1xuXG5pZiAoZG9jdW1lbnQgJiYgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKSB7XG4gIHRlc3QoJ2NvbXBpbGVzIGFuIHN2ZyBlbGVtZW50IHdpdGggcHJvcGVyIG5hbWVzcGFjZScsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXN0ID0gcHJlcHJvY2VzcygnPHN2Zz48dXNlIHhsaW5rOnRpdGxlPVwibmljZS10aXRsZVwiPjwvdXNlPjwvc3ZnPicpO1xuICAgIHZhciBzdmdOb2RlID0gZnJhZ21lbnRGb3IoYXN0KS5maXJzdENoaWxkO1xuXG4gICAgZXF1YWwoc3ZnTm9kZS5jaGlsZE5vZGVzWzBdLmdldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgJ3RpdGxlJyksICduaWNlLXRpdGxlJyk7XG4gICAgZXF1YWwoc3ZnTm9kZS5jaGlsZE5vZGVzWzBdLmF0dHJpYnV0ZXNbMF0ubmFtZXNwYWNlVVJJLCAnaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycpO1xuICAgIGVxdWFsKHN2Z05vZGUuY2hpbGROb2Rlc1swXS5hdHRyaWJ1dGVzWzBdLm5hbWUsICd4bGluazp0aXRsZScpO1xuICAgIGVxdWFsKHN2Z05vZGUuY2hpbGROb2Rlc1swXS5hdHRyaWJ1dGVzWzBdLmxvY2FsTmFtZSwgJ3RpdGxlJyk7XG4gICAgZXF1YWwoc3ZnTm9kZS5jaGlsZE5vZGVzWzBdLmF0dHJpYnV0ZXNbMF0udmFsdWUsICduaWNlLXRpdGxlJyk7XG4gIH0pO1xuXG59XG4gIFxudGVzdCgnY29udmVydHMgZW50aXRpZXMgdG8gdGhlaXIgY2hhci9zdHJpbmcgZXF1aXZhbGVudCcsIGZ1bmN0aW9uICgpIHtcbiAgdmFyIGFzdCA9IHByZXByb2Nlc3MoXCI8ZGl2IHRpdGxlPVxcXCImcXVvdDtGb28gJmFtcDsgQmFyJnF1b3Q7XFxcIj5sb2wgJmx0OyAmIzYwOyYjeDNjOyAmI3gzQzsgJkxUOyAmTm90R3JlYXRlckZ1bGxFcXVhbDsgJkJvcmtzbm9ybGF4OzwvZGl2PlwiKTtcbiAgdmFyIGRpdk5vZGUgPSBmcmFnbWVudEZvcihhc3QpLmZpcnN0Q2hpbGQ7XG5cbiAgZXF1YWwoZGl2Tm9kZS5nZXRBdHRyaWJ1dGUoJ3RpdGxlJyksICdcIkZvbyAmIEJhclwiJyk7XG4gIGVxdWFsKGdldFRleHRDb250ZW50KGRpdk5vZGUpLCBcImxvbCA8IDw8IDwgPCDiiafMuCAmQm9ya3Nub3JsYXg7XCIpO1xufSk7XG4iXX0=
define('htmlbars-compiler-tests/fragment-test.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests');
  QUnit.test('htmlbars-compiler-tests/fragment-test.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/fragment-test.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2ZyYWdtZW50LXRlc3QuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLGtDQUFrQyxDQUFDLENBQUM7QUFDakQsT0FBSyxDQUFDLElBQUksQ0FBQyw2REFBNkQsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUN6RixVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSw4REFBOEQsQ0FBQyxDQUFDO0dBQ2pGLENBQUMsQ0FBQyIsImZpbGUiOiJodG1sYmFycy1jb21waWxlci10ZXN0cy9mcmFnbWVudC10ZXN0LmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gaHRtbGJhcnMtY29tcGlsZXItdGVzdHMnKTtcblFVbml0LnRlc3QoJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2ZyYWdtZW50LXRlc3QuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2ZyYWdtZW50LXRlc3QuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define("htmlbars-compiler-tests/hooks-test", ["exports", "../htmlbars-compiler/compiler", "../htmlbars-runtime/hooks", "../htmlbars-util/object-utils", "../dom-helper", "../htmlbars-test-helpers"], function (exports, _htmlbarsCompilerCompiler, _htmlbarsRuntimeHooks, _htmlbarsUtilObjectUtils, _domHelper, _htmlbarsTestHelpers) {

  var hooks, helpers, partials, env;

  function registerHelper(name, callback) {
    helpers[name] = callback;
  }

  function commonSetup() {
    hooks = _htmlbarsUtilObjectUtils.merge({}, _htmlbarsRuntimeHooks.default);
    hooks.keywords = _htmlbarsUtilObjectUtils.merge({}, _htmlbarsRuntimeHooks.default.keywords);
    helpers = {};
    partials = {};

    env = {
      dom: new _domHelper.default(),
      hooks: hooks,
      helpers: helpers,
      partials: partials,
      useFragmentCache: true
    };
  }

  QUnit.module("HTML-based compiler (dirtying)", {
    beforeEach: commonSetup
  });

  test("the invokeHelper hook gets invoked to call helpers", function () {
    hooks.getRoot = function (scope, key) {
      return [{ value: scope.self[key] }];
    };

    var invoked = false;
    hooks.invokeHelper = function (morph, env, scope, visitor, params, hash, helper, templates, context) {
      invoked = true;
      deepEqual(params, [{ value: "hello world" }]);
      ok(scope.self, "the scope was passed");
      ok(morph.getState(), "the morph was passed");

      return { value: helper.call(context, [params[0].value], hash, templates) };
    };

    registerHelper('print', function (params) {
      return params.join('');
    });

    var object = { val: 'hello world' };
    var template = _htmlbarsCompilerCompiler.compile('<div>{{print val}}</div>');
    var result = template.render(object, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div>hello world</div>');

    ok(invoked, "The invokeHelper hook was invoked");
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2hvb2tzLXRlc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFNQSxNQUFJLEtBQUssRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQzs7QUFFbEMsV0FBUyxjQUFjLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRTtBQUN0QyxXQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsUUFBUSxDQUFDO0dBQzFCOztBQUVELFdBQVMsV0FBVyxHQUFHO0FBQ3JCLFNBQUssR0FBRyx5QkFYRCxLQUFLLENBV0UsRUFBRSxnQ0FBZSxDQUFDO0FBQ2hDLFNBQUssQ0FBQyxRQUFRLEdBQUcseUJBWlYsS0FBSyxDQVlXLEVBQUUsRUFBRSw4QkFBYSxRQUFRLENBQUMsQ0FBQztBQUNsRCxXQUFPLEdBQUcsRUFBRSxDQUFDO0FBQ2IsWUFBUSxHQUFHLEVBQUUsQ0FBQzs7QUFFZCxPQUFHLEdBQUc7QUFDSixTQUFHLEVBQUUsd0JBQWU7QUFDcEIsV0FBSyxFQUFFLEtBQUs7QUFDWixhQUFPLEVBQUUsT0FBTztBQUNoQixjQUFRLEVBQUUsUUFBUTtBQUNsQixzQkFBZ0IsRUFBRSxJQUFJO0tBQ3ZCLENBQUM7R0FDSDs7QUFFRCxPQUFLLENBQUMsTUFBTSxDQUFDLGdDQUFnQyxFQUFFO0FBQzdDLGNBQVUsRUFBRSxXQUFXO0dBQ3hCLENBQUMsQ0FBQzs7QUFFSCxNQUFJLENBQUMsb0RBQW9ELEVBQUUsWUFBVztBQUNwRSxTQUFLLENBQUMsT0FBTyxHQUFHLFVBQVMsS0FBSyxFQUFFLEdBQUcsRUFBRTtBQUNuQyxhQUFPLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDckMsQ0FBQzs7QUFFRixRQUFJLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFDcEIsU0FBSyxDQUFDLFlBQVksR0FBRyxVQUFTLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0FBQ2xHLGFBQU8sR0FBRyxJQUFJLENBQUM7QUFDZixlQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsYUFBYSxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzlDLFFBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLHNCQUFzQixDQUFDLENBQUM7QUFDdkMsUUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsRUFBRSxzQkFBc0IsQ0FBQyxDQUFDOztBQUU3QyxhQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLENBQUMsRUFBRSxDQUFDO0tBQzVFLENBQUM7O0FBRUYsa0JBQWMsQ0FBQyxPQUFPLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDdkMsYUFBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3hCLENBQUMsQ0FBQzs7QUFFSCxRQUFJLE1BQU0sR0FBRyxFQUFFLEdBQUcsRUFBRSxhQUFhLEVBQUUsQ0FBQztBQUNwQyxRQUFJLFFBQVEsR0FBRywwQkFuRFIsT0FBTyxDQW1EUywwQkFBMEIsQ0FBQyxDQUFDO0FBQ25ELFFBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDOztBQUUxQyx5QkFsRE8sV0FBVyxDQWtETixNQUFNLENBQUMsUUFBUSxFQUFFLHdCQUF3QixDQUFDLENBQUM7O0FBRXZELE1BQUUsQ0FBQyxPQUFPLEVBQUUsbUNBQW1DLENBQUMsQ0FBQztHQUNsRCxDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaG9va3MtdGVzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXBpbGUgfSBmcm9tIFwiLi4vaHRtbGJhcnMtY29tcGlsZXIvY29tcGlsZXJcIjtcbmltcG9ydCBkZWZhdWx0SG9va3MgZnJvbSBcIi4uL2h0bWxiYXJzLXJ1bnRpbWUvaG9va3NcIjtcbmltcG9ydCB7IG1lcmdlIH0gZnJvbSBcIi4uL2h0bWxiYXJzLXV0aWwvb2JqZWN0LXV0aWxzXCI7XG5pbXBvcnQgRE9NSGVscGVyIGZyb20gXCIuLi9kb20taGVscGVyXCI7XG5pbXBvcnQgeyBlcXVhbFRva2VucyB9IGZyb20gXCIuLi9odG1sYmFycy10ZXN0LWhlbHBlcnNcIjtcblxudmFyIGhvb2tzLCBoZWxwZXJzLCBwYXJ0aWFscywgZW52O1xuXG5mdW5jdGlvbiByZWdpc3RlckhlbHBlcihuYW1lLCBjYWxsYmFjaykge1xuICBoZWxwZXJzW25hbWVdID0gY2FsbGJhY2s7XG59XG5cbmZ1bmN0aW9uIGNvbW1vblNldHVwKCkge1xuICBob29rcyA9IG1lcmdlKHt9LCBkZWZhdWx0SG9va3MpO1xuICBob29rcy5rZXl3b3JkcyA9IG1lcmdlKHt9LCBkZWZhdWx0SG9va3Mua2V5d29yZHMpO1xuICBoZWxwZXJzID0ge307XG4gIHBhcnRpYWxzID0ge307XG5cbiAgZW52ID0ge1xuICAgIGRvbTogbmV3IERPTUhlbHBlcigpLFxuICAgIGhvb2tzOiBob29rcyxcbiAgICBoZWxwZXJzOiBoZWxwZXJzLFxuICAgIHBhcnRpYWxzOiBwYXJ0aWFscyxcbiAgICB1c2VGcmFnbWVudENhY2hlOiB0cnVlXG4gIH07XG59XG5cblFVbml0Lm1vZHVsZShcIkhUTUwtYmFzZWQgY29tcGlsZXIgKGRpcnR5aW5nKVwiLCB7XG4gIGJlZm9yZUVhY2g6IGNvbW1vblNldHVwXG59KTtcblxudGVzdChcInRoZSBpbnZva2VIZWxwZXIgaG9vayBnZXRzIGludm9rZWQgdG8gY2FsbCBoZWxwZXJzXCIsIGZ1bmN0aW9uKCkge1xuICBob29rcy5nZXRSb290ID0gZnVuY3Rpb24oc2NvcGUsIGtleSkge1xuICAgIHJldHVybiBbeyB2YWx1ZTogc2NvcGUuc2VsZltrZXldIH1dO1xuICB9O1xuXG4gIHZhciBpbnZva2VkID0gZmFsc2U7XG4gIGhvb2tzLmludm9rZUhlbHBlciA9IGZ1bmN0aW9uKG1vcnBoLCBlbnYsIHNjb3BlLCB2aXNpdG9yLCBwYXJhbXMsIGhhc2gsIGhlbHBlciwgdGVtcGxhdGVzLCBjb250ZXh0KSB7XG4gICAgaW52b2tlZCA9IHRydWU7XG4gICAgZGVlcEVxdWFsKHBhcmFtcywgW3sgdmFsdWU6IFwiaGVsbG8gd29ybGRcIiB9XSk7XG4gICAgb2soc2NvcGUuc2VsZiwgXCJ0aGUgc2NvcGUgd2FzIHBhc3NlZFwiKTtcbiAgICBvayhtb3JwaC5nZXRTdGF0ZSgpLCBcInRoZSBtb3JwaCB3YXMgcGFzc2VkXCIpO1xuXG4gICAgcmV0dXJuIHsgdmFsdWU6IGhlbHBlci5jYWxsKGNvbnRleHQsIFtwYXJhbXNbMF0udmFsdWVdLCBoYXNoLCB0ZW1wbGF0ZXMpIH07XG4gIH07XG5cbiAgcmVnaXN0ZXJIZWxwZXIoJ3ByaW50JywgZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgcmV0dXJuIHBhcmFtcy5qb2luKCcnKTtcbiAgfSk7XG5cbiAgdmFyIG9iamVjdCA9IHsgdmFsOiAnaGVsbG8gd29ybGQnIH07XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxkaXY+e3twcmludCB2YWx9fTwvZGl2PicpO1xuICB2YXIgcmVzdWx0ID0gdGVtcGxhdGUucmVuZGVyKG9iamVjdCwgZW52KTtcblxuICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsICc8ZGl2PmhlbGxvIHdvcmxkPC9kaXY+Jyk7XG5cbiAgb2soaW52b2tlZCwgXCJUaGUgaW52b2tlSGVscGVyIGhvb2sgd2FzIGludm9rZWRcIik7XG59KTtcbiJdfQ==
define('htmlbars-compiler-tests/hooks-test.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests');
  QUnit.test('htmlbars-compiler-tests/hooks-test.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/hooks-test.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2hvb2tzLXRlc3QuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLGtDQUFrQyxDQUFDLENBQUM7QUFDakQsT0FBSyxDQUFDLElBQUksQ0FBQywwREFBMEQsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUN0RixVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSwyREFBMkQsQ0FBQyxDQUFDO0dBQzlFLENBQUMsQ0FBQyIsImZpbGUiOiJodG1sYmFycy1jb21waWxlci10ZXN0cy9ob29rcy10ZXN0LmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gaHRtbGJhcnMtY29tcGlsZXItdGVzdHMnKTtcblFVbml0LnRlc3QoJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2hvb2tzLXRlc3QuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2hvb2tzLXRlc3QuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define("htmlbars-compiler-tests/html-compiler-test", ["exports", "../htmlbars-compiler/compiler", "../htmlbars-util/array-utils", "../htmlbars-runtime/hooks", "../htmlbars-util/object-utils", "../dom-helper", "../htmlbars-test-helpers"], function (exports, _htmlbarsCompilerCompiler, _htmlbarsUtilArrayUtils, _htmlbarsRuntimeHooks, _htmlbarsUtilObjectUtils, _domHelper, _htmlbarsTestHelpers) {

  var xhtmlNamespace = "http://www.w3.org/1999/xhtml",
      svgNamespace = "http://www.w3.org/2000/svg";

  var hooks, helpers, partials, env;

  function registerHelper(name, callback) {
    helpers[name] = callback;
  }

  function registerPartial(name, html) {
    partials[name] = _htmlbarsCompilerCompiler.compile(html);
  }

  function compilesTo(html, expected, context) {
    var template = _htmlbarsCompilerCompiler.compile(html);
    var fragment = template.render(context, env, { contextualElement: document.body }).fragment;
    _htmlbarsTestHelpers.equalTokens(fragment, expected === undefined ? html : expected);
    return fragment;
  }

  function commonSetup() {
    hooks = _htmlbarsUtilObjectUtils.merge({}, _htmlbarsRuntimeHooks.default);
    helpers = {};
    partials = {};

    env = {
      dom: new _domHelper.default(),
      hooks: hooks,
      helpers: helpers,
      partials: partials,
      useFragmentCache: true
    };
  }

  QUnit.module("HTML-based compiler (output)", {
    beforeEach: commonSetup
  });

  test("Simple content produces a document fragment", function () {
    var template = _htmlbarsCompilerCompiler.compile("content");
    var fragment = template.render({}, env).fragment;

    _htmlbarsTestHelpers.equalTokens(fragment, "content");
  });

  test("Simple elements are created", function () {
    var template = _htmlbarsCompilerCompiler.compile("<h1>hello!</h1><div>content</div>");
    var fragment = template.render({}, env).fragment;

    _htmlbarsTestHelpers.equalTokens(fragment, "<h1>hello!</h1><div>content</div>");
  });

  test("Simple elements can be re-rendered", function () {
    var template = _htmlbarsCompilerCompiler.compile("<h1>hello!</h1><div>content</div>");
    var result = template.render({}, env);
    var fragment = result.fragment;

    var oldFirstChild = fragment.firstChild;

    result.revalidate();

    strictEqual(fragment.firstChild, oldFirstChild);
    _htmlbarsTestHelpers.equalTokens(fragment, "<h1>hello!</h1><div>content</div>");
  });

  test("Simple elements can have attributes", function () {
    var template = _htmlbarsCompilerCompiler.compile("<div class='foo' id='bar'>content</div>");
    var fragment = template.render({}, env).fragment;

    _htmlbarsTestHelpers.equalTokens(fragment, '<div class="foo" id="bar">content</div>');
  });

  test("Simple elements can have an empty attribute", function () {
    var template = _htmlbarsCompilerCompiler.compile("<div class=''>content</div>");
    var fragment = template.render({}, env).fragment;

    _htmlbarsTestHelpers.equalTokens(fragment, '<div class="">content</div>');
  });

  test("presence of `disabled` attribute without value marks as disabled", function () {
    var template = _htmlbarsCompilerCompiler.compile('<input disabled>');
    var inputNode = template.render({}, env).fragment.firstChild;

    ok(inputNode.disabled, 'disabled without value set as property is true');
  });

  test("Null quoted attribute value calls toString on the value", function () {
    var template = _htmlbarsCompilerCompiler.compile('<input disabled="{{isDisabled}}">');
    var inputNode = template.render({ isDisabled: null }, env).fragment.firstChild;

    ok(inputNode.disabled, 'string of "null" set as property is true');
  });

  test("Null unquoted attribute value removes that attribute", function () {
    var template = _htmlbarsCompilerCompiler.compile('<input disabled={{isDisabled}}>');
    var inputNode = template.render({ isDisabled: null }, env).fragment.firstChild;

    _htmlbarsTestHelpers.equalTokens(inputNode, '<input>');
  });

  test("unquoted attribute string is just that", function () {
    var template = _htmlbarsCompilerCompiler.compile('<input value=funstuff>');
    var inputNode = template.render({}, env).fragment.firstChild;

    equal(inputNode.tagName, 'INPUT', 'input tag');
    equal(inputNode.value, 'funstuff', 'value is set as property');
  });

  test("unquoted attribute expression is string", function () {
    var template = _htmlbarsCompilerCompiler.compile('<input value={{funstuff}}>');
    var inputNode = template.render({ funstuff: "oh my" }, env).fragment.firstChild;

    equal(inputNode.tagName, 'INPUT', 'input tag');
    equal(inputNode.value, 'oh my', 'string is set to property');
  });

  test("unquoted attribute expression works when followed by another attribute", function () {
    var template = _htmlbarsCompilerCompiler.compile('<div foo={{funstuff}} name="Alice"></div>');
    var divNode = template.render({ funstuff: "oh my" }, env).fragment.firstChild;

    _htmlbarsTestHelpers.equalTokens(divNode, '<div name="Alice" foo="oh my"></div>');
  });

  test("Unquoted attribute value with multiple nodes throws an exception", function () {
    expect(4);

    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<img class=foo{{bar}}>');
    }, expectedError(1));
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<img class={{foo}}{{bar}}>');
    }, expectedError(1));
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<img \nclass={{foo}}bar>');
    }, expectedError(2));
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<div \nclass\n=\n{{foo}}&amp;bar ></div>');
    }, expectedError(4));

    function expectedError(line) {
      return new Error("An unquoted attribute value must be a string or a mustache, " + "preceeded by whitespace or a '=' character, and " + ("followed by whitespace, a '>' character or a '/>' (on line " + line + ")"));
    }
  });

  test("Simple elements can have arbitrary attributes", function () {
    var template = _htmlbarsCompilerCompiler.compile("<div data-some-data='foo'>content</div>");
    var divNode = template.render({}, env).fragment.firstChild;
    _htmlbarsTestHelpers.equalTokens(divNode, '<div data-some-data="foo">content</div>');
  });

  test("checked attribute and checked property are present after clone and hydrate", function () {
    var template = _htmlbarsCompilerCompiler.compile("<input checked=\"checked\">");
    var inputNode = template.render({}, env).fragment.firstChild;
    equal(inputNode.tagName, 'INPUT', 'input tag');
    equal(inputNode.checked, true, 'input tag is checked');
  });

  function shouldBeVoid(tagName) {
    var html = "<" + tagName + " data-foo='bar'><p>hello</p>";
    var template = _htmlbarsCompilerCompiler.compile(html);
    var fragment = template.render({}, env).fragment;

    var div = document.createElement("div");
    div.appendChild(fragment.cloneNode(true));

    var tag = '<' + tagName + ' data-foo="bar">';
    var closing = '</' + tagName + '>';
    var extra = "<p>hello</p>";
    html = _htmlbarsTestHelpers.normalizeInnerHTML(div.innerHTML);

    QUnit.push(html === tag + extra || html === tag + closing + extra, html, tag + closing + extra, tagName + " should be a void element");
  }

  test("Void elements are self-closing", function () {
    var voidElements = "area base br col command embed hr img input keygen link meta param source track wbr";

    _htmlbarsUtilArrayUtils.forEach(voidElements.split(" "), function (tagName) {
      shouldBeVoid(tagName);
    });
  });

  test("The compiler can handle nesting", function () {
    var html = '<div class="foo"><p><span id="bar" data-foo="bar">hi!</span></p></div>&nbsp;More content';
    var template = _htmlbarsCompilerCompiler.compile(html);
    var fragment = template.render({}, env).fragment;

    _htmlbarsTestHelpers.equalTokens(fragment, html);
  });

  test("The compiler can handle quotes", function () {
    compilesTo('<div>"This is a title," we\'re on a boat</div>');
  });

  test("The compiler can handle backslashes", function () {
    compilesTo('<div>This is a backslash: \\</div>');
  });

  test("The compiler can handle newlines", function () {
    compilesTo("<div>common\n\nbro</div>");
  });

  test("The compiler can handle comments", function () {
    compilesTo("<div>{{! Better not break! }}content</div>", '<div>content</div>', {});
  });

  test("The compiler can handle HTML comments", function () {
    compilesTo('<div><!-- Just passing through --></div>');
  });

  test("The compiler can handle HTML comments with mustaches in them", function () {
    compilesTo('<div><!-- {{foo}} --></div>', '<div><!-- {{foo}} --></div>', { foo: 'bar' });
  });

  test("The compiler can handle HTML comments with complex mustaches in them", function () {
    compilesTo('<div><!-- {{foo bar baz}} --></div>', '<div><!-- {{foo bar baz}} --></div>', { foo: 'bar' });
  });

  test("The compiler can handle HTML comments with multi-line mustaches in them", function () {
    compilesTo('<div><!-- {{#each foo as |bar|}}\n{{bar}}\n\n{{/each}} --></div>');
  });

  test('The compiler can handle comments with no parent element', function () {
    compilesTo('<!-- {{foo}} -->');
  });

  // TODO: Revisit partial syntax.
  // test("The compiler can handle partials in handlebars partial syntax", function() {
  //   registerPartial('partial_name', "<b>Partial Works!</b>");
  //   compilesTo('<div>{{>partial_name}} Plaintext content</div>', '<div><b>Partial Works!</b> Plaintext content</div>', {});
  // });

  test("The compiler can handle partials in helper partial syntax", function () {
    registerPartial('partial_name', "<b>Partial Works!</b>");
    compilesTo('<div>{{partial "partial_name"}} Plaintext content</div>', '<div><b>Partial Works!</b> Plaintext content</div>', {});
  });

  test("The compiler can handle simple handlebars", function () {
    compilesTo('<div>{{title}}</div>', '<div>hello</div>', { title: 'hello' });
  });

  test("The compiler can handle escaping HTML", function () {
    compilesTo('<div>{{title}}</div>', '<div>&lt;strong&gt;hello&lt;/strong&gt;</div>', { title: '<strong>hello</strong>' });
  });

  test("The compiler can handle unescaped HTML", function () {
    compilesTo('<div>{{{title}}}</div>', '<div><strong>hello</strong></div>', { title: '<strong>hello</strong>' });
  });

  test("The compiler can handle top-level unescaped HTML", function () {
    compilesTo('{{{html}}}', '<strong>hello</strong>', { html: '<strong>hello</strong>' });
  });

  test("The compiler can handle top-level unescaped tr", function () {
    var template = _htmlbarsCompilerCompiler.compile('{{{html}}}');
    var context = { html: '<tr><td>Yo</td></tr>' };
    var fragment = template.render(context, env, { contextualElement: document.createElement('table') }).fragment;

    equal(fragment.firstChild.nextSibling.tagName, 'TR', "root tr is present");
  });

  test("The compiler can handle top-level unescaped td inside tr contextualElement", function () {
    var template = _htmlbarsCompilerCompiler.compile('{{{html}}}');
    var context = { html: '<td>Yo</td>' };
    var fragment = template.render(context, env, { contextualElement: document.createElement('tr') }).fragment;

    equal(fragment.firstChild.nextSibling.tagName, 'TD', "root td is returned");
  });

  test("The compiler can handle unescaped tr in top of content", function () {
    registerHelper('test', function () {
      return this.yield();
    });

    var template = _htmlbarsCompilerCompiler.compile('{{#test}}{{{html}}}{{/test}}');
    var context = { html: '<tr><td>Yo</td></tr>' };
    var fragment = template.render(context, env, { contextualElement: document.createElement('table') }).fragment;

    equal(fragment.firstChild.nextSibling.nextSibling.tagName, 'TR', "root tr is present");
  });

  test("The compiler can handle unescaped tr inside fragment table", function () {
    registerHelper('test', function () {
      return this.yield();
    });

    var template = _htmlbarsCompilerCompiler.compile('<table>{{#test}}{{{html}}}{{/test}}</table>');
    var context = { html: '<tr><td>Yo</td></tr>' };
    var fragment = template.render(context, env, { contextualElement: document.createElement('div') }).fragment;
    var tableNode = fragment.firstChild;

    equal(tableNode.firstChild.nextSibling.tagName, 'TR', "root tr is present");
  });

  test("The compiler can handle simple helpers", function () {
    registerHelper('testing', function (params) {
      return params[0];
    });

    compilesTo('<div>{{testing title}}</div>', '<div>hello</div>', { title: 'hello' });
  });

  test("Helpers propagate the owner render node", function () {
    registerHelper('id', function () {
      return this.yield();
    });

    var template = _htmlbarsCompilerCompiler.compile('<div>{{#id}}<p>{{#id}}<span>{{#id}}{{name}}{{/id}}</span>{{/id}}</p>{{/id}}</div>');
    var context = { name: "Tom Dale" };
    var result = template.render(context, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, '<div><p><span>Tom Dale</span></p></div>');

    var root = result.root;
    strictEqual(root, root.childNodes[0].ownerNode);
    strictEqual(root, root.childNodes[0].childNodes[0].ownerNode);
    strictEqual(root, root.childNodes[0].childNodes[0].childNodes[0].ownerNode);
  });

  test("The compiler can handle sexpr helpers", function () {
    registerHelper('testing', function (params) {
      return params[0] + "!";
    });

    compilesTo('<div>{{testing (testing "hello")}}</div>', '<div>hello!!</div>', {});
  });

  test("The compiler can handle multiple invocations of sexprs", function () {
    registerHelper('testing', function (params) {
      return "" + params[0] + params[1];
    });

    compilesTo('<div>{{testing (testing "hello" foo) (testing (testing bar "lol") baz)}}</div>', '<div>helloFOOBARlolBAZ</div>', { foo: "FOO", bar: "BAR", baz: "BAZ" });
  });

  test("The compiler passes along the hash arguments", function () {
    registerHelper('testing', function (params, hash) {
      return hash.first + '-' + hash.second;
    });

    compilesTo('<div>{{testing first="one" second="two"}}</div>', '<div>one-two</div>');
  });

  test("second render respects whitespace", function () {
    var template = _htmlbarsCompilerCompiler.compile('Hello {{ foo }} ');
    template.render({}, env, { contextualElement: document.createElement('div') });
    var fragment = template.render({}, env, { contextualElement: document.createElement('div') }).fragment;
    equal(fragment.childNodes.length, 3, 'fragment contains 3 text nodes');
    equal(_htmlbarsTestHelpers.getTextContent(fragment.childNodes[0]), 'Hello ', 'first text node ends with one space character');
    equal(_htmlbarsTestHelpers.getTextContent(fragment.childNodes[2]), ' ', 'last text node contains one space character');
  });

  test("Morphs are escaped correctly", function () {
    registerHelper('testing-unescaped', function (params) {
      return params[0];
    });

    registerHelper('testing-escaped', function (params) {
      if (this.yield) {
        return this.yield();
      }

      return params[0];
    });

    compilesTo('<div>{{{testing-unescaped "<span>hi</span>"}}}</div>', '<div><span>hi</span></div>');
    compilesTo('<div>{{testing-escaped "<hi>"}}</div>', '<div>&lt;hi&gt;</div>');
    compilesTo('<div>{{#testing-escaped}}<em></em>{{/testing-escaped}}</div>', '<div><em></em></div>');
    compilesTo('<div><testing-escaped><em></em></testing-escaped></div>', '<div><em></em></div>');
  });

  test("Attributes can use computed values", function () {
    compilesTo('<a href="{{url}}">linky</a>', '<a href="linky.html">linky</a>', { url: 'linky.html' });
  });

  test("Mountain range of nesting", function () {
    var context = { foo: "FOO", bar: "BAR", baz: "BAZ", boo: "BOO", brew: "BREW", bat: "BAT", flute: "FLUTE", argh: "ARGH" };
    compilesTo('{{foo}}<span></span>', 'FOO<span></span>', context);
    compilesTo('<span></span>{{foo}}', '<span></span>FOO', context);
    compilesTo('<span>{{foo}}</span>{{foo}}', '<span>FOO</span>FOO', context);
    compilesTo('{{foo}}<span>{{foo}}</span>{{foo}}', 'FOO<span>FOO</span>FOO', context);
    compilesTo('{{foo}}<span></span>{{foo}}', 'FOO<span></span>FOO', context);
    compilesTo('{{foo}}<span></span>{{bar}}<span><span><span>{{baz}}</span></span></span>', 'FOO<span></span>BAR<span><span><span>BAZ</span></span></span>', context);
    compilesTo('{{foo}}<span></span>{{bar}}<span>{{argh}}<span><span>{{baz}}</span></span></span>', 'FOO<span></span>BAR<span>ARGH<span><span>BAZ</span></span></span>', context);
    compilesTo('{{foo}}<span>{{bar}}<a>{{baz}}<em>{{boo}}{{brew}}</em>{{bat}}</a></span><span><span>{{flute}}</span></span>{{argh}}', 'FOO<span>BAR<a>BAZ<em>BOOBREW</em>BAT</a></span><span><span>FLUTE</span></span>ARGH', context);
  });

  // test("Attributes can use computed paths", function() {
  //   compilesTo('<a href="{{post.url}}">linky</a>', '<a href="linky.html">linky</a>', { post: { url: 'linky.html' }});
  // });

  /*
  
  test("It is possible to use RESOLVE_IN_ATTR for data binding", function() {
    var callback;
  
    registerHelper('RESOLVE_IN_ATTR', function(parts, options) {
      return boundValue(function(c) {
        callback = c;
        return this[parts[0]];
      }, this);
    });
  
    var object = { url: 'linky.html' };
    var fragment = compilesTo('<a href="{{url}}">linky</a>', '<a href="linky.html">linky</a>', object);
  
    object.url = 'clippy.html';
    callback();
  
    equalTokens(fragment, '<a href="clippy.html">linky</a>');
  
    object.url = 'zippy.html';
    callback();
  
    equalTokens(fragment, '<a href="zippy.html">linky</a>');
  });
  */

  test("Attributes can be populated with helpers that generate a string", function () {
    registerHelper('testing', function (params) {
      return params[0];
    });

    compilesTo('<a href="{{testing url}}">linky</a>', '<a href="linky.html">linky</a>', { url: 'linky.html' });
  });
  /*
  test("A helper can return a stream for the attribute", function() {
    registerHelper('testing', function(path, options) {
      return streamValue(this[path]);
    });
  
    compilesTo('<a href="{{testing url}}">linky</a>', '<a href="linky.html">linky</a>', { url: 'linky.html'});
  });
  */
  test("Attribute helpers take a hash", function () {
    registerHelper('testing', function (params, hash) {
      return hash.path;
    });

    compilesTo('<a href="{{testing path=url}}">linky</a>', '<a href="linky.html">linky</a>', { url: 'linky.html' });
  });
  /*
  test("Attribute helpers can use the hash for data binding", function() {
    var callback;
  
    registerHelper('testing', function(path, hash, options) {
      return boundValue(function(c) {
        callback = c;
        return this[path] ? hash.truthy : hash.falsy;
      }, this);
    });
  
    var object = { on: true };
    var fragment = compilesTo('<div class="{{testing on truthy="yeah" falsy="nope"}}">hi</div>', '<div class="yeah">hi</div>', object);
  
    object.on = false;
    callback();
    equalTokens(fragment, '<div class="nope">hi</div>');
  });
  */
  test("Attributes containing multiple helpers are treated like a block", function () {
    registerHelper('testing', function (params) {
      return params[0];
    });

    compilesTo('<a href="http://{{foo}}/{{testing bar}}/{{testing "baz"}}">linky</a>', '<a href="http://foo.com/bar/baz">linky</a>', { foo: 'foo.com', bar: 'bar' });
  });

  test("Attributes containing a helper are treated like a block", function () {
    expect(2);

    registerHelper('testing', function (params) {
      deepEqual(params, [123]);
      return "example.com";
    });

    compilesTo('<a href="http://{{testing 123}}/index.html">linky</a>', '<a href="http://example.com/index.html">linky</a>', { person: { url: 'example.com' } });
  });
  /*
  test("It is possible to trigger a re-render of an attribute from a child resolution", function() {
    var callback;
  
    registerHelper('RESOLVE_IN_ATTR', function(path, options) {
      return boundValue(function(c) {
        callback = c;
        return this[path];
      }, this);
    });
  
    var context = { url: "example.com" };
    var fragment = compilesTo('<a href="http://{{url}}/index.html">linky</a>', '<a href="http://example.com/index.html">linky</a>', context);
  
    context.url = "www.example.com";
    callback();
  
    equalTokens(fragment, '<a href="http://www.example.com/index.html">linky</a>');
  });
  
  test("A child resolution can pass contextual information to the parent", function() {
    var callback;
  
    registerHelper('RESOLVE_IN_ATTR', function(path, options) {
      return boundValue(function(c) {
        callback = c;
        return this[path];
      }, this);
    });
  
    var context = { url: "example.com" };
    var fragment = compilesTo('<a href="http://{{url}}/index.html">linky</a>', '<a href="http://example.com/index.html">linky</a>', context);
  
    context.url = "www.example.com";
    callback();
  
    equalTokens(fragment, '<a href="http://www.example.com/index.html">linky</a>');
  });
  
  test("Attribute runs can contain helpers", function() {
    var callbacks = [];
  
    registerHelper('RESOLVE_IN_ATTR', function(path, options) {
      return boundValue(function(c) {
        callbacks.push(c);
        return this[path];
      }, this);
    });
  
    registerHelper('testing', function(path, options) {
      return boundValue(function(c) {
        callbacks.push(c);
  
        if (options.paramTypes[0] === 'id') {
          return this[path] + '.html';
        } else {
          return path;
        }
      }, this);
    });
  
    var context = { url: "example.com", path: 'index' };
    var fragment = compilesTo('<a href="http://{{url}}/{{testing path}}/{{testing "linky"}}">linky</a>', '<a href="http://example.com/index.html/linky">linky</a>', context);
  
    context.url = "www.example.com";
    context.path = "yep";
    forEach(callbacks, function(callback) { callback(); });
  
    equalTokens(fragment, '<a href="http://www.example.com/yep.html/linky">linky</a>');
  
    context.url = "nope.example.com";
    context.path = "nope";
    forEach(callbacks, function(callback) { callback(); });
  
    equalTokens(fragment, '<a href="http://nope.example.com/nope.html/linky">linky</a>');
  });
  */
  test("A simple block helper can return the default document fragment", function () {
    registerHelper('testing', function () {
      return this.yield();
    });

    compilesTo('{{#testing}}<div id="test">123</div>{{/testing}}', '<div id="test">123</div>');
  });

  // TODO: NEXT
  test("A simple block helper can return text", function () {
    registerHelper('testing', function () {
      return this.yield();
    });

    compilesTo('{{#testing}}test{{else}}not shown{{/testing}}', 'test');
  });

  test("A block helper can have an else block", function () {
    registerHelper('testing', function (params, hash, options) {
      return options.inverse.yield();
    });

    compilesTo('{{#testing}}Nope{{else}}<div id="test">123</div>{{/testing}}', '<div id="test">123</div>');
  });

  test("A block helper can pass a context to be used in the child", function () {
    registerHelper('testing', function (params, hash, options) {
      var context = { title: 'Rails is omakase' };
      return options.template.render(context);
    });

    compilesTo('{{#testing}}<div id="test">{{title}}</div>{{/testing}}', '<div id="test">Rails is omakase</div>');
  });

  test("Block helpers receive hash arguments", function () {
    registerHelper('testing', function (params, hash) {
      if (hash.truth) {
        return this.yield();
      }
    });

    compilesTo('{{#testing truth=true}}<p>Yep!</p>{{/testing}}{{#testing truth=false}}<p>Nope!</p>{{/testing}}', '<p>Yep!</p><!---->');
  });

  test("Node helpers can modify the node", function () {
    registerHelper('testing', function (params, hash, options) {
      options.element.setAttribute('zomg', 'zomg');
    });

    compilesTo('<div {{testing}}>Node helpers</div>', '<div zomg="zomg">Node helpers</div>');
  });

  test("Node helpers can modify the node after one node appended by top-level helper", function () {
    registerHelper('top-helper', function () {
      return document.createElement('span');
    });
    registerHelper('attr-helper', function (params, hash, options) {
      options.element.setAttribute('zomg', 'zomg');
    });

    compilesTo('<div {{attr-helper}}>Node helpers</div>{{top-helper}}', '<div zomg="zomg">Node helpers</div><span></span>');
  });

  test("Node helpers can modify the node after one node prepended by top-level helper", function () {
    registerHelper('top-helper', function () {
      return document.createElement('span');
    });
    registerHelper('attr-helper', function (params, hash, options) {
      options.element.setAttribute('zomg', 'zomg');
    });

    compilesTo('{{top-helper}}<div {{attr-helper}}>Node helpers</div>', '<span></span><div zomg="zomg">Node helpers</div>');
  });

  test("Node helpers can modify the node after many nodes returned from top-level helper", function () {
    registerHelper('top-helper', function () {
      var frag = document.createDocumentFragment();
      frag.appendChild(document.createElement('span'));
      frag.appendChild(document.createElement('span'));
      return frag;
    });
    registerHelper('attr-helper', function (params, hash, options) {
      options.element.setAttribute('zomg', 'zomg');
    });

    compilesTo('{{top-helper}}<div {{attr-helper}}>Node helpers</div>', '<span></span><span></span><div zomg="zomg">Node helpers</div>');
  });

  test("Node helpers can be used for attribute bindings", function () {
    registerHelper('testing', function (params, hash, options) {
      var value = hash.href,
          element = options.element;

      element.setAttribute('href', value);
    });

    var object = { url: 'linky.html' };
    var template = _htmlbarsCompilerCompiler.compile('<a {{testing href=url}}>linky</a>');
    var result = template.render(object, env);

    _htmlbarsTestHelpers.equalTokens(result.fragment, '<a href="linky.html">linky</a>');
    object.url = 'zippy.html';

    result.dirty();
    result.revalidate();

    _htmlbarsTestHelpers.equalTokens(result.fragment, '<a href="zippy.html">linky</a>');
  });

  test('Components - Called as helpers', function () {
    registerHelper('x-append', function (params, hash) {
      QUnit.deepEqual(hash, { text: "de" });
      this.yield();
    });
    var object = { bar: 'e', baz: 'c' };
    compilesTo('a<x-append text="d{{bar}}">b{{baz}}</x-append>f', 'abcf', object);
  });

  test('Components - Unknown helpers fall back to elements', function () {
    var object = { size: 'med', foo: 'b' };
    compilesTo('<x-bar class="btn-{{size}}">a{{foo}}c</x-bar>', '<x-bar class="btn-med">abc</x-bar>', object);
  });

  test('Components - Text-only attributes work', function () {
    var object = { foo: 'qux' };
    compilesTo('<x-bar id="test">{{foo}}</x-bar>', '<x-bar id="test">qux</x-bar>', object);
  });

  test('Components - Empty components work', function () {
    compilesTo('<x-bar></x-bar>', '<x-bar></x-bar>', {});
  });

  test('Components - Text-only dashed attributes work', function () {
    var object = { foo: 'qux' };
    compilesTo('<x-bar aria-label="foo" id="test">{{foo}}</x-bar>', '<x-bar aria-label="foo" id="test">qux</x-bar>', object);
  });

  test('Repaired text nodes are ensured in the right place', function () {
    var object = { a: "A", b: "B", c: "C", d: "D" };
    compilesTo('{{a}} {{b}}', 'A B', object);
    compilesTo('<div>{{a}}{{b}}{{c}}wat{{d}}</div>', '<div>ABCwatD</div>', object);
    compilesTo('{{a}}{{b}}<img><img><img><img>', 'AB<img><img><img><img>', object);
  });

  test("Simple elements can have dashed attributes", function () {
    var template = _htmlbarsCompilerCompiler.compile("<div aria-label='foo'>content</div>");
    var fragment = template.render({}, env).fragment;

    _htmlbarsTestHelpers.equalTokens(fragment, '<div aria-label="foo">content</div>');
  });

  QUnit.skip("Block params", function () {
    registerHelper('a', function () {
      this.yieldIn(_htmlbarsCompilerCompiler.compile("A({{yield 'W' 'X1'}})"));
    });
    registerHelper('b', function () {
      this.yieldIn(_htmlbarsCompilerCompiler.compile("B({{yield 'X2' 'Y'}})"));
    });
    registerHelper('c', function () {
      this.yieldIn(_htmlbarsCompilerCompiler.compile("C({{yield 'Z'}})"));
    });
    var t = '{{#a as |w x|}}{{w}},{{x}} {{#b as |x y|}}{{x}},{{y}}{{/b}} {{w}},{{x}} {{#c as |z|}}{{x}},{{z}}{{/c}}{{/a}}';
    compilesTo(t, 'A(W,X1 B(X2,Y) W,X1 C(X1,Z))', {});
  });

  test("Block params - Helper should know how many block params it was called with", function () {
    expect(4);

    registerHelper('count-block-params', function (params, hash, options) {
      equal(options.template.arity, hash.count, 'Helpers should receive the correct number of block params in options.template.blockParams.');
    });

    _htmlbarsCompilerCompiler.compile('{{#count-block-params count=0}}{{/count-block-params}}').render({}, env, { contextualElement: document.body });
    _htmlbarsCompilerCompiler.compile('{{#count-block-params count=1 as |x|}}{{/count-block-params}}').render({}, env, { contextualElement: document.body });
    _htmlbarsCompilerCompiler.compile('{{#count-block-params count=2 as |x y|}}{{/count-block-params}}').render({}, env, { contextualElement: document.body });
    _htmlbarsCompilerCompiler.compile('{{#count-block-params count=3 as |x y z|}}{{/count-block-params}}').render({}, env, { contextualElement: document.body });
  });

  QUnit.skip('Block params in HTML syntax', function () {
    var layout = _htmlbarsCompilerCompiler.compile("BAR({{yield 'Xerxes' 'York' 'Zed'}})");

    registerHelper('x-bar', function () {
      this.yieldIn(layout);
    });
    compilesTo('<x-bar as |x y zee|>{{zee}},{{y}},{{x}}</x-bar>', 'BAR(Zed,York,Xerxes)', {});
  });

  test('Block params in HTML syntax - Throws exception if given zero parameters', function () {
    expect(2);

    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<x-bar as ||>foo</x-bar>');
    }, /Cannot use zero block parameters: 'as \|\|'/);
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<x-bar as | |>foo</x-bar>');
    }, /Cannot use zero block parameters: 'as \| \|'/);
  });

  test('Block params in HTML syntax - Works with a single parameter', function () {
    registerHelper('x-bar', function () {
      return this.yield(['Xerxes']);
    });
    compilesTo('<x-bar as |x|>{{x}}</x-bar>', 'Xerxes', {});
  });

  test('Block params in HTML syntax - Works with other attributes', function () {
    registerHelper('x-bar', function (params, hash) {
      deepEqual(hash, { firstName: 'Alice', lastName: 'Smith' });
    });
    _htmlbarsCompilerCompiler.compile('<x-bar firstName="Alice" lastName="Smith" as |x y|></x-bar>').render({}, env, { contextualElement: document.body });
  });

  test('Block params in HTML syntax - Ignores whitespace', function () {
    expect(3);

    registerHelper('x-bar', function () {
      return this.yield(['Xerxes', 'York']);
    });
    compilesTo('<x-bar as |x y|>{{x}},{{y}}</x-bar>', 'Xerxes,York', {});
    compilesTo('<x-bar as | x y|>{{x}},{{y}}</x-bar>', 'Xerxes,York', {});
    compilesTo('<x-bar as | x y |>{{x}},{{y}}</x-bar>', 'Xerxes,York', {});
  });

  test('Block params in HTML syntax - Helper should know how many block params it was called with', function () {
    expect(4);

    registerHelper('count-block-params', function (params, hash, options) {
      equal(options.template.arity, parseInt(hash.count, 10), 'Helpers should receive the correct number of block params in options.template.blockParams.');
    });

    _htmlbarsCompilerCompiler.compile('<count-block-params count="0"></count-block-params>').render({ count: 0 }, env, { contextualElement: document.body });
    _htmlbarsCompilerCompiler.compile('<count-block-params count="1" as |x|></count-block-params>').render({ count: 1 }, env, { contextualElement: document.body });
    _htmlbarsCompilerCompiler.compile('<count-block-params count="2" as |x y|></count-block-params>').render({ count: 2 }, env, { contextualElement: document.body });
    _htmlbarsCompilerCompiler.compile('<count-block-params count="3" as |x y z|></count-block-params>').render({ count: 3 }, env, { contextualElement: document.body });
  });

  test("Block params in HTML syntax - Throws an error on invalid block params syntax", function () {
    expect(3);

    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<x-bar as |x y>{{x}},{{y}}</x-bar>');
    }, /Invalid block parameters syntax: 'as |x y'/);
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<x-bar as |x| y>{{x}},{{y}}</x-bar>');
    }, /Invalid block parameters syntax: 'as \|x\| y'/);
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<x-bar as |x| y|>{{x}},{{y}}</x-bar>');
    }, /Invalid block parameters syntax: 'as \|x\| y\|'/);
  });

  test("Block params in HTML syntax - Throws an error on invalid identifiers for params", function () {
    expect(3);

    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<x-bar as |x foo.bar|></x-bar>');
    }, /Invalid identifier for block parameters: 'foo\.bar' in 'as \|x foo\.bar|'/);
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<x-bar as |x "foo"|></x-bar>');
    }, /Invalid identifier for block parameters: '"foo"' in 'as \|x "foo"|'/);
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<x-bar as |foo[bar]|></x-bar>');
    }, /Invalid identifier for block parameters: 'foo\[bar\]' in 'as \|foo\[bar\]\|'/);
  });

  QUnit.module("HTML-based compiler (invalid HTML errors)", {
    beforeEach: commonSetup
  });

  test("A helpful error message is provided for unclosed elements", function () {
    expect(2);

    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('\n<div class="my-div" \n foo={{bar}}>\n<span>\n</span>\n');
    }, /Unclosed element `div` \(on line 2\)\./);
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('\n<div class="my-div">\n<span>\n');
    }, /Unclosed element `span` \(on line 3\)\./);
  });

  test("A helpful error message is provided for unmatched end tags", function () {
    expect(2);

    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile("</p>");
    }, /Closing tag `p` \(on line 1\) without an open tag\./);
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile("<em>{{ foo }}</em> \n {{ bar }}\n</div>");
    }, /Closing tag `div` \(on line 3\) without an open tag\./);
  });

  test("A helpful error message is provided for end tags for void elements", function () {
    expect(3);

    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile("<input></input>");
    }, /Invalid end tag `input` \(on line 1\) \(void elements cannot have end tags\)./);
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile("<div>\n  <input></input>\n</div>");
    }, /Invalid end tag `input` \(on line 2\) \(void elements cannot have end tags\)./);
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile("\n\n</br>");
    }, /Invalid end tag `br` \(on line 3\) \(void elements cannot have end tags\)./);
  });

  test("A helpful error message is provided for end tags with attributes", function () {
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile('<div>\nSomething\n\n</div foo="bar">');
    }, /Invalid end tag: closing tag must not have attributes, in `div` \(on line 4\)\./);
  });

  test("A helpful error message is provided for mismatched start/end tags", function () {
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile("<div>\n<p>\nSomething\n\n</div>");
    }, /Closing tag `div` \(on line 5\) did not match last open tag `p` \(on line 2\)\./);
  });

  test("error line numbers include comment lines", function () {
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile("<div>\n<p>\n{{! some comment}}\n\n</div>");
    }, /Closing tag `div` \(on line 5\) did not match last open tag `p` \(on line 2\)\./);
  });

  test("error line numbers include mustache only lines", function () {
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile("<div>\n<p>\n{{someProp}}\n\n</div>");
    }, /Closing tag `div` \(on line 5\) did not match last open tag `p` \(on line 2\)\./);
  });

  test("error line numbers include block lines", function () {
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile("<div>\n<p>\n{{#some-comment}}\n{{/some-comment}}\n</div>");
    }, /Closing tag `div` \(on line 5\) did not match last open tag `p` \(on line 2\)\./);
  });

  test("error line numbers include whitespace control mustaches", function () {
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile("<div>\n<p>\n{{someProp~}}\n\n</div>{{some-comment}}");
    }, /Closing tag `div` \(on line 5\) did not match last open tag `p` \(on line 2\)\./);
  });

  test("error line numbers include multiple mustache lines", function () {
    QUnit.throws(function () {
      _htmlbarsCompilerCompiler.compile("<div>\n<p>\n{{some-comment}}</div>{{some-comment}}");
    }, /Closing tag `div` \(on line 3\) did not match last open tag `p` \(on line 2\)\./);
  });

  if (document.createElement('div').namespaceURI) {

    QUnit.module("HTML-based compiler (output, svg)", {
      beforeEach: commonSetup
    });

    test("Simple elements can have namespaced attributes", function () {
      var template = _htmlbarsCompilerCompiler.compile("<svg xlink:title='svg-title'>content</svg>");
      var svgNode = template.render({}, env).fragment.firstChild;

      _htmlbarsTestHelpers.equalTokens(svgNode, '<svg xlink:title="svg-title">content</svg>');
      equal(svgNode.attributes[0].namespaceURI, 'http://www.w3.org/1999/xlink');
    });

    test("Simple elements can have bound namespaced attributes", function () {
      var template = _htmlbarsCompilerCompiler.compile("<svg xlink:title={{title}}>content</svg>");
      var svgNode = template.render({ title: 'svg-title' }, env).fragment.firstChild;

      _htmlbarsTestHelpers.equalTokens(svgNode, '<svg xlink:title="svg-title">content</svg>');
      equal(svgNode.attributes[0].namespaceURI, 'http://www.w3.org/1999/xlink');
    });

    test("SVG element can have capitalized attributes", function () {
      var template = _htmlbarsCompilerCompiler.compile("<svg viewBox=\"0 0 0 0\"></svg>");
      var svgNode = template.render({}, env).fragment.firstChild;
      _htmlbarsTestHelpers.equalTokens(svgNode, '<svg viewBox=\"0 0 0 0\"></svg>');
    });

    test("The compiler can handle namespaced elements", function () {
      var html = '<svg><path stroke="black" d="M 0 0 L 100 100"></path></svg>';
      var template = _htmlbarsCompilerCompiler.compile(html);
      var svgNode = template.render({}, env).fragment.firstChild;

      equal(svgNode.namespaceURI, svgNamespace, "creates the svg element with a namespace");
      _htmlbarsTestHelpers.equalTokens(svgNode, html);
    });

    test("The compiler sets namespaces on nested namespaced elements", function () {
      var html = '<svg><path stroke="black" d="M 0 0 L 100 100"></path></svg>';
      var template = _htmlbarsCompilerCompiler.compile(html);
      var svgNode = template.render({}, env).fragment.firstChild;

      equal(svgNode.childNodes[0].namespaceURI, svgNamespace, "creates the path element with a namespace");
      _htmlbarsTestHelpers.equalTokens(svgNode, html);
    });

    test("The compiler sets a namespace on an HTML integration point", function () {
      var html = '<svg><foreignObject>Hi</foreignObject></svg>';
      var template = _htmlbarsCompilerCompiler.compile(html);
      var svgNode = template.render({}, env).fragment.firstChild;

      equal(svgNode.namespaceURI, svgNamespace, "creates the svg element with a namespace");
      equal(svgNode.childNodes[0].namespaceURI, svgNamespace, "creates the foreignObject element with a namespace");
      _htmlbarsTestHelpers.equalTokens(svgNode, html);
    });

    test("The compiler does not set a namespace on an element inside an HTML integration point", function () {
      var html = '<svg><foreignObject><div></div></foreignObject></svg>';
      var template = _htmlbarsCompilerCompiler.compile(html);
      var svgNode = template.render({}, env).fragment.firstChild;

      equal(svgNode.childNodes[0].childNodes[0].namespaceURI, xhtmlNamespace, "creates the div inside the foreignObject without a namespace");
      _htmlbarsTestHelpers.equalTokens(svgNode, html);
    });

    test("The compiler pops back to the correct namespace", function () {
      var html = '<svg></svg><svg></svg><div></div>';
      var template = _htmlbarsCompilerCompiler.compile(html);
      var fragment = template.render({}, env).fragment;

      equal(fragment.childNodes[0].namespaceURI, svgNamespace, "creates the first svg element with a namespace");
      equal(fragment.childNodes[1].namespaceURI, svgNamespace, "creates the second svg element with a namespace");
      equal(fragment.childNodes[2].namespaceURI, xhtmlNamespace, "creates the div element without a namespace");
      _htmlbarsTestHelpers.equalTokens(fragment, html);
    });

    test("The compiler pops back to the correct namespace even if exiting last child", function () {
      var html = '<div><svg></svg></div><div></div>';
      var fragment = _htmlbarsCompilerCompiler.compile(html).render({}, env).fragment;

      equal(fragment.firstChild.namespaceURI, xhtmlNamespace, "first div's namespace is xhtmlNamespace");
      equal(fragment.firstChild.firstChild.namespaceURI, svgNamespace, "svg's namespace is svgNamespace");
      equal(fragment.lastChild.namespaceURI, xhtmlNamespace, "last div's namespace is xhtmlNamespace");
    });

    test("The compiler preserves capitalization of tags", function () {
      var html = '<svg><linearGradient id="gradient"></linearGradient></svg>';
      var template = _htmlbarsCompilerCompiler.compile(html);
      var fragment = template.render({}, env).fragment;

      _htmlbarsTestHelpers.equalTokens(fragment, html);
    });

    test("svg can live with hydration", function () {
      var template = _htmlbarsCompilerCompiler.compile('<svg></svg>{{name}}');

      var fragment = template.render({ name: 'Milly' }, env, { contextualElement: document.body }).fragment;

      equal(fragment.childNodes[0].namespaceURI, svgNamespace, "svg namespace inside a block is present");
    });

    test("top-level unsafe morph uses the correct namespace", function () {
      var template = _htmlbarsCompilerCompiler.compile('<svg></svg>{{{foo}}}');
      var fragment = template.render({ foo: '<span>FOO</span>' }, env, { contextualElement: document.body }).fragment;

      equal(_htmlbarsTestHelpers.getTextContent(fragment), 'FOO', 'element from unsafe morph is displayed');
      equal(fragment.childNodes[1].namespaceURI, xhtmlNamespace, 'element from unsafe morph has correct namespace');
    });

    test("nested unsafe morph uses the correct namespace", function () {
      var template = _htmlbarsCompilerCompiler.compile('<svg>{{{foo}}}</svg><div></div>');
      var fragment = template.render({ foo: '<path></path>' }, env, { contextualElement: document.body }).fragment;

      equal(fragment.childNodes[0].childNodes[0].namespaceURI, svgNamespace, 'element from unsafe morph has correct namespace');
    });

    test("svg can take some hydration", function () {
      var template = _htmlbarsCompilerCompiler.compile('<div><svg>{{name}}</svg></div>');

      var fragment = template.render({ name: 'Milly' }, env).fragment;
      equal(fragment.firstChild.childNodes[0].namespaceURI, svgNamespace, "svg namespace inside a block is present");
      _htmlbarsTestHelpers.equalTokens(fragment.firstChild, '<div><svg>Milly</svg></div>', "html is valid");
    });

    test("root svg can take some hydration", function () {
      var template = _htmlbarsCompilerCompiler.compile('<svg>{{name}}</svg>');
      var fragment = template.render({ name: 'Milly' }, env).fragment;
      var svgNode = fragment.firstChild;

      equal(svgNode.namespaceURI, svgNamespace, "svg namespace inside a block is present");
      _htmlbarsTestHelpers.equalTokens(svgNode, '<svg>Milly</svg>', "html is valid");
    });

    test("Block helper allows interior namespace", function () {
      var isTrue = true;

      registerHelper('testing', function (params, hash, options) {
        if (isTrue) {
          return this.yield();
        } else {
          return options.inverse.yield();
        }
      });

      var template = _htmlbarsCompilerCompiler.compile('{{#testing}}<svg></svg>{{else}}<div><svg></svg></div>{{/testing}}');

      var fragment = template.render({ isTrue: true }, env, { contextualElement: document.body }).fragment;
      equal(fragment.firstChild.nextSibling.namespaceURI, svgNamespace, "svg namespace inside a block is present");

      isTrue = false;
      fragment = template.render({ isTrue: false }, env, { contextualElement: document.body }).fragment;
      equal(fragment.firstChild.nextSibling.namespaceURI, xhtmlNamespace, "inverse block path has a normal namespace");
      equal(fragment.firstChild.nextSibling.firstChild.namespaceURI, svgNamespace, "svg namespace inside an element inside a block is present");
    });

    test("Block helper allows namespace to bleed through", function () {
      registerHelper('testing', function () {
        return this.yield();
      });

      var template = _htmlbarsCompilerCompiler.compile('<div><svg>{{#testing}}<circle />{{/testing}}</svg></div>');

      var fragment = template.render({ isTrue: true }, env).fragment;
      var svgNode = fragment.firstChild.firstChild;
      equal(svgNode.namespaceURI, svgNamespace, "svg tag has an svg namespace");
      equal(svgNode.childNodes[0].namespaceURI, svgNamespace, "circle tag inside block inside svg has an svg namespace");
    });

    test("Block helper with root svg allows namespace to bleed through", function () {
      registerHelper('testing', function () {
        return this.yield();
      });

      var template = _htmlbarsCompilerCompiler.compile('<svg>{{#testing}}<circle />{{/testing}}</svg>');

      var fragment = template.render({ isTrue: true }, env).fragment;
      var svgNode = fragment.firstChild;
      equal(svgNode.namespaceURI, svgNamespace, "svg tag has an svg namespace");
      equal(svgNode.childNodes[0].namespaceURI, svgNamespace, "circle tag inside block inside svg has an svg namespace");
    });

    test("Block helper with root foreignObject allows namespace to bleed through", function () {
      registerHelper('testing', function () {
        return this.yield();
      });

      var template = _htmlbarsCompilerCompiler.compile('<foreignObject>{{#testing}}<div></div>{{/testing}}</foreignObject>');

      var fragment = template.render({ isTrue: true }, env, { contextualElement: document.createElementNS(svgNamespace, 'svg') }).fragment;
      var svgNode = fragment.firstChild;
      equal(svgNode.namespaceURI, svgNamespace, "foreignObject tag has an svg namespace");
      equal(svgNode.childNodes[0].namespaceURI, xhtmlNamespace, "div inside morph and foreignObject has xhtml namespace");
    });
  }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWwtY29tcGlsZXItdGVzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU9BLE1BQUksY0FBYyxHQUFHLDhCQUE4QjtNQUMvQyxZQUFZLEdBQUssNEJBQTRCLENBQUM7O0FBRWxELE1BQUksS0FBSyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsR0FBRyxDQUFDOztBQUVsQyxXQUFTLGNBQWMsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFO0FBQ3RDLFdBQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUM7R0FDMUI7O0FBRUQsV0FBUyxlQUFlLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRTtBQUNuQyxZQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsMEJBakJWLE9BQU8sQ0FpQlcsSUFBSSxDQUFDLENBQUM7R0FDaEM7O0FBRUQsV0FBUyxVQUFVLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUU7QUFDM0MsUUFBSSxRQUFRLEdBQUcsMEJBckJSLE9BQU8sQ0FxQlMsSUFBSSxDQUFDLENBQUM7QUFDN0IsUUFBSSxRQUFRLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLEVBQUUsaUJBQWlCLEVBQUUsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDO0FBQzVGLHlCQWxCMkMsV0FBVyxDQWtCMUMsUUFBUSxFQUFFLFFBQVEsS0FBSyxTQUFTLEdBQUcsSUFBSSxHQUFHLFFBQVEsQ0FBQyxDQUFDO0FBQ2hFLFdBQU8sUUFBUSxDQUFDO0dBQ2pCOztBQUdELFdBQVMsV0FBVyxHQUFHO0FBQ3JCLFNBQUssR0FBRyx5QkExQkQsS0FBSyxDQTBCRSxFQUFFLGdDQUFlLENBQUM7QUFDaEMsV0FBTyxHQUFHLEVBQUUsQ0FBQztBQUNiLFlBQVEsR0FBRyxFQUFFLENBQUM7O0FBRWQsT0FBRyxHQUFHO0FBQ0osU0FBRyxFQUFFLHdCQUFlO0FBQ3BC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LENBQUMsQ0FBQyxDQUFDLFlBQVksRUFBRSxjQUFjLEVBQ2xELHdEQUF3RCxDQUFFLENBQUM7S0FDbkUsQ0FBQyxDQUFDO0dBRUYiLCJmaWxlIjoiaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbC1jb21waWxlci10ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tcGlsZSB9IGZyb20gXCIuLi9odG1sYmFycy1jb21waWxlci9jb21waWxlclwiO1xuaW1wb3J0IHsgZm9yRWFjaCB9IGZyb20gXCIuLi9odG1sYmFycy11dGlsL2FycmF5LXV0aWxzXCI7XG5pbXBvcnQgZGVmYXVsdEhvb2tzIGZyb20gXCIuLi9odG1sYmFycy1ydW50aW1lL2hvb2tzXCI7XG5pbXBvcnQgeyBtZXJnZSB9IGZyb20gXCIuLi9odG1sYmFycy11dGlsL29iamVjdC11dGlsc1wiO1xuaW1wb3J0IERPTUhlbHBlciBmcm9tIFwiLi4vZG9tLWhlbHBlclwiO1xuaW1wb3J0IHsgbm9ybWFsaXplSW5uZXJIVE1MLCBnZXRUZXh0Q29udGVudCwgZXF1YWxUb2tlbnMgfSBmcm9tIFwiLi4vaHRtbGJhcnMtdGVzdC1oZWxwZXJzXCI7XG5cbnZhciB4aHRtbE5hbWVzcGFjZSA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLFxuICAgIHN2Z05hbWVzcGFjZSAgID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiO1xuXG52YXIgaG9va3MsIGhlbHBlcnMsIHBhcnRpYWxzLCBlbnY7XG5cbmZ1bmN0aW9uIHJlZ2lzdGVySGVscGVyKG5hbWUsIGNhbGxiYWNrKSB7XG4gIGhlbHBlcnNbbmFtZV0gPSBjYWxsYmFjaztcbn1cblxuZnVuY3Rpb24gcmVnaXN0ZXJQYXJ0aWFsKG5hbWUsIGh0bWwpIHtcbiAgcGFydGlhbHNbbmFtZV0gPSBjb21waWxlKGh0bWwpO1xufVxuXG5mdW5jdGlvbiBjb21waWxlc1RvKGh0bWwsIGV4cGVjdGVkLCBjb250ZXh0KSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoaHRtbCk7XG4gIHZhciBmcmFnbWVudCA9IHRlbXBsYXRlLnJlbmRlcihjb250ZXh0LCBlbnYsIHsgY29udGV4dHVhbEVsZW1lbnQ6IGRvY3VtZW50LmJvZHkgfSkuZnJhZ21lbnQ7XG4gIGVxdWFsVG9rZW5zKGZyYWdtZW50LCBleHBlY3RlZCA9PT0gdW5kZWZpbmVkID8gaHRtbCA6IGV4cGVjdGVkKTtcbiAgcmV0dXJuIGZyYWdtZW50O1xufVxuXG5cbmZ1bmN0aW9uIGNvbW1vblNldHVwKCkge1xuICBob29rcyA9IG1lcmdlKHt9LCBkZWZhdWx0SG9va3MpO1xuICBoZWxwZXJzID0ge307XG4gIHBhcnRpYWxzID0ge307XG5cbiAgZW52ID0ge1xuICAgIGRvbTogbmV3IERPTUhlbHBlcigpLFxuICAgIGhvb2tzOiBob29rcyxcbiAgICBoZWxwZXJzOiBoZWxwZXJzLFxuICAgIHBhcnRpYWxzOiBwYXJ0aWFscyxcbiAgICB1c2VGcmFnbWVudENhY2hlOiB0cnVlXG4gIH07XG59XG5cblFVbml0Lm1vZHVsZShcIkhUTUwtYmFzZWQgY29tcGlsZXIgKG91dHB1dClcIiwge1xuICBiZWZvcmVFYWNoOiBjb21tb25TZXR1cFxufSk7XG5cbnRlc3QoXCJTaW1wbGUgY29udGVudCBwcm9kdWNlcyBhIGRvY3VtZW50IGZyYWdtZW50XCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKFwiY29udGVudFwiKTtcbiAgdmFyIGZyYWdtZW50ID0gdGVtcGxhdGUucmVuZGVyKHt9LCBlbnYpLmZyYWdtZW50O1xuXG4gIGVxdWFsVG9rZW5zKGZyYWdtZW50LCBcImNvbnRlbnRcIik7XG59KTtcblxudGVzdChcIlNpbXBsZSBlbGVtZW50cyBhcmUgY3JlYXRlZFwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShcIjxoMT5oZWxsbyE8L2gxPjxkaXY+Y29udGVudDwvZGl2PlwiKTtcbiAgdmFyIGZyYWdtZW50ID0gdGVtcGxhdGUucmVuZGVyKHt9LCBlbnYpLmZyYWdtZW50O1xuXG4gIGVxdWFsVG9rZW5zKGZyYWdtZW50LCBcIjxoMT5oZWxsbyE8L2gxPjxkaXY+Y29udGVudDwvZGl2PlwiKTtcbn0pO1xuXG50ZXN0KFwiU2ltcGxlIGVsZW1lbnRzIGNhbiBiZSByZS1yZW5kZXJlZFwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShcIjxoMT5oZWxsbyE8L2gxPjxkaXY+Y29udGVudDwvZGl2PlwiKTtcbiAgdmFyIHJlc3VsdCA9IHRlbXBsYXRlLnJlbmRlcih7fSwgZW52KTtcbiAgdmFyIGZyYWdtZW50ID0gcmVzdWx0LmZyYWdtZW50O1xuXG4gIHZhciBvbGRGaXJzdENoaWxkID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuICByZXN1bHQucmV2YWxpZGF0ZSgpO1xuXG4gIHN0cmljdEVxdWFsKGZyYWdtZW50LmZpcnN0Q2hpbGQsIG9sZEZpcnN0Q2hpbGQpO1xuICBlcXVhbFRva2VucyhmcmFnbWVudCwgXCI8aDE+aGVsbG8hPC9oMT48ZGl2PmNvbnRlbnQ8L2Rpdj5cIik7XG59KTtcblxudGVzdChcIlNpbXBsZSBlbGVtZW50cyBjYW4gaGF2ZSBhdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKFwiPGRpdiBjbGFzcz0nZm9vJyBpZD0nYmFyJz5jb250ZW50PC9kaXY+XCIpO1xuICB2YXIgZnJhZ21lbnQgPSB0ZW1wbGF0ZS5yZW5kZXIoe30sIGVudikuZnJhZ21lbnQ7XG5cbiAgZXF1YWxUb2tlbnMoZnJhZ21lbnQsICc8ZGl2IGNsYXNzPVwiZm9vXCIgaWQ9XCJiYXJcIj5jb250ZW50PC9kaXY+Jyk7XG59KTtcblxudGVzdChcIlNpbXBsZSBlbGVtZW50cyBjYW4gaGF2ZSBhbiBlbXB0eSBhdHRyaWJ1dGVcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoXCI8ZGl2IGNsYXNzPScnPmNvbnRlbnQ8L2Rpdj5cIik7XG4gIHZhciBmcmFnbWVudCA9IHRlbXBsYXRlLnJlbmRlcih7fSwgZW52KS5mcmFnbWVudDtcblxuICBlcXVhbFRva2VucyhmcmFnbWVudCwgJzxkaXYgY2xhc3M9XCJcIj5jb250ZW50PC9kaXY+Jyk7XG59KTtcblxudGVzdChcInByZXNlbmNlIG9mIGBkaXNhYmxlZGAgYXR0cmlidXRlIHdpdGhvdXQgdmFsdWUgbWFya3MgYXMgZGlzYWJsZWRcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxpbnB1dCBkaXNhYmxlZD4nKTtcbiAgdmFyIGlucHV0Tm9kZSA9IHRlbXBsYXRlLnJlbmRlcih7fSwgZW52KS5mcmFnbWVudC5maXJzdENoaWxkO1xuXG4gIG9rKGlucHV0Tm9kZS5kaXNhYmxlZCwgJ2Rpc2FibGVkIHdpdGhvdXQgdmFsdWUgc2V0IGFzIHByb3BlcnR5IGlzIHRydWUnKTtcbn0pO1xuXG50ZXN0KFwiTnVsbCBxdW90ZWQgYXR0cmlidXRlIHZhbHVlIGNhbGxzIHRvU3RyaW5nIG9uIHRoZSB2YWx1ZVwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZSgnPGlucHV0IGRpc2FibGVkPVwie3tpc0Rpc2FibGVkfX1cIj4nKTtcbiAgdmFyIGlucHV0Tm9kZSA9IHRlbXBsYXRlLnJlbmRlcih7aXNEaXNhYmxlZDogbnVsbH0sIGVudikuZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuICBvayhpbnB1dE5vZGUuZGlzYWJsZWQsICdzdHJpbmcgb2YgXCJudWxsXCIgc2V0IGFzIHByb3BlcnR5IGlzIHRydWUnKTtcbn0pO1xuXG50ZXN0KFwiTnVsbCB1bnF1b3RlZCBhdHRyaWJ1dGUgdmFsdWUgcmVtb3ZlcyB0aGF0IGF0dHJpYnV0ZVwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZSgnPGlucHV0IGRpc2FibGVkPXt7aXNEaXNhYmxlZH19PicpO1xuICB2YXIgaW5wdXROb2RlID0gdGVtcGxhdGUucmVuZGVyKHtpc0Rpc2FibGVkOiBudWxsfSwgZW52KS5mcmFnbWVudC5maXJzdENoaWxkO1xuXG4gIGVxdWFsVG9rZW5zKGlucHV0Tm9kZSwgJzxpbnB1dD4nKTtcbn0pO1xuXG50ZXN0KFwidW5xdW90ZWQgYXR0cmlidXRlIHN0cmluZyBpcyBqdXN0IHRoYXRcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxpbnB1dCB2YWx1ZT1mdW5zdHVmZj4nKTtcbiAgdmFyIGlucHV0Tm9kZSA9IHRlbXBsYXRlLnJlbmRlcih7fSwgZW52KS5mcmFnbWVudC5maXJzdENoaWxkO1xuXG4gIGVxdWFsKGlucHV0Tm9kZS50YWdOYW1lLCAnSU5QVVQnLCAnaW5wdXQgdGFnJyk7XG4gIGVxdWFsKGlucHV0Tm9kZS52YWx1ZSwgJ2Z1bnN0dWZmJywgJ3ZhbHVlIGlzIHNldCBhcyBwcm9wZXJ0eScpO1xufSk7XG5cbnRlc3QoXCJ1bnF1b3RlZCBhdHRyaWJ1dGUgZXhwcmVzc2lvbiBpcyBzdHJpbmdcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxpbnB1dCB2YWx1ZT17e2Z1bnN0dWZmfX0+Jyk7XG4gIHZhciBpbnB1dE5vZGUgPSB0ZW1wbGF0ZS5yZW5kZXIoe2Z1bnN0dWZmOiBcIm9oIG15XCJ9LCBlbnYpLmZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cbiAgZXF1YWwoaW5wdXROb2RlLnRhZ05hbWUsICdJTlBVVCcsICdpbnB1dCB0YWcnKTtcbiAgZXF1YWwoaW5wdXROb2RlLnZhbHVlLCAnb2ggbXknLCAnc3RyaW5nIGlzIHNldCB0byBwcm9wZXJ0eScpO1xufSk7XG5cbnRlc3QoXCJ1bnF1b3RlZCBhdHRyaWJ1dGUgZXhwcmVzc2lvbiB3b3JrcyB3aGVuIGZvbGxvd2VkIGJ5IGFub3RoZXIgYXR0cmlidXRlXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKCc8ZGl2IGZvbz17e2Z1bnN0dWZmfX0gbmFtZT1cIkFsaWNlXCI+PC9kaXY+Jyk7XG4gIHZhciBkaXZOb2RlID0gdGVtcGxhdGUucmVuZGVyKHtmdW5zdHVmZjogXCJvaCBteVwifSwgZW52KS5mcmFnbWVudC5maXJzdENoaWxkO1xuXG4gIGVxdWFsVG9rZW5zKGRpdk5vZGUsICc8ZGl2IG5hbWU9XCJBbGljZVwiIGZvbz1cIm9oIG15XCI+PC9kaXY+Jyk7XG59KTtcblxudGVzdChcIlVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZSB3aXRoIG11bHRpcGxlIG5vZGVzIHRocm93cyBhbiBleGNlcHRpb25cIiwgZnVuY3Rpb24gKCkge1xuICBleHBlY3QoNCk7XG5cbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkgeyBjb21waWxlKCc8aW1nIGNsYXNzPWZvb3t7YmFyfX0+Jyk7IH0sIGV4cGVjdGVkRXJyb3IoMSkpO1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7IGNvbXBpbGUoJzxpbWcgY2xhc3M9e3tmb299fXt7YmFyfX0+Jyk7IH0sIGV4cGVjdGVkRXJyb3IoMSkpO1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7IGNvbXBpbGUoJzxpbWcgXFxuY2xhc3M9e3tmb299fWJhcj4nKTsgfSwgZXhwZWN0ZWRFcnJvcigyKSk7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHsgY29tcGlsZSgnPGRpdiBcXG5jbGFzc1xcbj1cXG57e2Zvb319JmFtcDtiYXIgPjwvZGl2PicpOyB9LCBleHBlY3RlZEVycm9yKDQpKTtcblxuICBmdW5jdGlvbiBleHBlY3RlZEVycm9yKGxpbmUpIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgICAgYEFuIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIG9yIGEgbXVzdGFjaGUsIGAgK1xuICAgICAgYHByZWNlZWRlZCBieSB3aGl0ZXNwYWNlIG9yIGEgJz0nIGNoYXJhY3RlciwgYW5kIGAgK1xuICAgICAgYGZvbGxvd2VkIGJ5IHdoaXRlc3BhY2UsIGEgJz4nIGNoYXJhY3RlciBvciBhICcvPicgKG9uIGxpbmUgJHtsaW5lfSlgXG4gICAgKTtcbiAgfVxufSk7XG5cbnRlc3QoXCJTaW1wbGUgZWxlbWVudHMgY2FuIGhhdmUgYXJiaXRyYXJ5IGF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoXCI8ZGl2IGRhdGEtc29tZS1kYXRhPSdmb28nPmNvbnRlbnQ8L2Rpdj5cIik7XG4gIHZhciBkaXZOb2RlID0gdGVtcGxhdGUucmVuZGVyKHt9LCBlbnYpLmZyYWdtZW50LmZpcnN0Q2hpbGQ7XG4gIGVxdWFsVG9rZW5zKGRpdk5vZGUsICc8ZGl2IGRhdGEtc29tZS1kYXRhPVwiZm9vXCI+Y29udGVudDwvZGl2PicpO1xufSk7XG5cbnRlc3QoXCJjaGVja2VkIGF0dHJpYnV0ZSBhbmQgY2hlY2tlZCBwcm9wZXJ0eSBhcmUgcHJlc2VudCBhZnRlciBjbG9uZSBhbmQgaHlkcmF0ZVwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShcIjxpbnB1dCBjaGVja2VkPVxcXCJjaGVja2VkXFxcIj5cIik7XG4gIHZhciBpbnB1dE5vZGUgPSB0ZW1wbGF0ZS5yZW5kZXIoe30sIGVudikuZnJhZ21lbnQuZmlyc3RDaGlsZDtcbiAgZXF1YWwoaW5wdXROb2RlLnRhZ05hbWUsICdJTlBVVCcsICdpbnB1dCB0YWcnKTtcbiAgZXF1YWwoaW5wdXROb2RlLmNoZWNrZWQsIHRydWUsICdpbnB1dCB0YWcgaXMgY2hlY2tlZCcpO1xufSk7XG5cblxuZnVuY3Rpb24gc2hvdWxkQmVWb2lkKHRhZ05hbWUpIHtcbiAgdmFyIGh0bWwgPSBcIjxcIiArIHRhZ05hbWUgKyBcIiBkYXRhLWZvbz0nYmFyJz48cD5oZWxsbzwvcD5cIjtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShodG1sKTtcbiAgdmFyIGZyYWdtZW50ID0gdGVtcGxhdGUucmVuZGVyKHt9LCBlbnYpLmZyYWdtZW50O1xuXG5cbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGRpdi5hcHBlbmRDaGlsZChmcmFnbWVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gIHZhciB0YWcgPSAnPCcgKyB0YWdOYW1lICsgJyBkYXRhLWZvbz1cImJhclwiPic7XG4gIHZhciBjbG9zaW5nID0gJzwvJyArIHRhZ05hbWUgKyAnPic7XG4gIHZhciBleHRyYSA9IFwiPHA+aGVsbG88L3A+XCI7XG4gIGh0bWwgPSBub3JtYWxpemVJbm5lckhUTUwoZGl2LmlubmVySFRNTCk7XG5cbiAgUVVuaXQucHVzaCgoaHRtbCA9PT0gdGFnICsgZXh0cmEpIHx8IChodG1sID09PSB0YWcgKyBjbG9zaW5nICsgZXh0cmEpLCBodG1sLCB0YWcgKyBjbG9zaW5nICsgZXh0cmEsIHRhZ05hbWUgKyBcIiBzaG91bGQgYmUgYSB2b2lkIGVsZW1lbnRcIik7XG59XG5cbnRlc3QoXCJWb2lkIGVsZW1lbnRzIGFyZSBzZWxmLWNsb3NpbmdcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciB2b2lkRWxlbWVudHMgPSBcImFyZWEgYmFzZSBiciBjb2wgY29tbWFuZCBlbWJlZCBociBpbWcgaW5wdXQga2V5Z2VuIGxpbmsgbWV0YSBwYXJhbSBzb3VyY2UgdHJhY2sgd2JyXCI7XG5cbiAgZm9yRWFjaCh2b2lkRWxlbWVudHMuc3BsaXQoXCIgXCIpLCBmdW5jdGlvbih0YWdOYW1lKSB7XG4gICAgc2hvdWxkQmVWb2lkKHRhZ05hbWUpO1xuICB9KTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgbmVzdGluZ1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIGh0bWwgPSAnPGRpdiBjbGFzcz1cImZvb1wiPjxwPjxzcGFuIGlkPVwiYmFyXCIgZGF0YS1mb289XCJiYXJcIj5oaSE8L3NwYW4+PC9wPjwvZGl2PiZuYnNwO01vcmUgY29udGVudCc7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoaHRtbCk7XG4gIHZhciBmcmFnbWVudCA9IHRlbXBsYXRlLnJlbmRlcih7fSwgZW52KS5mcmFnbWVudDtcblxuICBlcXVhbFRva2VucyhmcmFnbWVudCwgaHRtbCk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIHF1b3Rlc1wiLCBmdW5jdGlvbigpIHtcbiAgY29tcGlsZXNUbygnPGRpdj5cIlRoaXMgaXMgYSB0aXRsZSxcIiB3ZVxcJ3JlIG9uIGEgYm9hdDwvZGl2PicpO1xufSk7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBiYWNrc2xhc2hlc1wiLCBmdW5jdGlvbigpIHtcbiAgY29tcGlsZXNUbygnPGRpdj5UaGlzIGlzIGEgYmFja3NsYXNoOiBcXFxcPC9kaXY+Jyk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIG5ld2xpbmVzXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKFwiPGRpdj5jb21tb25cXG5cXG5icm88L2Rpdj5cIik7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIGNvbW1lbnRzXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKFwiPGRpdj57eyEgQmV0dGVyIG5vdCBicmVhayEgfX1jb250ZW50PC9kaXY+XCIsICc8ZGl2PmNvbnRlbnQ8L2Rpdj4nLCB7fSk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIEhUTUwgY29tbWVudHNcIiwgZnVuY3Rpb24oKSB7XG4gIGNvbXBpbGVzVG8oJzxkaXY+PCEtLSBKdXN0IHBhc3NpbmcgdGhyb3VnaCAtLT48L2Rpdj4nKTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgSFRNTCBjb21tZW50cyB3aXRoIG11c3RhY2hlcyBpbiB0aGVtXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKCc8ZGl2PjwhLS0ge3tmb299fSAtLT48L2Rpdj4nLCAnPGRpdj48IS0tIHt7Zm9vfX0gLS0+PC9kaXY+JywgeyBmb286ICdiYXInIH0pO1xufSk7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBIVE1MIGNvbW1lbnRzIHdpdGggY29tcGxleCBtdXN0YWNoZXMgaW4gdGhlbVwiLCBmdW5jdGlvbigpIHtcbiAgY29tcGlsZXNUbygnPGRpdj48IS0tIHt7Zm9vIGJhciBiYXp9fSAtLT48L2Rpdj4nLCAnPGRpdj48IS0tIHt7Zm9vIGJhciBiYXp9fSAtLT48L2Rpdj4nLCB7IGZvbzogJ2JhcicgfSk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIEhUTUwgY29tbWVudHMgd2l0aCBtdWx0aS1saW5lIG11c3RhY2hlcyBpbiB0aGVtXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKCc8ZGl2PjwhLS0ge3sjZWFjaCBmb28gYXMgfGJhcnx9fVxcbnt7YmFyfX1cXG5cXG57ey9lYWNofX0gLS0+PC9kaXY+Jyk7XG59KTtcblxudGVzdCgnVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgY29tbWVudHMgd2l0aCBubyBwYXJlbnQgZWxlbWVudCcsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKCc8IS0tIHt7Zm9vfX0gLS0+Jyk7XG59KTtcblxuLy8gVE9ETzogUmV2aXNpdCBwYXJ0aWFsIHN5bnRheC5cbi8vIHRlc3QoXCJUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBwYXJ0aWFscyBpbiBoYW5kbGViYXJzIHBhcnRpYWwgc3ludGF4XCIsIGZ1bmN0aW9uKCkge1xuLy8gICByZWdpc3RlclBhcnRpYWwoJ3BhcnRpYWxfbmFtZScsIFwiPGI+UGFydGlhbCBXb3JrcyE8L2I+XCIpO1xuLy8gICBjb21waWxlc1RvKCc8ZGl2Pnt7PnBhcnRpYWxfbmFtZX19IFBsYWludGV4dCBjb250ZW50PC9kaXY+JywgJzxkaXY+PGI+UGFydGlhbCBXb3JrcyE8L2I+IFBsYWludGV4dCBjb250ZW50PC9kaXY+Jywge30pO1xuLy8gfSk7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBwYXJ0aWFscyBpbiBoZWxwZXIgcGFydGlhbCBzeW50YXhcIiwgZnVuY3Rpb24oKSB7XG4gIHJlZ2lzdGVyUGFydGlhbCgncGFydGlhbF9uYW1lJywgXCI8Yj5QYXJ0aWFsIFdvcmtzITwvYj5cIik7XG4gIGNvbXBpbGVzVG8oJzxkaXY+e3twYXJ0aWFsIFwicGFydGlhbF9uYW1lXCJ9fSBQbGFpbnRleHQgY29udGVudDwvZGl2PicsICc8ZGl2PjxiPlBhcnRpYWwgV29ya3MhPC9iPiBQbGFpbnRleHQgY29udGVudDwvZGl2PicsIHt9KTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgc2ltcGxlIGhhbmRsZWJhcnNcIiwgZnVuY3Rpb24oKSB7XG4gIGNvbXBpbGVzVG8oJzxkaXY+e3t0aXRsZX19PC9kaXY+JywgJzxkaXY+aGVsbG88L2Rpdj4nLCB7IHRpdGxlOiAnaGVsbG8nIH0pO1xufSk7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgY2FuIGhhbmRsZSBlc2NhcGluZyBIVE1MXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKCc8ZGl2Pnt7dGl0bGV9fTwvZGl2PicsICc8ZGl2PiZsdDtzdHJvbmcmZ3Q7aGVsbG8mbHQ7L3N0cm9uZyZndDs8L2Rpdj4nLCB7IHRpdGxlOiAnPHN0cm9uZz5oZWxsbzwvc3Ryb25nPicgfSk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIHVuZXNjYXBlZCBIVE1MXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKCc8ZGl2Pnt7e3RpdGxlfX19PC9kaXY+JywgJzxkaXY+PHN0cm9uZz5oZWxsbzwvc3Ryb25nPjwvZGl2PicsIHsgdGl0bGU6ICc8c3Ryb25nPmhlbGxvPC9zdHJvbmc+JyB9KTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgdG9wLWxldmVsIHVuZXNjYXBlZCBIVE1MXCIsIGZ1bmN0aW9uKCkge1xuICBjb21waWxlc1RvKCd7e3todG1sfX19JywgJzxzdHJvbmc+aGVsbG88L3N0cm9uZz4nLCB7IGh0bWw6ICc8c3Ryb25nPmhlbGxvPC9zdHJvbmc+JyB9KTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgdG9wLWxldmVsIHVuZXNjYXBlZCB0clwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZSgne3t7aHRtbH19fScpO1xuICB2YXIgY29udGV4dCA9IHsgaHRtbDogJzx0cj48dGQ+WW88L3RkPjwvdHI+JyB9O1xuICB2YXIgZnJhZ21lbnQgPSB0ZW1wbGF0ZS5yZW5kZXIoY29udGV4dCwgZW52LCB7IGNvbnRleHR1YWxFbGVtZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpIH0pLmZyYWdtZW50O1xuXG4gIGVxdWFsKFxuICAgIGZyYWdtZW50LmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcudGFnTmFtZSwgJ1RSJyxcbiAgICBcInJvb3QgdHIgaXMgcHJlc2VudFwiICk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIHRvcC1sZXZlbCB1bmVzY2FwZWQgdGQgaW5zaWRlIHRyIGNvbnRleHR1YWxFbGVtZW50XCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKCd7e3todG1sfX19Jyk7XG4gIHZhciBjb250ZXh0ID0geyBodG1sOiAnPHRkPllvPC90ZD4nIH07XG4gIHZhciBmcmFnbWVudCA9IHRlbXBsYXRlLnJlbmRlcihjb250ZXh0LCBlbnYsIHsgY29udGV4dHVhbEVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJykgfSkuZnJhZ21lbnQ7XG5cbiAgZXF1YWwoXG4gICAgZnJhZ21lbnQuZmlyc3RDaGlsZC5uZXh0U2libGluZy50YWdOYW1lLCAnVEQnLFxuICAgIFwicm9vdCB0ZCBpcyByZXR1cm5lZFwiICk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIHVuZXNjYXBlZCB0ciBpbiB0b3Agb2YgY29udGVudFwiLCBmdW5jdGlvbigpIHtcbiAgcmVnaXN0ZXJIZWxwZXIoJ3Rlc3QnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy55aWVsZCgpO1xuICB9KTtcblxuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKCd7eyN0ZXN0fX17e3todG1sfX19e3svdGVzdH19Jyk7XG4gIHZhciBjb250ZXh0ID0geyBodG1sOiAnPHRyPjx0ZD5ZbzwvdGQ+PC90cj4nIH07XG4gIHZhciBmcmFnbWVudCA9IHRlbXBsYXRlLnJlbmRlcihjb250ZXh0LCBlbnYsIHsgY29udGV4dHVhbEVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RhYmxlJykgfSkuZnJhZ21lbnQ7XG5cbiAgZXF1YWwoXG4gICAgZnJhZ21lbnQuZmlyc3RDaGlsZC5uZXh0U2libGluZy5uZXh0U2libGluZy50YWdOYW1lLCAnVFInLFxuICAgIFwicm9vdCB0ciBpcyBwcmVzZW50XCIgKTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgdW5lc2NhcGVkIHRyIGluc2lkZSBmcmFnbWVudCB0YWJsZVwiLCBmdW5jdGlvbigpIHtcbiAgcmVnaXN0ZXJIZWxwZXIoJ3Rlc3QnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy55aWVsZCgpO1xuICB9KTtcblxuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKCc8dGFibGU+e3sjdGVzdH19e3t7aHRtbH19fXt7L3Rlc3R9fTwvdGFibGU+Jyk7XG4gIHZhciBjb250ZXh0ID0geyBodG1sOiAnPHRyPjx0ZD5ZbzwvdGQ+PC90cj4nIH07XG4gIHZhciBmcmFnbWVudCA9IHRlbXBsYXRlLnJlbmRlcihjb250ZXh0LCBlbnYsIHsgY29udGV4dHVhbEVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIH0pLmZyYWdtZW50O1xuICB2YXIgdGFibGVOb2RlID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuICBlcXVhbChcbiAgICB0YWJsZU5vZGUuZmlyc3RDaGlsZC5uZXh0U2libGluZy50YWdOYW1lLCAnVFInLFxuICAgIFwicm9vdCB0ciBpcyBwcmVzZW50XCIgKTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgc2ltcGxlIGhlbHBlcnNcIiwgZnVuY3Rpb24oKSB7XG4gIHJlZ2lzdGVySGVscGVyKCd0ZXN0aW5nJywgZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgcmV0dXJuIHBhcmFtc1swXTtcbiAgfSk7XG5cbiAgY29tcGlsZXNUbygnPGRpdj57e3Rlc3RpbmcgdGl0bGV9fTwvZGl2PicsICc8ZGl2PmhlbGxvPC9kaXY+JywgeyB0aXRsZTogJ2hlbGxvJyB9KTtcbn0pO1xuXG50ZXN0KFwiSGVscGVycyBwcm9wYWdhdGUgdGhlIG93bmVyIHJlbmRlciBub2RlXCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcignaWQnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy55aWVsZCgpO1xuICB9KTtcblxuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKCc8ZGl2Pnt7I2lkfX08cD57eyNpZH19PHNwYW4+e3sjaWR9fXt7bmFtZX19e3svaWR9fTwvc3Bhbj57ey9pZH19PC9wPnt7L2lkfX08L2Rpdj4nKTtcbiAgdmFyIGNvbnRleHQgPSB7IG5hbWU6IFwiVG9tIERhbGVcIiB9O1xuICB2YXIgcmVzdWx0ID0gdGVtcGxhdGUucmVuZGVyKGNvbnRleHQsIGVudik7XG5cbiAgZXF1YWxUb2tlbnMocmVzdWx0LmZyYWdtZW50LCAnPGRpdj48cD48c3Bhbj5Ub20gRGFsZTwvc3Bhbj48L3A+PC9kaXY+Jyk7XG5cbiAgdmFyIHJvb3QgPSByZXN1bHQucm9vdDtcbiAgc3RyaWN0RXF1YWwocm9vdCwgcm9vdC5jaGlsZE5vZGVzWzBdLm93bmVyTm9kZSk7XG4gIHN0cmljdEVxdWFsKHJvb3QsIHJvb3QuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLm93bmVyTm9kZSk7XG4gIHN0cmljdEVxdWFsKHJvb3QsIHJvb3QuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0ub3duZXJOb2RlKTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIGNhbiBoYW5kbGUgc2V4cHIgaGVscGVyc1wiLCBmdW5jdGlvbigpIHtcbiAgcmVnaXN0ZXJIZWxwZXIoJ3Rlc3RpbmcnLCBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICByZXR1cm4gcGFyYW1zWzBdICsgXCIhXCI7XG4gIH0pO1xuXG4gIGNvbXBpbGVzVG8oJzxkaXY+e3t0ZXN0aW5nICh0ZXN0aW5nIFwiaGVsbG9cIil9fTwvZGl2PicsICc8ZGl2PmhlbGxvISE8L2Rpdj4nLCB7fSk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIG11bHRpcGxlIGludm9jYXRpb25zIG9mIHNleHByc1wiLCBmdW5jdGlvbigpIHtcbiAgcmVnaXN0ZXJIZWxwZXIoJ3Rlc3RpbmcnLCBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICByZXR1cm4gXCJcIiArIHBhcmFtc1swXSArIHBhcmFtc1sxXTtcbiAgfSk7XG5cbiAgY29tcGlsZXNUbygnPGRpdj57e3Rlc3RpbmcgKHRlc3RpbmcgXCJoZWxsb1wiIGZvbykgKHRlc3RpbmcgKHRlc3RpbmcgYmFyIFwibG9sXCIpIGJheil9fTwvZGl2PicsICc8ZGl2PmhlbGxvRk9PQkFSbG9sQkFaPC9kaXY+JywgeyBmb286IFwiRk9PXCIsIGJhcjogXCJCQVJcIiwgYmF6OiBcIkJBWlwiIH0pO1xufSk7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgcGFzc2VzIGFsb25nIHRoZSBoYXNoIGFyZ3VtZW50c1wiLCBmdW5jdGlvbigpIHtcbiAgcmVnaXN0ZXJIZWxwZXIoJ3Rlc3RpbmcnLCBmdW5jdGlvbihwYXJhbXMsIGhhc2gpIHtcbiAgICByZXR1cm4gaGFzaC5maXJzdCArICctJyArIGhhc2guc2Vjb25kO1xuICB9KTtcblxuICBjb21waWxlc1RvKCc8ZGl2Pnt7dGVzdGluZyBmaXJzdD1cIm9uZVwiIHNlY29uZD1cInR3b1wifX08L2Rpdj4nLCAnPGRpdj5vbmUtdHdvPC9kaXY+Jyk7XG59KTtcblxudGVzdChcInNlY29uZCByZW5kZXIgcmVzcGVjdHMgd2hpdGVzcGFjZVwiLCBmdW5jdGlvbiAoKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJ0hlbGxvIHt7IGZvbyB9fSAnKTtcbiAgdGVtcGxhdGUucmVuZGVyKHt9LCBlbnYsIHsgY29udGV4dHVhbEVsZW1lbnQ6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpIH0pO1xuICB2YXIgZnJhZ21lbnQgPSB0ZW1wbGF0ZS5yZW5kZXIoe30sIGVudiwgeyBjb250ZXh0dWFsRWxlbWVudDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykgfSkuZnJhZ21lbnQ7XG4gIGVxdWFsKGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoLCAzLCAnZnJhZ21lbnQgY29udGFpbnMgMyB0ZXh0IG5vZGVzJyk7XG4gIGVxdWFsKGdldFRleHRDb250ZW50KGZyYWdtZW50LmNoaWxkTm9kZXNbMF0pLCAnSGVsbG8gJywgJ2ZpcnN0IHRleHQgbm9kZSBlbmRzIHdpdGggb25lIHNwYWNlIGNoYXJhY3RlcicpO1xuICBlcXVhbChnZXRUZXh0Q29udGVudChmcmFnbWVudC5jaGlsZE5vZGVzWzJdKSwgJyAnLCAnbGFzdCB0ZXh0IG5vZGUgY29udGFpbnMgb25lIHNwYWNlIGNoYXJhY3RlcicpO1xufSk7XG5cbnRlc3QoXCJNb3JwaHMgYXJlIGVzY2FwZWQgY29ycmVjdGx5XCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcigndGVzdGluZy11bmVzY2FwZWQnLCBmdW5jdGlvbihwYXJhbXMpIHtcbiAgICByZXR1cm4gcGFyYW1zWzBdO1xuICB9KTtcblxuICByZWdpc3RlckhlbHBlcigndGVzdGluZy1lc2NhcGVkJywgZnVuY3Rpb24ocGFyYW1zKSB7XG4gICAgaWYgKHRoaXMueWllbGQpIHtcbiAgICAgIHJldHVybiB0aGlzLnlpZWxkKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmFtc1swXTtcbiAgfSk7XG5cbiAgY29tcGlsZXNUbygnPGRpdj57e3t0ZXN0aW5nLXVuZXNjYXBlZCBcIjxzcGFuPmhpPC9zcGFuPlwifX19PC9kaXY+JywgJzxkaXY+PHNwYW4+aGk8L3NwYW4+PC9kaXY+Jyk7XG4gIGNvbXBpbGVzVG8oJzxkaXY+e3t0ZXN0aW5nLWVzY2FwZWQgXCI8aGk+XCJ9fTwvZGl2PicsICc8ZGl2PiZsdDtoaSZndDs8L2Rpdj4nKTtcbiAgY29tcGlsZXNUbygnPGRpdj57eyN0ZXN0aW5nLWVzY2FwZWR9fTxlbT48L2VtPnt7L3Rlc3RpbmctZXNjYXBlZH19PC9kaXY+JywgJzxkaXY+PGVtPjwvZW0+PC9kaXY+Jyk7XG4gIGNvbXBpbGVzVG8oJzxkaXY+PHRlc3RpbmctZXNjYXBlZD48ZW0+PC9lbT48L3Rlc3RpbmctZXNjYXBlZD48L2Rpdj4nLCAnPGRpdj48ZW0+PC9lbT48L2Rpdj4nKTtcbn0pO1xuXG50ZXN0KFwiQXR0cmlidXRlcyBjYW4gdXNlIGNvbXB1dGVkIHZhbHVlc1wiLCBmdW5jdGlvbigpIHtcbiAgY29tcGlsZXNUbygnPGEgaHJlZj1cInt7dXJsfX1cIj5saW5reTwvYT4nLCAnPGEgaHJlZj1cImxpbmt5Lmh0bWxcIj5saW5reTwvYT4nLCB7IHVybDogJ2xpbmt5Lmh0bWwnIH0pO1xufSk7XG5cbnRlc3QoXCJNb3VudGFpbiByYW5nZSBvZiBuZXN0aW5nXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgY29udGV4dCA9IHsgZm9vOiBcIkZPT1wiLCBiYXI6IFwiQkFSXCIsIGJhejogXCJCQVpcIiwgYm9vOiBcIkJPT1wiLCBicmV3OiBcIkJSRVdcIiwgYmF0OiBcIkJBVFwiLCBmbHV0ZTogXCJGTFVURVwiLCBhcmdoOiBcIkFSR0hcIiB9O1xuICBjb21waWxlc1RvKCd7e2Zvb319PHNwYW4+PC9zcGFuPicsICdGT088c3Bhbj48L3NwYW4+JywgY29udGV4dCk7XG4gIGNvbXBpbGVzVG8oJzxzcGFuPjwvc3Bhbj57e2Zvb319JywgJzxzcGFuPjwvc3Bhbj5GT08nLCBjb250ZXh0KTtcbiAgY29tcGlsZXNUbygnPHNwYW4+e3tmb299fTwvc3Bhbj57e2Zvb319JywgJzxzcGFuPkZPTzwvc3Bhbj5GT08nLCBjb250ZXh0KTtcbiAgY29tcGlsZXNUbygne3tmb299fTxzcGFuPnt7Zm9vfX08L3NwYW4+e3tmb299fScsICdGT088c3Bhbj5GT088L3NwYW4+Rk9PJywgY29udGV4dCk7XG4gIGNvbXBpbGVzVG8oJ3t7Zm9vfX08c3Bhbj48L3NwYW4+e3tmb299fScsICdGT088c3Bhbj48L3NwYW4+Rk9PJywgY29udGV4dCk7XG4gIGNvbXBpbGVzVG8oJ3t7Zm9vfX08c3Bhbj48L3NwYW4+e3tiYXJ9fTxzcGFuPjxzcGFuPjxzcGFuPnt7YmF6fX08L3NwYW4+PC9zcGFuPjwvc3Bhbj4nLFxuICAgICAgICAgICAgICdGT088c3Bhbj48L3NwYW4+QkFSPHNwYW4+PHNwYW4+PHNwYW4+QkFaPC9zcGFuPjwvc3Bhbj48L3NwYW4+JywgY29udGV4dCk7XG4gIGNvbXBpbGVzVG8oJ3t7Zm9vfX08c3Bhbj48L3NwYW4+e3tiYXJ9fTxzcGFuPnt7YXJnaH19PHNwYW4+PHNwYW4+e3tiYXp9fTwvc3Bhbj48L3NwYW4+PC9zcGFuPicsXG4gICAgICAgICAgICAgJ0ZPTzxzcGFuPjwvc3Bhbj5CQVI8c3Bhbj5BUkdIPHNwYW4+PHNwYW4+QkFaPC9zcGFuPjwvc3Bhbj48L3NwYW4+JywgY29udGV4dCk7XG4gIGNvbXBpbGVzVG8oJ3t7Zm9vfX08c3Bhbj57e2Jhcn19PGE+e3tiYXp9fTxlbT57e2Jvb319e3ticmV3fX08L2VtPnt7YmF0fX08L2E+PC9zcGFuPjxzcGFuPjxzcGFuPnt7Zmx1dGV9fTwvc3Bhbj48L3NwYW4+e3thcmdofX0nLFxuICAgICAgICAgICAgICdGT088c3Bhbj5CQVI8YT5CQVo8ZW0+Qk9PQlJFVzwvZW0+QkFUPC9hPjwvc3Bhbj48c3Bhbj48c3Bhbj5GTFVURTwvc3Bhbj48L3NwYW4+QVJHSCcsIGNvbnRleHQpO1xufSk7XG5cbi8vIHRlc3QoXCJBdHRyaWJ1dGVzIGNhbiB1c2UgY29tcHV0ZWQgcGF0aHNcIiwgZnVuY3Rpb24oKSB7XG4vLyAgIGNvbXBpbGVzVG8oJzxhIGhyZWY9XCJ7e3Bvc3QudXJsfX1cIj5saW5reTwvYT4nLCAnPGEgaHJlZj1cImxpbmt5Lmh0bWxcIj5saW5reTwvYT4nLCB7IHBvc3Q6IHsgdXJsOiAnbGlua3kuaHRtbCcgfX0pO1xuLy8gfSk7XG5cbi8qXG5cbnRlc3QoXCJJdCBpcyBwb3NzaWJsZSB0byB1c2UgUkVTT0xWRV9JTl9BVFRSIGZvciBkYXRhIGJpbmRpbmdcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBjYWxsYmFjaztcblxuICByZWdpc3RlckhlbHBlcignUkVTT0xWRV9JTl9BVFRSJywgZnVuY3Rpb24ocGFydHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYm91bmRWYWx1ZShmdW5jdGlvbihjKSB7XG4gICAgICBjYWxsYmFjayA9IGM7XG4gICAgICByZXR1cm4gdGhpc1twYXJ0c1swXV07XG4gICAgfSwgdGhpcyk7XG4gIH0pO1xuXG4gIHZhciBvYmplY3QgPSB7IHVybDogJ2xpbmt5Lmh0bWwnIH07XG4gIHZhciBmcmFnbWVudCA9IGNvbXBpbGVzVG8oJzxhIGhyZWY9XCJ7e3VybH19XCI+bGlua3k8L2E+JywgJzxhIGhyZWY9XCJsaW5reS5odG1sXCI+bGlua3k8L2E+Jywgb2JqZWN0KTtcblxuICBvYmplY3QudXJsID0gJ2NsaXBweS5odG1sJztcbiAgY2FsbGJhY2soKTtcblxuICBlcXVhbFRva2VucyhmcmFnbWVudCwgJzxhIGhyZWY9XCJjbGlwcHkuaHRtbFwiPmxpbmt5PC9hPicpO1xuXG4gIG9iamVjdC51cmwgPSAnemlwcHkuaHRtbCc7XG4gIGNhbGxiYWNrKCk7XG5cbiAgZXF1YWxUb2tlbnMoZnJhZ21lbnQsICc8YSBocmVmPVwiemlwcHkuaHRtbFwiPmxpbmt5PC9hPicpO1xufSk7XG4qL1xuXG50ZXN0KFwiQXR0cmlidXRlcyBjYW4gYmUgcG9wdWxhdGVkIHdpdGggaGVscGVycyB0aGF0IGdlbmVyYXRlIGEgc3RyaW5nXCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiBwYXJhbXNbMF07XG4gIH0pO1xuXG4gIGNvbXBpbGVzVG8oJzxhIGhyZWY9XCJ7e3Rlc3RpbmcgdXJsfX1cIj5saW5reTwvYT4nLCAnPGEgaHJlZj1cImxpbmt5Lmh0bWxcIj5saW5reTwvYT4nLCB7IHVybDogJ2xpbmt5Lmh0bWwnfSk7XG59KTtcbi8qXG50ZXN0KFwiQSBoZWxwZXIgY2FuIHJldHVybiBhIHN0cmVhbSBmb3IgdGhlIGF0dHJpYnV0ZVwiLCBmdW5jdGlvbigpIHtcbiAgcmVnaXN0ZXJIZWxwZXIoJ3Rlc3RpbmcnLCBmdW5jdGlvbihwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN0cmVhbVZhbHVlKHRoaXNbcGF0aF0pO1xuICB9KTtcblxuICBjb21waWxlc1RvKCc8YSBocmVmPVwie3t0ZXN0aW5nIHVybH19XCI+bGlua3k8L2E+JywgJzxhIGhyZWY9XCJsaW5reS5odG1sXCI+bGlua3k8L2E+JywgeyB1cmw6ICdsaW5reS5odG1sJ30pO1xufSk7XG4qL1xudGVzdChcIkF0dHJpYnV0ZSBoZWxwZXJzIHRha2UgYSBoYXNoXCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhcmFtcywgaGFzaCkge1xuICAgIHJldHVybiBoYXNoLnBhdGg7XG4gIH0pO1xuXG4gIGNvbXBpbGVzVG8oJzxhIGhyZWY9XCJ7e3Rlc3RpbmcgcGF0aD11cmx9fVwiPmxpbmt5PC9hPicsICc8YSBocmVmPVwibGlua3kuaHRtbFwiPmxpbmt5PC9hPicsIHsgdXJsOiAnbGlua3kuaHRtbCcgfSk7XG59KTtcbi8qXG50ZXN0KFwiQXR0cmlidXRlIGhlbHBlcnMgY2FuIHVzZSB0aGUgaGFzaCBmb3IgZGF0YSBiaW5kaW5nXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgY2FsbGJhY2s7XG5cbiAgcmVnaXN0ZXJIZWxwZXIoJ3Rlc3RpbmcnLCBmdW5jdGlvbihwYXRoLCBoYXNoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGJvdW5kVmFsdWUoZnVuY3Rpb24oYykge1xuICAgICAgY2FsbGJhY2sgPSBjO1xuICAgICAgcmV0dXJuIHRoaXNbcGF0aF0gPyBoYXNoLnRydXRoeSA6IGhhc2guZmFsc3k7XG4gICAgfSwgdGhpcyk7XG4gIH0pO1xuXG4gIHZhciBvYmplY3QgPSB7IG9uOiB0cnVlIH07XG4gIHZhciBmcmFnbWVudCA9IGNvbXBpbGVzVG8oJzxkaXYgY2xhc3M9XCJ7e3Rlc3Rpbmcgb24gdHJ1dGh5PVwieWVhaFwiIGZhbHN5PVwibm9wZVwifX1cIj5oaTwvZGl2PicsICc8ZGl2IGNsYXNzPVwieWVhaFwiPmhpPC9kaXY+Jywgb2JqZWN0KTtcblxuICBvYmplY3Qub24gPSBmYWxzZTtcbiAgY2FsbGJhY2soKTtcbiAgZXF1YWxUb2tlbnMoZnJhZ21lbnQsICc8ZGl2IGNsYXNzPVwibm9wZVwiPmhpPC9kaXY+Jyk7XG59KTtcbiovXG50ZXN0KFwiQXR0cmlidXRlcyBjb250YWluaW5nIG11bHRpcGxlIGhlbHBlcnMgYXJlIHRyZWF0ZWQgbGlrZSBhIGJsb2NrXCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiBwYXJhbXNbMF07XG4gIH0pO1xuXG4gIGNvbXBpbGVzVG8oJzxhIGhyZWY9XCJodHRwOi8ve3tmb299fS97e3Rlc3RpbmcgYmFyfX0ve3t0ZXN0aW5nIFwiYmF6XCJ9fVwiPmxpbmt5PC9hPicsICc8YSBocmVmPVwiaHR0cDovL2Zvby5jb20vYmFyL2JhelwiPmxpbmt5PC9hPicsIHsgZm9vOiAnZm9vLmNvbScsIGJhcjogJ2JhcicgfSk7XG59KTtcblxudGVzdChcIkF0dHJpYnV0ZXMgY29udGFpbmluZyBhIGhlbHBlciBhcmUgdHJlYXRlZCBsaWtlIGEgYmxvY2tcIiwgZnVuY3Rpb24oKSB7XG4gIGV4cGVjdCgyKTtcblxuICByZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIGRlZXBFcXVhbChwYXJhbXMsIFsxMjNdKTtcbiAgICByZXR1cm4gXCJleGFtcGxlLmNvbVwiO1xuICB9KTtcblxuICBjb21waWxlc1RvKCc8YSBocmVmPVwiaHR0cDovL3t7dGVzdGluZyAxMjN9fS9pbmRleC5odG1sXCI+bGlua3k8L2E+JywgJzxhIGhyZWY9XCJodHRwOi8vZXhhbXBsZS5jb20vaW5kZXguaHRtbFwiPmxpbmt5PC9hPicsIHsgcGVyc29uOiB7IHVybDogJ2V4YW1wbGUuY29tJyB9IH0pO1xufSk7XG4vKlxudGVzdChcIkl0IGlzIHBvc3NpYmxlIHRvIHRyaWdnZXIgYSByZS1yZW5kZXIgb2YgYW4gYXR0cmlidXRlIGZyb20gYSBjaGlsZCByZXNvbHV0aW9uXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgY2FsbGJhY2s7XG5cbiAgcmVnaXN0ZXJIZWxwZXIoJ1JFU09MVkVfSU5fQVRUUicsIGZ1bmN0aW9uKHBhdGgsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYm91bmRWYWx1ZShmdW5jdGlvbihjKSB7XG4gICAgICBjYWxsYmFjayA9IGM7XG4gICAgICByZXR1cm4gdGhpc1twYXRoXTtcbiAgICB9LCB0aGlzKTtcbiAgfSk7XG5cbiAgdmFyIGNvbnRleHQgPSB7IHVybDogXCJleGFtcGxlLmNvbVwiIH07XG4gIHZhciBmcmFnbWVudCA9IGNvbXBpbGVzVG8oJzxhIGhyZWY9XCJodHRwOi8ve3t1cmx9fS9pbmRleC5odG1sXCI+bGlua3k8L2E+JywgJzxhIGhyZWY9XCJodHRwOi8vZXhhbXBsZS5jb20vaW5kZXguaHRtbFwiPmxpbmt5PC9hPicsIGNvbnRleHQpO1xuXG4gIGNvbnRleHQudXJsID0gXCJ3d3cuZXhhbXBsZS5jb21cIjtcbiAgY2FsbGJhY2soKTtcblxuICBlcXVhbFRva2VucyhmcmFnbWVudCwgJzxhIGhyZWY9XCJodHRwOi8vd3d3LmV4YW1wbGUuY29tL2luZGV4Lmh0bWxcIj5saW5reTwvYT4nKTtcbn0pO1xuXG50ZXN0KFwiQSBjaGlsZCByZXNvbHV0aW9uIGNhbiBwYXNzIGNvbnRleHR1YWwgaW5mb3JtYXRpb24gdG8gdGhlIHBhcmVudFwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIGNhbGxiYWNrO1xuXG4gIHJlZ2lzdGVySGVscGVyKCdSRVNPTFZFX0lOX0FUVFInLCBmdW5jdGlvbihwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGJvdW5kVmFsdWUoZnVuY3Rpb24oYykge1xuICAgICAgY2FsbGJhY2sgPSBjO1xuICAgICAgcmV0dXJuIHRoaXNbcGF0aF07XG4gICAgfSwgdGhpcyk7XG4gIH0pO1xuXG4gIHZhciBjb250ZXh0ID0geyB1cmw6IFwiZXhhbXBsZS5jb21cIiB9O1xuICB2YXIgZnJhZ21lbnQgPSBjb21waWxlc1RvKCc8YSBocmVmPVwiaHR0cDovL3t7dXJsfX0vaW5kZXguaHRtbFwiPmxpbmt5PC9hPicsICc8YSBocmVmPVwiaHR0cDovL2V4YW1wbGUuY29tL2luZGV4Lmh0bWxcIj5saW5reTwvYT4nLCBjb250ZXh0KTtcblxuICBjb250ZXh0LnVybCA9IFwid3d3LmV4YW1wbGUuY29tXCI7XG4gIGNhbGxiYWNrKCk7XG5cbiAgZXF1YWxUb2tlbnMoZnJhZ21lbnQsICc8YSBocmVmPVwiaHR0cDovL3d3dy5leGFtcGxlLmNvbS9pbmRleC5odG1sXCI+bGlua3k8L2E+Jyk7XG59KTtcblxudGVzdChcIkF0dHJpYnV0ZSBydW5zIGNhbiBjb250YWluIGhlbHBlcnNcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBjYWxsYmFja3MgPSBbXTtcblxuICByZWdpc3RlckhlbHBlcignUkVTT0xWRV9JTl9BVFRSJywgZnVuY3Rpb24ocGF0aCwgb3B0aW9ucykge1xuICAgIHJldHVybiBib3VuZFZhbHVlKGZ1bmN0aW9uKGMpIHtcbiAgICAgIGNhbGxiYWNrcy5wdXNoKGMpO1xuICAgICAgcmV0dXJuIHRoaXNbcGF0aF07XG4gICAgfSwgdGhpcyk7XG4gIH0pO1xuXG4gIHJlZ2lzdGVySGVscGVyKCd0ZXN0aW5nJywgZnVuY3Rpb24ocGF0aCwgb3B0aW9ucykge1xuICAgIHJldHVybiBib3VuZFZhbHVlKGZ1bmN0aW9uKGMpIHtcbiAgICAgIGNhbGxiYWNrcy5wdXNoKGMpO1xuXG4gICAgICBpZiAob3B0aW9ucy5wYXJhbVR5cGVzWzBdID09PSAnaWQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzW3BhdGhdICsgJy5odG1sJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9KTtcblxuICB2YXIgY29udGV4dCA9IHsgdXJsOiBcImV4YW1wbGUuY29tXCIsIHBhdGg6ICdpbmRleCcgfTtcbiAgdmFyIGZyYWdtZW50ID0gY29tcGlsZXNUbygnPGEgaHJlZj1cImh0dHA6Ly97e3VybH19L3t7dGVzdGluZyBwYXRofX0ve3t0ZXN0aW5nIFwibGlua3lcIn19XCI+bGlua3k8L2E+JywgJzxhIGhyZWY9XCJodHRwOi8vZXhhbXBsZS5jb20vaW5kZXguaHRtbC9saW5reVwiPmxpbmt5PC9hPicsIGNvbnRleHQpO1xuXG4gIGNvbnRleHQudXJsID0gXCJ3d3cuZXhhbXBsZS5jb21cIjtcbiAgY29udGV4dC5wYXRoID0gXCJ5ZXBcIjtcbiAgZm9yRWFjaChjYWxsYmFja3MsIGZ1bmN0aW9uKGNhbGxiYWNrKSB7IGNhbGxiYWNrKCk7IH0pO1xuXG4gIGVxdWFsVG9rZW5zKGZyYWdtZW50LCAnPGEgaHJlZj1cImh0dHA6Ly93d3cuZXhhbXBsZS5jb20veWVwLmh0bWwvbGlua3lcIj5saW5reTwvYT4nKTtcblxuICBjb250ZXh0LnVybCA9IFwibm9wZS5leGFtcGxlLmNvbVwiO1xuICBjb250ZXh0LnBhdGggPSBcIm5vcGVcIjtcbiAgZm9yRWFjaChjYWxsYmFja3MsIGZ1bmN0aW9uKGNhbGxiYWNrKSB7IGNhbGxiYWNrKCk7IH0pO1xuXG4gIGVxdWFsVG9rZW5zKGZyYWdtZW50LCAnPGEgaHJlZj1cImh0dHA6Ly9ub3BlLmV4YW1wbGUuY29tL25vcGUuaHRtbC9saW5reVwiPmxpbmt5PC9hPicpO1xufSk7XG4qL1xudGVzdChcIkEgc2ltcGxlIGJsb2NrIGhlbHBlciBjYW4gcmV0dXJuIHRoZSBkZWZhdWx0IGRvY3VtZW50IGZyYWdtZW50XCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy55aWVsZCgpOyB9KTtcblxuICBjb21waWxlc1RvKCd7eyN0ZXN0aW5nfX08ZGl2IGlkPVwidGVzdFwiPjEyMzwvZGl2Pnt7L3Rlc3Rpbmd9fScsICc8ZGl2IGlkPVwidGVzdFwiPjEyMzwvZGl2PicpO1xufSk7XG5cbi8vIFRPRE86IE5FWFRcbnRlc3QoXCJBIHNpbXBsZSBibG9jayBoZWxwZXIgY2FuIHJldHVybiB0ZXh0XCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy55aWVsZCgpOyB9KTtcblxuICBjb21waWxlc1RvKCd7eyN0ZXN0aW5nfX10ZXN0e3tlbHNlfX1ub3Qgc2hvd257ey90ZXN0aW5nfX0nLCAndGVzdCcpO1xufSk7XG5cbnRlc3QoXCJBIGJsb2NrIGhlbHBlciBjYW4gaGF2ZSBhbiBlbHNlIGJsb2NrXCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhcmFtcywgaGFzaCwgb3B0aW9ucykge1xuICAgIHJldHVybiBvcHRpb25zLmludmVyc2UueWllbGQoKTtcbiAgfSk7XG5cbiAgY29tcGlsZXNUbygne3sjdGVzdGluZ319Tm9wZXt7ZWxzZX19PGRpdiBpZD1cInRlc3RcIj4xMjM8L2Rpdj57ey90ZXN0aW5nfX0nLCAnPGRpdiBpZD1cInRlc3RcIj4xMjM8L2Rpdj4nKTtcbn0pO1xuXG50ZXN0KFwiQSBibG9jayBoZWxwZXIgY2FuIHBhc3MgYSBjb250ZXh0IHRvIGJlIHVzZWQgaW4gdGhlIGNoaWxkXCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhcmFtcywgaGFzaCwgb3B0aW9ucykge1xuICAgIHZhciBjb250ZXh0ID0geyB0aXRsZTogJ1JhaWxzIGlzIG9tYWthc2UnIH07XG4gICAgcmV0dXJuIG9wdGlvbnMudGVtcGxhdGUucmVuZGVyKGNvbnRleHQpO1xuICB9KTtcblxuICBjb21waWxlc1RvKCd7eyN0ZXN0aW5nfX08ZGl2IGlkPVwidGVzdFwiPnt7dGl0bGV9fTwvZGl2Pnt7L3Rlc3Rpbmd9fScsICc8ZGl2IGlkPVwidGVzdFwiPlJhaWxzIGlzIG9tYWthc2U8L2Rpdj4nKTtcbn0pO1xuXG50ZXN0KFwiQmxvY2sgaGVscGVycyByZWNlaXZlIGhhc2ggYXJndW1lbnRzXCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhcmFtcywgaGFzaCkge1xuICAgIGlmIChoYXNoLnRydXRoKSB7XG4gICAgICByZXR1cm4gdGhpcy55aWVsZCgpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29tcGlsZXNUbygne3sjdGVzdGluZyB0cnV0aD10cnVlfX08cD5ZZXAhPC9wPnt7L3Rlc3Rpbmd9fXt7I3Rlc3RpbmcgdHJ1dGg9ZmFsc2V9fTxwPk5vcGUhPC9wPnt7L3Rlc3Rpbmd9fScsICc8cD5ZZXAhPC9wPjwhLS0tLT4nKTtcbn0pO1xuXG50ZXN0KFwiTm9kZSBoZWxwZXJzIGNhbiBtb2RpZnkgdGhlIG5vZGVcIiwgZnVuY3Rpb24oKSB7XG4gIHJlZ2lzdGVySGVscGVyKCd0ZXN0aW5nJywgZnVuY3Rpb24ocGFyYW1zLCBoYXNoLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnem9tZycsICd6b21nJyk7XG4gIH0pO1xuXG4gIGNvbXBpbGVzVG8oJzxkaXYge3t0ZXN0aW5nfX0+Tm9kZSBoZWxwZXJzPC9kaXY+JywgJzxkaXYgem9tZz1cInpvbWdcIj5Ob2RlIGhlbHBlcnM8L2Rpdj4nKTtcbn0pO1xuXG50ZXN0KFwiTm9kZSBoZWxwZXJzIGNhbiBtb2RpZnkgdGhlIG5vZGUgYWZ0ZXIgb25lIG5vZGUgYXBwZW5kZWQgYnkgdG9wLWxldmVsIGhlbHBlclwiLCBmdW5jdGlvbigpIHtcbiAgcmVnaXN0ZXJIZWxwZXIoJ3RvcC1oZWxwZXInLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICB9KTtcbiAgcmVnaXN0ZXJIZWxwZXIoJ2F0dHItaGVscGVyJywgZnVuY3Rpb24ocGFyYW1zLCBoYXNoLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucy5lbGVtZW50LnNldEF0dHJpYnV0ZSgnem9tZycsICd6b21nJyk7XG4gIH0pO1xuXG4gIGNvbXBpbGVzVG8oJzxkaXYge3thdHRyLWhlbHBlcn19Pk5vZGUgaGVscGVyczwvZGl2Pnt7dG9wLWhlbHBlcn19JywgJzxkaXYgem9tZz1cInpvbWdcIj5Ob2RlIGhlbHBlcnM8L2Rpdj48c3Bhbj48L3NwYW4+Jyk7XG59KTtcblxudGVzdChcIk5vZGUgaGVscGVycyBjYW4gbW9kaWZ5IHRoZSBub2RlIGFmdGVyIG9uZSBub2RlIHByZXBlbmRlZCBieSB0b3AtbGV2ZWwgaGVscGVyXCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcigndG9wLWhlbHBlcicsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gIH0pO1xuICByZWdpc3RlckhlbHBlcignYXR0ci1oZWxwZXInLCBmdW5jdGlvbihwYXJhbXMsIGhhc2gsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zLmVsZW1lbnQuc2V0QXR0cmlidXRlKCd6b21nJywgJ3pvbWcnKTtcbiAgfSk7XG5cbiAgY29tcGlsZXNUbygne3t0b3AtaGVscGVyfX08ZGl2IHt7YXR0ci1oZWxwZXJ9fT5Ob2RlIGhlbHBlcnM8L2Rpdj4nLCAnPHNwYW4+PC9zcGFuPjxkaXYgem9tZz1cInpvbWdcIj5Ob2RlIGhlbHBlcnM8L2Rpdj4nKTtcbn0pO1xuXG50ZXN0KFwiTm9kZSBoZWxwZXJzIGNhbiBtb2RpZnkgdGhlIG5vZGUgYWZ0ZXIgbWFueSBub2RlcyByZXR1cm5lZCBmcm9tIHRvcC1sZXZlbCBoZWxwZXJcIiwgZnVuY3Rpb24oKSB7XG4gIHJlZ2lzdGVySGVscGVyKCd0b3AtaGVscGVyJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgZnJhZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJykpO1xuICAgIGZyYWcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpKTtcbiAgICByZXR1cm4gZnJhZztcbiAgfSk7XG4gIHJlZ2lzdGVySGVscGVyKCdhdHRyLWhlbHBlcicsIGZ1bmN0aW9uKHBhcmFtcywgaGFzaCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3pvbWcnLCAnem9tZycpO1xuICB9KTtcblxuICBjb21waWxlc1RvKFxuICAgICd7e3RvcC1oZWxwZXJ9fTxkaXYge3thdHRyLWhlbHBlcn19Pk5vZGUgaGVscGVyczwvZGl2PicsXG4gICAgJzxzcGFuPjwvc3Bhbj48c3Bhbj48L3NwYW4+PGRpdiB6b21nPVwiem9tZ1wiPk5vZGUgaGVscGVyczwvZGl2PicgKTtcbn0pO1xuXG50ZXN0KFwiTm9kZSBoZWxwZXJzIGNhbiBiZSB1c2VkIGZvciBhdHRyaWJ1dGUgYmluZGluZ3NcIiwgZnVuY3Rpb24oKSB7XG4gIHJlZ2lzdGVySGVscGVyKCd0ZXN0aW5nJywgZnVuY3Rpb24ocGFyYW1zLCBoYXNoLCBvcHRpb25zKSB7XG4gICAgdmFyIHZhbHVlID0gaGFzaC5ocmVmLFxuICAgICAgICBlbGVtZW50ID0gb3B0aW9ucy5lbGVtZW50O1xuXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB2YWx1ZSk7XG4gIH0pO1xuXG4gIHZhciBvYmplY3QgPSB7IHVybDogJ2xpbmt5Lmh0bWwnIH07XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxhIHt7dGVzdGluZyBocmVmPXVybH19Pmxpbmt5PC9hPicpO1xuICB2YXIgcmVzdWx0ID0gdGVtcGxhdGUucmVuZGVyKG9iamVjdCwgZW52KTtcblxuICBlcXVhbFRva2VucyhyZXN1bHQuZnJhZ21lbnQsICc8YSBocmVmPVwibGlua3kuaHRtbFwiPmxpbmt5PC9hPicpO1xuICBvYmplY3QudXJsID0gJ3ppcHB5Lmh0bWwnO1xuXG4gIHJlc3VsdC5kaXJ0eSgpO1xuICByZXN1bHQucmV2YWxpZGF0ZSgpO1xuXG4gIGVxdWFsVG9rZW5zKHJlc3VsdC5mcmFnbWVudCwgJzxhIGhyZWY9XCJ6aXBweS5odG1sXCI+bGlua3k8L2E+Jyk7XG59KTtcblxuXG50ZXN0KCdDb21wb25lbnRzIC0gQ2FsbGVkIGFzIGhlbHBlcnMnLCBmdW5jdGlvbiAoKSB7XG4gIHJlZ2lzdGVySGVscGVyKCd4LWFwcGVuZCcsIGZ1bmN0aW9uKHBhcmFtcywgaGFzaCkge1xuICAgIFFVbml0LmRlZXBFcXVhbChoYXNoLCB7IHRleHQ6IFwiZGVcIiB9KTtcbiAgICB0aGlzLnlpZWxkKCk7XG4gIH0pO1xuICB2YXIgb2JqZWN0ID0geyBiYXI6ICdlJywgYmF6OiAnYycgfTtcbiAgY29tcGlsZXNUbygnYTx4LWFwcGVuZCB0ZXh0PVwiZHt7YmFyfX1cIj5ie3tiYXp9fTwveC1hcHBlbmQ+ZicsJ2FiY2YnLCBvYmplY3QpO1xufSk7XG5cbnRlc3QoJ0NvbXBvbmVudHMgLSBVbmtub3duIGhlbHBlcnMgZmFsbCBiYWNrIHRvIGVsZW1lbnRzJywgZnVuY3Rpb24gKCkge1xuICB2YXIgb2JqZWN0ID0geyBzaXplOiAnbWVkJywgZm9vOiAnYicgfTtcbiAgY29tcGlsZXNUbygnPHgtYmFyIGNsYXNzPVwiYnRuLXt7c2l6ZX19XCI+YXt7Zm9vfX1jPC94LWJhcj4nLCc8eC1iYXIgY2xhc3M9XCJidG4tbWVkXCI+YWJjPC94LWJhcj4nLCBvYmplY3QpO1xufSk7XG5cbnRlc3QoJ0NvbXBvbmVudHMgLSBUZXh0LW9ubHkgYXR0cmlidXRlcyB3b3JrJywgZnVuY3Rpb24gKCkge1xuICB2YXIgb2JqZWN0ID0geyBmb286ICdxdXgnIH07XG4gIGNvbXBpbGVzVG8oJzx4LWJhciBpZD1cInRlc3RcIj57e2Zvb319PC94LWJhcj4nLCc8eC1iYXIgaWQ9XCJ0ZXN0XCI+cXV4PC94LWJhcj4nLCBvYmplY3QpO1xufSk7XG5cbnRlc3QoJ0NvbXBvbmVudHMgLSBFbXB0eSBjb21wb25lbnRzIHdvcmsnLCBmdW5jdGlvbiAoKSB7XG4gIGNvbXBpbGVzVG8oJzx4LWJhcj48L3gtYmFyPicsJzx4LWJhcj48L3gtYmFyPicsIHt9KTtcbn0pO1xuXG50ZXN0KCdDb21wb25lbnRzIC0gVGV4dC1vbmx5IGRhc2hlZCBhdHRyaWJ1dGVzIHdvcmsnLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBvYmplY3QgPSB7IGZvbzogJ3F1eCcgfTtcbiAgY29tcGlsZXNUbygnPHgtYmFyIGFyaWEtbGFiZWw9XCJmb29cIiBpZD1cInRlc3RcIj57e2Zvb319PC94LWJhcj4nLCc8eC1iYXIgYXJpYS1sYWJlbD1cImZvb1wiIGlkPVwidGVzdFwiPnF1eDwveC1iYXI+Jywgb2JqZWN0KTtcbn0pO1xuXG50ZXN0KCdSZXBhaXJlZCB0ZXh0IG5vZGVzIGFyZSBlbnN1cmVkIGluIHRoZSByaWdodCBwbGFjZScsIGZ1bmN0aW9uICgpIHtcbiAgdmFyIG9iamVjdCA9IHsgYTogXCJBXCIsIGI6IFwiQlwiLCBjOiBcIkNcIiwgZDogXCJEXCIgfTtcbiAgY29tcGlsZXNUbygne3thfX0ge3tifX0nLCAnQSBCJywgb2JqZWN0KTtcbiAgY29tcGlsZXNUbygnPGRpdj57e2F9fXt7Yn19e3tjfX13YXR7e2R9fTwvZGl2PicsICc8ZGl2PkFCQ3dhdEQ8L2Rpdj4nLCBvYmplY3QpO1xuICBjb21waWxlc1RvKCd7e2F9fXt7Yn19PGltZz48aW1nPjxpbWc+PGltZz4nLCAnQUI8aW1nPjxpbWc+PGltZz48aW1nPicsIG9iamVjdCk7XG59KTtcblxudGVzdChcIlNpbXBsZSBlbGVtZW50cyBjYW4gaGF2ZSBkYXNoZWQgYXR0cmlidXRlc1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShcIjxkaXYgYXJpYS1sYWJlbD0nZm9vJz5jb250ZW50PC9kaXY+XCIpO1xuICB2YXIgZnJhZ21lbnQgPSB0ZW1wbGF0ZS5yZW5kZXIoe30sIGVudikuZnJhZ21lbnQ7XG5cbiAgZXF1YWxUb2tlbnMoZnJhZ21lbnQsICc8ZGl2IGFyaWEtbGFiZWw9XCJmb29cIj5jb250ZW50PC9kaXY+Jyk7XG59KTtcblxuUVVuaXQuc2tpcChcIkJsb2NrIHBhcmFtc1wiLCBmdW5jdGlvbigpIHtcbiAgcmVnaXN0ZXJIZWxwZXIoJ2EnLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnlpZWxkSW4oY29tcGlsZShcIkEoe3t5aWVsZCAnVycgJ1gxJ319KVwiKSk7XG4gIH0pO1xuICByZWdpc3RlckhlbHBlcignYicsIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMueWllbGRJbihjb21waWxlKFwiQih7e3lpZWxkICdYMicgJ1knfX0pXCIpKTtcbiAgfSk7XG4gIHJlZ2lzdGVySGVscGVyKCdjJywgZnVuY3Rpb24oKSB7XG4gICAgdGhpcy55aWVsZEluKGNvbXBpbGUoXCJDKHt7eWllbGQgJ1onfX0pXCIpKTtcbiAgfSk7XG4gIHZhciB0ID0gJ3t7I2EgYXMgfHcgeHx9fXt7d319LHt7eH19IHt7I2IgYXMgfHggeXx9fXt7eH19LHt7eX19e3svYn19IHt7d319LHt7eH19IHt7I2MgYXMgfHp8fX17e3h9fSx7e3p9fXt7L2N9fXt7L2F9fSc7XG4gIGNvbXBpbGVzVG8odCwgJ0EoVyxYMSBCKFgyLFkpIFcsWDEgQyhYMSxaKSknLCB7fSk7XG59KTtcblxudGVzdChcIkJsb2NrIHBhcmFtcyAtIEhlbHBlciBzaG91bGQga25vdyBob3cgbWFueSBibG9jayBwYXJhbXMgaXQgd2FzIGNhbGxlZCB3aXRoXCIsIGZ1bmN0aW9uKCkge1xuICBleHBlY3QoNCk7XG5cbiAgcmVnaXN0ZXJIZWxwZXIoJ2NvdW50LWJsb2NrLXBhcmFtcycsIGZ1bmN0aW9uKHBhcmFtcywgaGFzaCwgb3B0aW9ucykge1xuICAgIGVxdWFsKG9wdGlvbnMudGVtcGxhdGUuYXJpdHksIGhhc2guY291bnQsICdIZWxwZXJzIHNob3VsZCByZWNlaXZlIHRoZSBjb3JyZWN0IG51bWJlciBvZiBibG9jayBwYXJhbXMgaW4gb3B0aW9ucy50ZW1wbGF0ZS5ibG9ja1BhcmFtcy4nKTtcbiAgfSk7XG5cbiAgY29tcGlsZSgne3sjY291bnQtYmxvY2stcGFyYW1zIGNvdW50PTB9fXt7L2NvdW50LWJsb2NrLXBhcmFtc319JykucmVuZGVyKHt9LCBlbnYsIHsgY29udGV4dHVhbEVsZW1lbnQ6IGRvY3VtZW50LmJvZHkgfSk7XG4gIGNvbXBpbGUoJ3t7I2NvdW50LWJsb2NrLXBhcmFtcyBjb3VudD0xIGFzIHx4fH19e3svY291bnQtYmxvY2stcGFyYW1zfX0nKS5yZW5kZXIoe30sIGVudiwgeyBjb250ZXh0dWFsRWxlbWVudDogZG9jdW1lbnQuYm9keSB9KTtcbiAgY29tcGlsZSgne3sjY291bnQtYmxvY2stcGFyYW1zIGNvdW50PTIgYXMgfHggeXx9fXt7L2NvdW50LWJsb2NrLXBhcmFtc319JykucmVuZGVyKHt9LCBlbnYsIHsgY29udGV4dHVhbEVsZW1lbnQ6IGRvY3VtZW50LmJvZHkgfSk7XG4gIGNvbXBpbGUoJ3t7I2NvdW50LWJsb2NrLXBhcmFtcyBjb3VudD0zIGFzIHx4IHkgenx9fXt7L2NvdW50LWJsb2NrLXBhcmFtc319JykucmVuZGVyKHt9LCBlbnYsIHsgY29udGV4dHVhbEVsZW1lbnQ6IGRvY3VtZW50LmJvZHkgfSk7XG59KTtcblxuUVVuaXQuc2tpcCgnQmxvY2sgcGFyYW1zIGluIEhUTUwgc3ludGF4JywgZnVuY3Rpb24gKCkge1xuICB2YXIgbGF5b3V0ID0gY29tcGlsZShcIkJBUih7e3lpZWxkICdYZXJ4ZXMnICdZb3JrJyAnWmVkJ319KVwiKTtcblxuICByZWdpc3RlckhlbHBlcigneC1iYXInLCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnlpZWxkSW4obGF5b3V0KTtcbiAgfSk7XG4gIGNvbXBpbGVzVG8oJzx4LWJhciBhcyB8eCB5IHplZXw+e3t6ZWV9fSx7e3l9fSx7e3h9fTwveC1iYXI+JywgJ0JBUihaZWQsWW9yayxYZXJ4ZXMpJywge30pO1xufSk7XG5cbnRlc3QoJ0Jsb2NrIHBhcmFtcyBpbiBIVE1MIHN5bnRheCAtIFRocm93cyBleGNlcHRpb24gaWYgZ2l2ZW4gemVybyBwYXJhbWV0ZXJzJywgZnVuY3Rpb24gKCkge1xuICBleHBlY3QoMik7XG5cbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoJzx4LWJhciBhcyB8fD5mb288L3gtYmFyPicpO1xuICB9LCAvQ2Fubm90IHVzZSB6ZXJvIGJsb2NrIHBhcmFtZXRlcnM6ICdhcyBcXHxcXHwnLyk7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKCc8eC1iYXIgYXMgfCB8PmZvbzwveC1iYXI+Jyk7XG4gIH0sIC9DYW5ub3QgdXNlIHplcm8gYmxvY2sgcGFyYW1ldGVyczogJ2FzIFxcfCBcXHwnLyk7XG59KTtcblxuXG50ZXN0KCdCbG9jayBwYXJhbXMgaW4gSFRNTCBzeW50YXggLSBXb3JrcyB3aXRoIGEgc2luZ2xlIHBhcmFtZXRlcicsIGZ1bmN0aW9uICgpIHtcbiAgcmVnaXN0ZXJIZWxwZXIoJ3gtYmFyJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMueWllbGQoWydYZXJ4ZXMnXSk7XG4gIH0pO1xuICBjb21waWxlc1RvKCc8eC1iYXIgYXMgfHh8Pnt7eH19PC94LWJhcj4nLCAnWGVyeGVzJywge30pO1xufSk7XG5cbnRlc3QoJ0Jsb2NrIHBhcmFtcyBpbiBIVE1MIHN5bnRheCAtIFdvcmtzIHdpdGggb3RoZXIgYXR0cmlidXRlcycsIGZ1bmN0aW9uICgpIHtcbiAgcmVnaXN0ZXJIZWxwZXIoJ3gtYmFyJywgZnVuY3Rpb24ocGFyYW1zLCBoYXNoKSB7XG4gICAgZGVlcEVxdWFsKGhhc2gsIHtmaXJzdE5hbWU6ICdBbGljZScsIGxhc3ROYW1lOiAnU21pdGgnfSk7XG4gIH0pO1xuICBjb21waWxlKCc8eC1iYXIgZmlyc3ROYW1lPVwiQWxpY2VcIiBsYXN0TmFtZT1cIlNtaXRoXCIgYXMgfHggeXw+PC94LWJhcj4nKS5yZW5kZXIoe30sIGVudiwgeyBjb250ZXh0dWFsRWxlbWVudDogZG9jdW1lbnQuYm9keSB9KTtcbn0pO1xuXG50ZXN0KCdCbG9jayBwYXJhbXMgaW4gSFRNTCBzeW50YXggLSBJZ25vcmVzIHdoaXRlc3BhY2UnLCBmdW5jdGlvbiAoKSB7XG4gIGV4cGVjdCgzKTtcblxuICByZWdpc3RlckhlbHBlcigneC1iYXInLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy55aWVsZChbJ1hlcnhlcycsICdZb3JrJ10pO1xuICB9KTtcbiAgY29tcGlsZXNUbygnPHgtYmFyIGFzIHx4IHl8Pnt7eH19LHt7eX19PC94LWJhcj4nLCAnWGVyeGVzLFlvcmsnLCB7fSk7XG4gIGNvbXBpbGVzVG8oJzx4LWJhciBhcyB8IHggeXw+e3t4fX0se3t5fX08L3gtYmFyPicsICdYZXJ4ZXMsWW9yaycsIHt9KTtcbiAgY29tcGlsZXNUbygnPHgtYmFyIGFzIHwgeCB5IHw+e3t4fX0se3t5fX08L3gtYmFyPicsICdYZXJ4ZXMsWW9yaycsIHt9KTtcbn0pO1xuXG50ZXN0KCdCbG9jayBwYXJhbXMgaW4gSFRNTCBzeW50YXggLSBIZWxwZXIgc2hvdWxkIGtub3cgaG93IG1hbnkgYmxvY2sgcGFyYW1zIGl0IHdhcyBjYWxsZWQgd2l0aCcsIGZ1bmN0aW9uICgpIHtcbiAgZXhwZWN0KDQpO1xuXG4gIHJlZ2lzdGVySGVscGVyKCdjb3VudC1ibG9jay1wYXJhbXMnLCBmdW5jdGlvbihwYXJhbXMsIGhhc2gsIG9wdGlvbnMpIHtcbiAgICBlcXVhbChvcHRpb25zLnRlbXBsYXRlLmFyaXR5LCBwYXJzZUludChoYXNoLmNvdW50LCAxMCksICdIZWxwZXJzIHNob3VsZCByZWNlaXZlIHRoZSBjb3JyZWN0IG51bWJlciBvZiBibG9jayBwYXJhbXMgaW4gb3B0aW9ucy50ZW1wbGF0ZS5ibG9ja1BhcmFtcy4nKTtcbiAgfSk7XG5cbiAgY29tcGlsZSgnPGNvdW50LWJsb2NrLXBhcmFtcyBjb3VudD1cIjBcIj48L2NvdW50LWJsb2NrLXBhcmFtcz4nKS5yZW5kZXIoeyBjb3VudDogMCB9LCBlbnYsIHsgY29udGV4dHVhbEVsZW1lbnQ6IGRvY3VtZW50LmJvZHkgfSk7XG4gIGNvbXBpbGUoJzxjb3VudC1ibG9jay1wYXJhbXMgY291bnQ9XCIxXCIgYXMgfHh8PjwvY291bnQtYmxvY2stcGFyYW1zPicpLnJlbmRlcih7IGNvdW50OiAxIH0sIGVudiwgeyBjb250ZXh0dWFsRWxlbWVudDogZG9jdW1lbnQuYm9keSB9KTtcbiAgY29tcGlsZSgnPGNvdW50LWJsb2NrLXBhcmFtcyBjb3VudD1cIjJcIiBhcyB8eCB5fD48L2NvdW50LWJsb2NrLXBhcmFtcz4nKS5yZW5kZXIoeyBjb3VudDogMiB9LCBlbnYsIHsgY29udGV4dHVhbEVsZW1lbnQ6IGRvY3VtZW50LmJvZHkgfSk7XG4gIGNvbXBpbGUoJzxjb3VudC1ibG9jay1wYXJhbXMgY291bnQ9XCIzXCIgYXMgfHggeSB6fD48L2NvdW50LWJsb2NrLXBhcmFtcz4nKS5yZW5kZXIoeyBjb3VudDogMyB9LCBlbnYsIHsgY29udGV4dHVhbEVsZW1lbnQ6IGRvY3VtZW50LmJvZHkgfSk7XG59KTtcblxudGVzdChcIkJsb2NrIHBhcmFtcyBpbiBIVE1MIHN5bnRheCAtIFRocm93cyBhbiBlcnJvciBvbiBpbnZhbGlkIGJsb2NrIHBhcmFtcyBzeW50YXhcIiwgZnVuY3Rpb24oKSB7XG4gIGV4cGVjdCgzKTtcblxuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZSgnPHgtYmFyIGFzIHx4IHk+e3t4fX0se3t5fX08L3gtYmFyPicpO1xuICB9LCAvSW52YWxpZCBibG9jayBwYXJhbWV0ZXJzIHN5bnRheDogJ2FzIHx4IHknLyk7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKCc8eC1iYXIgYXMgfHh8IHk+e3t4fX0se3t5fX08L3gtYmFyPicpO1xuICB9LCAvSW52YWxpZCBibG9jayBwYXJhbWV0ZXJzIHN5bnRheDogJ2FzIFxcfHhcXHwgeScvKTtcbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoJzx4LWJhciBhcyB8eHwgeXw+e3t4fX0se3t5fX08L3gtYmFyPicpO1xuICB9LCAvSW52YWxpZCBibG9jayBwYXJhbWV0ZXJzIHN5bnRheDogJ2FzIFxcfHhcXHwgeVxcfCcvKTtcbn0pO1xuXG50ZXN0KFwiQmxvY2sgcGFyYW1zIGluIEhUTUwgc3ludGF4IC0gVGhyb3dzIGFuIGVycm9yIG9uIGludmFsaWQgaWRlbnRpZmllcnMgZm9yIHBhcmFtc1wiLCBmdW5jdGlvbigpIHtcbiAgZXhwZWN0KDMpO1xuXG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKCc8eC1iYXIgYXMgfHggZm9vLmJhcnw+PC94LWJhcj4nKTtcbiAgfSwgL0ludmFsaWQgaWRlbnRpZmllciBmb3IgYmxvY2sgcGFyYW1ldGVyczogJ2Zvb1xcLmJhcicgaW4gJ2FzIFxcfHggZm9vXFwuYmFyfCcvKTtcbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoJzx4LWJhciBhcyB8eCBcImZvb1wifD48L3gtYmFyPicpO1xuICB9LCAvSW52YWxpZCBpZGVudGlmaWVyIGZvciBibG9jayBwYXJhbWV0ZXJzOiAnXCJmb29cIicgaW4gJ2FzIFxcfHggXCJmb29cInwnLyk7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKCc8eC1iYXIgYXMgfGZvb1tiYXJdfD48L3gtYmFyPicpO1xuICB9LCAvSW52YWxpZCBpZGVudGlmaWVyIGZvciBibG9jayBwYXJhbWV0ZXJzOiAnZm9vXFxbYmFyXFxdJyBpbiAnYXMgXFx8Zm9vXFxbYmFyXFxdXFx8Jy8pO1xufSk7XG5cblFVbml0Lm1vZHVsZShcIkhUTUwtYmFzZWQgY29tcGlsZXIgKGludmFsaWQgSFRNTCBlcnJvcnMpXCIsIHtcbiAgYmVmb3JlRWFjaDogY29tbW9uU2V0dXBcbn0pO1xuXG50ZXN0KFwiQSBoZWxwZnVsIGVycm9yIG1lc3NhZ2UgaXMgcHJvdmlkZWQgZm9yIHVuY2xvc2VkIGVsZW1lbnRzXCIsIGZ1bmN0aW9uKCkge1xuICBleHBlY3QoMik7XG5cbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoJ1xcbjxkaXYgY2xhc3M9XCJteS1kaXZcIiBcXG4gZm9vPXt7YmFyfX0+XFxuPHNwYW4+XFxuPC9zcGFuPlxcbicpO1xuICB9LCAvVW5jbG9zZWQgZWxlbWVudCBgZGl2YCBcXChvbiBsaW5lIDJcXClcXC4vKTtcbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoJ1xcbjxkaXYgY2xhc3M9XCJteS1kaXZcIj5cXG48c3Bhbj5cXG4nKTtcbiAgfSwgL1VuY2xvc2VkIGVsZW1lbnQgYHNwYW5gIFxcKG9uIGxpbmUgM1xcKVxcLi8pO1xufSk7XG5cbnRlc3QoXCJBIGhlbHBmdWwgZXJyb3IgbWVzc2FnZSBpcyBwcm92aWRlZCBmb3IgdW5tYXRjaGVkIGVuZCB0YWdzXCIsIGZ1bmN0aW9uKCkge1xuICBleHBlY3QoMik7XG5cbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoXCI8L3A+XCIpO1xuICB9LCAvQ2xvc2luZyB0YWcgYHBgIFxcKG9uIGxpbmUgMVxcKSB3aXRob3V0IGFuIG9wZW4gdGFnXFwuLyk7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKFwiPGVtPnt7IGZvbyB9fTwvZW0+IFxcbiB7eyBiYXIgfX1cXG48L2Rpdj5cIik7XG4gIH0sIC9DbG9zaW5nIHRhZyBgZGl2YCBcXChvbiBsaW5lIDNcXCkgd2l0aG91dCBhbiBvcGVuIHRhZ1xcLi8pO1xufSk7XG5cbnRlc3QoXCJBIGhlbHBmdWwgZXJyb3IgbWVzc2FnZSBpcyBwcm92aWRlZCBmb3IgZW5kIHRhZ3MgZm9yIHZvaWQgZWxlbWVudHNcIiwgZnVuY3Rpb24oKSB7XG4gIGV4cGVjdCgzKTtcblxuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZShcIjxpbnB1dD48L2lucHV0PlwiKTtcbiAgfSwgL0ludmFsaWQgZW5kIHRhZyBgaW5wdXRgIFxcKG9uIGxpbmUgMVxcKSBcXCh2b2lkIGVsZW1lbnRzIGNhbm5vdCBoYXZlIGVuZCB0YWdzXFwpLi8pO1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZShcIjxkaXY+XFxuICA8aW5wdXQ+PC9pbnB1dD5cXG48L2Rpdj5cIik7XG4gIH0sIC9JbnZhbGlkIGVuZCB0YWcgYGlucHV0YCBcXChvbiBsaW5lIDJcXCkgXFwodm9pZCBlbGVtZW50cyBjYW5ub3QgaGF2ZSBlbmQgdGFnc1xcKS4vKTtcbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoXCJcXG5cXG48L2JyPlwiKTtcbiAgfSwgL0ludmFsaWQgZW5kIHRhZyBgYnJgIFxcKG9uIGxpbmUgM1xcKSBcXCh2b2lkIGVsZW1lbnRzIGNhbm5vdCBoYXZlIGVuZCB0YWdzXFwpLi8pO1xufSk7XG5cbnRlc3QoXCJBIGhlbHBmdWwgZXJyb3IgbWVzc2FnZSBpcyBwcm92aWRlZCBmb3IgZW5kIHRhZ3Mgd2l0aCBhdHRyaWJ1dGVzXCIsIGZ1bmN0aW9uKCkge1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZSgnPGRpdj5cXG5Tb21ldGhpbmdcXG5cXG48L2RpdiBmb289XCJiYXJcIj4nKTtcbiAgfSwgL0ludmFsaWQgZW5kIHRhZzogY2xvc2luZyB0YWcgbXVzdCBub3QgaGF2ZSBhdHRyaWJ1dGVzLCBpbiBgZGl2YCBcXChvbiBsaW5lIDRcXClcXC4vKTtcbn0pO1xuXG50ZXN0KFwiQSBoZWxwZnVsIGVycm9yIG1lc3NhZ2UgaXMgcHJvdmlkZWQgZm9yIG1pc21hdGNoZWQgc3RhcnQvZW5kIHRhZ3NcIiwgZnVuY3Rpb24oKSB7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKFwiPGRpdj5cXG48cD5cXG5Tb21ldGhpbmdcXG5cXG48L2Rpdj5cIik7XG4gIH0sIC9DbG9zaW5nIHRhZyBgZGl2YCBcXChvbiBsaW5lIDVcXCkgZGlkIG5vdCBtYXRjaCBsYXN0IG9wZW4gdGFnIGBwYCBcXChvbiBsaW5lIDJcXClcXC4vKTtcbn0pO1xuXG50ZXN0KFwiZXJyb3IgbGluZSBudW1iZXJzIGluY2x1ZGUgY29tbWVudCBsaW5lc1wiLCBmdW5jdGlvbigpIHtcbiAgUVVuaXQudGhyb3dzKGZ1bmN0aW9uKCkge1xuICAgIGNvbXBpbGUoXCI8ZGl2PlxcbjxwPlxcbnt7ISBzb21lIGNvbW1lbnR9fVxcblxcbjwvZGl2PlwiKTtcbiAgfSwgL0Nsb3NpbmcgdGFnIGBkaXZgIFxcKG9uIGxpbmUgNVxcKSBkaWQgbm90IG1hdGNoIGxhc3Qgb3BlbiB0YWcgYHBgIFxcKG9uIGxpbmUgMlxcKVxcLi8pO1xufSk7XG5cbnRlc3QoXCJlcnJvciBsaW5lIG51bWJlcnMgaW5jbHVkZSBtdXN0YWNoZSBvbmx5IGxpbmVzXCIsIGZ1bmN0aW9uKCkge1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZShcIjxkaXY+XFxuPHA+XFxue3tzb21lUHJvcH19XFxuXFxuPC9kaXY+XCIpO1xuICB9LCAvQ2xvc2luZyB0YWcgYGRpdmAgXFwob24gbGluZSA1XFwpIGRpZCBub3QgbWF0Y2ggbGFzdCBvcGVuIHRhZyBgcGAgXFwob24gbGluZSAyXFwpXFwuLyk7XG59KTtcblxudGVzdChcImVycm9yIGxpbmUgbnVtYmVycyBpbmNsdWRlIGJsb2NrIGxpbmVzXCIsIGZ1bmN0aW9uKCkge1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZShcIjxkaXY+XFxuPHA+XFxue3sjc29tZS1jb21tZW50fX1cXG57ey9zb21lLWNvbW1lbnR9fVxcbjwvZGl2PlwiKTtcbiAgfSwgL0Nsb3NpbmcgdGFnIGBkaXZgIFxcKG9uIGxpbmUgNVxcKSBkaWQgbm90IG1hdGNoIGxhc3Qgb3BlbiB0YWcgYHBgIFxcKG9uIGxpbmUgMlxcKVxcLi8pO1xufSk7XG5cbnRlc3QoXCJlcnJvciBsaW5lIG51bWJlcnMgaW5jbHVkZSB3aGl0ZXNwYWNlIGNvbnRyb2wgbXVzdGFjaGVzXCIsIGZ1bmN0aW9uKCkge1xuICBRVW5pdC50aHJvd3MoZnVuY3Rpb24oKSB7XG4gICAgY29tcGlsZShcIjxkaXY+XFxuPHA+XFxue3tzb21lUHJvcH59fVxcblxcbjwvZGl2Pnt7c29tZS1jb21tZW50fX1cIik7XG4gIH0sIC9DbG9zaW5nIHRhZyBgZGl2YCBcXChvbiBsaW5lIDVcXCkgZGlkIG5vdCBtYXRjaCBsYXN0IG9wZW4gdGFnIGBwYCBcXChvbiBsaW5lIDJcXClcXC4vKTtcbn0pO1xuXG50ZXN0KFwiZXJyb3IgbGluZSBudW1iZXJzIGluY2x1ZGUgbXVsdGlwbGUgbXVzdGFjaGUgbGluZXNcIiwgZnVuY3Rpb24oKSB7XG4gIFFVbml0LnRocm93cyhmdW5jdGlvbigpIHtcbiAgICBjb21waWxlKFwiPGRpdj5cXG48cD5cXG57e3NvbWUtY29tbWVudH19PC9kaXY+e3tzb21lLWNvbW1lbnR9fVwiKTtcbiAgfSwgL0Nsb3NpbmcgdGFnIGBkaXZgIFxcKG9uIGxpbmUgM1xcKSBkaWQgbm90IG1hdGNoIGxhc3Qgb3BlbiB0YWcgYHBgIFxcKG9uIGxpbmUgMlxcKVxcLi8pO1xufSk7XG5cbmlmIChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5uYW1lc3BhY2VVUkkpIHtcblxuUVVuaXQubW9kdWxlKFwiSFRNTC1iYXNlZCBjb21waWxlciAob3V0cHV0LCBzdmcpXCIsIHtcbiAgYmVmb3JlRWFjaDogY29tbW9uU2V0dXBcbn0pO1xuXG50ZXN0KFwiU2ltcGxlIGVsZW1lbnRzIGNhbiBoYXZlIG5hbWVzcGFjZWQgYXR0cmlidXRlc1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShcIjxzdmcgeGxpbms6dGl0bGU9J3N2Zy10aXRsZSc+Y29udGVudDwvc3ZnPlwiKTtcbiAgdmFyIHN2Z05vZGUgPSB0ZW1wbGF0ZS5yZW5kZXIoe30sIGVudikuZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuICBlcXVhbFRva2VucyhzdmdOb2RlLCAnPHN2ZyB4bGluazp0aXRsZT1cInN2Zy10aXRsZVwiPmNvbnRlbnQ8L3N2Zz4nKTtcbiAgZXF1YWwoc3ZnTm9kZS5hdHRyaWJ1dGVzWzBdLm5hbWVzcGFjZVVSSSwgJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnKTtcbn0pO1xuXG50ZXN0KFwiU2ltcGxlIGVsZW1lbnRzIGNhbiBoYXZlIGJvdW5kIG5hbWVzcGFjZWQgYXR0cmlidXRlc1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShcIjxzdmcgeGxpbms6dGl0bGU9e3t0aXRsZX19PmNvbnRlbnQ8L3N2Zz5cIik7XG4gIHZhciBzdmdOb2RlID0gdGVtcGxhdGUucmVuZGVyKHt0aXRsZTogJ3N2Zy10aXRsZSd9LCBlbnYpLmZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cbiAgZXF1YWxUb2tlbnMoc3ZnTm9kZSwgJzxzdmcgeGxpbms6dGl0bGU9XCJzdmctdGl0bGVcIj5jb250ZW50PC9zdmc+Jyk7XG4gIGVxdWFsKHN2Z05vZGUuYXR0cmlidXRlc1swXS5uYW1lc3BhY2VVUkksICdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyk7XG59KTtcblxudGVzdChcIlNWRyBlbGVtZW50IGNhbiBoYXZlIGNhcGl0YWxpemVkIGF0dHJpYnV0ZXNcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoXCI8c3ZnIHZpZXdCb3g9XFxcIjAgMCAwIDBcXFwiPjwvc3ZnPlwiKTtcbiAgdmFyIHN2Z05vZGUgPSB0ZW1wbGF0ZS5yZW5kZXIoe30sIGVudikuZnJhZ21lbnQuZmlyc3RDaGlsZDtcbiAgZXF1YWxUb2tlbnMoc3ZnTm9kZSwgJzxzdmcgdmlld0JveD1cXFwiMCAwIDAgMFxcXCI+PC9zdmc+Jyk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBjYW4gaGFuZGxlIG5hbWVzcGFjZWQgZWxlbWVudHNcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBodG1sID0gJzxzdmc+PHBhdGggc3Ryb2tlPVwiYmxhY2tcIiBkPVwiTSAwIDAgTCAxMDAgMTAwXCI+PC9wYXRoPjwvc3ZnPic7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoaHRtbCk7XG4gIHZhciBzdmdOb2RlID0gdGVtcGxhdGUucmVuZGVyKHt9LCBlbnYpLmZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cbiAgZXF1YWwoc3ZnTm9kZS5uYW1lc3BhY2VVUkksIHN2Z05hbWVzcGFjZSwgXCJjcmVhdGVzIHRoZSBzdmcgZWxlbWVudCB3aXRoIGEgbmFtZXNwYWNlXCIpO1xuICBlcXVhbFRva2VucyhzdmdOb2RlLCBodG1sKTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIHNldHMgbmFtZXNwYWNlcyBvbiBuZXN0ZWQgbmFtZXNwYWNlZCBlbGVtZW50c1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIGh0bWwgPSAnPHN2Zz48cGF0aCBzdHJva2U9XCJibGFja1wiIGQ9XCJNIDAgMCBMIDEwMCAxMDBcIj48L3BhdGg+PC9zdmc+JztcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShodG1sKTtcbiAgdmFyIHN2Z05vZGUgPSB0ZW1wbGF0ZS5yZW5kZXIoe30sIGVudikuZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuICBlcXVhbCggc3ZnTm9kZS5jaGlsZE5vZGVzWzBdLm5hbWVzcGFjZVVSSSwgc3ZnTmFtZXNwYWNlLFxuICAgICAgICAgXCJjcmVhdGVzIHRoZSBwYXRoIGVsZW1lbnQgd2l0aCBhIG5hbWVzcGFjZVwiICk7XG4gIGVxdWFsVG9rZW5zKHN2Z05vZGUsIGh0bWwpO1xufSk7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgc2V0cyBhIG5hbWVzcGFjZSBvbiBhbiBIVE1MIGludGVncmF0aW9uIHBvaW50XCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgaHRtbCA9ICc8c3ZnPjxmb3JlaWduT2JqZWN0PkhpPC9mb3JlaWduT2JqZWN0Pjwvc3ZnPic7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoaHRtbCk7XG4gIHZhciBzdmdOb2RlID0gdGVtcGxhdGUucmVuZGVyKHt9LCBlbnYpLmZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cbiAgZXF1YWwoIHN2Z05vZGUubmFtZXNwYWNlVVJJLCBzdmdOYW1lc3BhY2UsXG4gICAgICAgICBcImNyZWF0ZXMgdGhlIHN2ZyBlbGVtZW50IHdpdGggYSBuYW1lc3BhY2VcIiApO1xuICBlcXVhbCggc3ZnTm9kZS5jaGlsZE5vZGVzWzBdLm5hbWVzcGFjZVVSSSwgc3ZnTmFtZXNwYWNlLFxuICAgICAgICAgXCJjcmVhdGVzIHRoZSBmb3JlaWduT2JqZWN0IGVsZW1lbnQgd2l0aCBhIG5hbWVzcGFjZVwiICk7XG4gIGVxdWFsVG9rZW5zKHN2Z05vZGUsIGh0bWwpO1xufSk7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgZG9lcyBub3Qgc2V0IGEgbmFtZXNwYWNlIG9uIGFuIGVsZW1lbnQgaW5zaWRlIGFuIEhUTUwgaW50ZWdyYXRpb24gcG9pbnRcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBodG1sID0gJzxzdmc+PGZvcmVpZ25PYmplY3Q+PGRpdj48L2Rpdj48L2ZvcmVpZ25PYmplY3Q+PC9zdmc+JztcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZShodG1sKTtcbiAgdmFyIHN2Z05vZGUgPSB0ZW1wbGF0ZS5yZW5kZXIoe30sIGVudikuZnJhZ21lbnQuZmlyc3RDaGlsZDtcblxuICBlcXVhbCggc3ZnTm9kZS5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0ubmFtZXNwYWNlVVJJLCB4aHRtbE5hbWVzcGFjZSxcbiAgICAgICAgIFwiY3JlYXRlcyB0aGUgZGl2IGluc2lkZSB0aGUgZm9yZWlnbk9iamVjdCB3aXRob3V0IGEgbmFtZXNwYWNlXCIgKTtcbiAgZXF1YWxUb2tlbnMoc3ZnTm9kZSwgaHRtbCk7XG59KTtcblxudGVzdChcIlRoZSBjb21waWxlciBwb3BzIGJhY2sgdG8gdGhlIGNvcnJlY3QgbmFtZXNwYWNlXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgaHRtbCA9ICc8c3ZnPjwvc3ZnPjxzdmc+PC9zdmc+PGRpdj48L2Rpdj4nO1xuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKGh0bWwpO1xuICB2YXIgZnJhZ21lbnQgPSB0ZW1wbGF0ZS5yZW5kZXIoe30sIGVudikuZnJhZ21lbnQ7XG5cbiAgZXF1YWwoIGZyYWdtZW50LmNoaWxkTm9kZXNbMF0ubmFtZXNwYWNlVVJJLCBzdmdOYW1lc3BhY2UsXG4gICAgICAgICBcImNyZWF0ZXMgdGhlIGZpcnN0IHN2ZyBlbGVtZW50IHdpdGggYSBuYW1lc3BhY2VcIiApO1xuICBlcXVhbCggZnJhZ21lbnQuY2hpbGROb2Rlc1sxXS5uYW1lc3BhY2VVUkksIHN2Z05hbWVzcGFjZSxcbiAgICAgICAgIFwiY3JlYXRlcyB0aGUgc2Vjb25kIHN2ZyBlbGVtZW50IHdpdGggYSBuYW1lc3BhY2VcIiApO1xuICBlcXVhbCggZnJhZ21lbnQuY2hpbGROb2Rlc1syXS5uYW1lc3BhY2VVUkksIHhodG1sTmFtZXNwYWNlLFxuICAgICAgICAgXCJjcmVhdGVzIHRoZSBkaXYgZWxlbWVudCB3aXRob3V0IGEgbmFtZXNwYWNlXCIgKTtcbiAgZXF1YWxUb2tlbnMoZnJhZ21lbnQsIGh0bWwpO1xufSk7XG5cbnRlc3QoXCJUaGUgY29tcGlsZXIgcG9wcyBiYWNrIHRvIHRoZSBjb3JyZWN0IG5hbWVzcGFjZSBldmVuIGlmIGV4aXRpbmcgbGFzdCBjaGlsZFwiLCBmdW5jdGlvbiAoKSB7XG4gIHZhciBodG1sID0gJzxkaXY+PHN2Zz48L3N2Zz48L2Rpdj48ZGl2PjwvZGl2Pic7XG4gIHZhciBmcmFnbWVudCA9IGNvbXBpbGUoaHRtbCkucmVuZGVyKHt9LCBlbnYpLmZyYWdtZW50O1xuXG4gIGVxdWFsKGZyYWdtZW50LmZpcnN0Q2hpbGQubmFtZXNwYWNlVVJJLCB4aHRtbE5hbWVzcGFjZSwgXCJmaXJzdCBkaXYncyBuYW1lc3BhY2UgaXMgeGh0bWxOYW1lc3BhY2VcIik7XG4gIGVxdWFsKGZyYWdtZW50LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5uYW1lc3BhY2VVUkksIHN2Z05hbWVzcGFjZSwgXCJzdmcncyBuYW1lc3BhY2UgaXMgc3ZnTmFtZXNwYWNlXCIpO1xuICBlcXVhbChmcmFnbWVudC5sYXN0Q2hpbGQubmFtZXNwYWNlVVJJLCB4aHRtbE5hbWVzcGFjZSwgXCJsYXN0IGRpdidzIG5hbWVzcGFjZSBpcyB4aHRtbE5hbWVzcGFjZVwiKTtcbn0pO1xuXG50ZXN0KFwiVGhlIGNvbXBpbGVyIHByZXNlcnZlcyBjYXBpdGFsaXphdGlvbiBvZiB0YWdzXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgaHRtbCA9ICc8c3ZnPjxsaW5lYXJHcmFkaWVudCBpZD1cImdyYWRpZW50XCI+PC9saW5lYXJHcmFkaWVudD48L3N2Zz4nO1xuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKGh0bWwpO1xuICB2YXIgZnJhZ21lbnQgPSB0ZW1wbGF0ZS5yZW5kZXIoe30sIGVudikuZnJhZ21lbnQ7XG5cbiAgZXF1YWxUb2tlbnMoZnJhZ21lbnQsIGh0bWwpO1xufSk7XG5cbnRlc3QoXCJzdmcgY2FuIGxpdmUgd2l0aCBoeWRyYXRpb25cIiwgZnVuY3Rpb24oKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxzdmc+PC9zdmc+e3tuYW1lfX0nKTtcblxuICB2YXIgZnJhZ21lbnQgPSB0ZW1wbGF0ZS5yZW5kZXIoeyBuYW1lOiAnTWlsbHknIH0sIGVudiwgeyBjb250ZXh0dWFsRWxlbWVudDogZG9jdW1lbnQuYm9keSB9KS5mcmFnbWVudDtcblxuICBlcXVhbChcbiAgICBmcmFnbWVudC5jaGlsZE5vZGVzWzBdLm5hbWVzcGFjZVVSSSwgc3ZnTmFtZXNwYWNlLFxuICAgIFwic3ZnIG5hbWVzcGFjZSBpbnNpZGUgYSBibG9jayBpcyBwcmVzZW50XCIgKTtcbn0pO1xuXG50ZXN0KFwidG9wLWxldmVsIHVuc2FmZSBtb3JwaCB1c2VzIHRoZSBjb3JyZWN0IG5hbWVzcGFjZVwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZSgnPHN2Zz48L3N2Zz57e3tmb299fX0nKTtcbiAgdmFyIGZyYWdtZW50ID0gdGVtcGxhdGUucmVuZGVyKHsgZm9vOiAnPHNwYW4+Rk9PPC9zcGFuPicgfSwgZW52LCB7IGNvbnRleHR1YWxFbGVtZW50OiBkb2N1bWVudC5ib2R5IH0pLmZyYWdtZW50O1xuXG4gIGVxdWFsKGdldFRleHRDb250ZW50KGZyYWdtZW50KSwgJ0ZPTycsICdlbGVtZW50IGZyb20gdW5zYWZlIG1vcnBoIGlzIGRpc3BsYXllZCcpO1xuICBlcXVhbChmcmFnbWVudC5jaGlsZE5vZGVzWzFdLm5hbWVzcGFjZVVSSSwgeGh0bWxOYW1lc3BhY2UsICdlbGVtZW50IGZyb20gdW5zYWZlIG1vcnBoIGhhcyBjb3JyZWN0IG5hbWVzcGFjZScpO1xufSk7XG5cbnRlc3QoXCJuZXN0ZWQgdW5zYWZlIG1vcnBoIHVzZXMgdGhlIGNvcnJlY3QgbmFtZXNwYWNlXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKCc8c3ZnPnt7e2Zvb319fTwvc3ZnPjxkaXY+PC9kaXY+Jyk7XG4gIHZhciBmcmFnbWVudCA9IHRlbXBsYXRlLnJlbmRlcih7IGZvbzogJzxwYXRoPjwvcGF0aD4nIH0sIGVudiwgeyBjb250ZXh0dWFsRWxlbWVudDogZG9jdW1lbnQuYm9keSB9KS5mcmFnbWVudDtcblxuICBlcXVhbChmcmFnbWVudC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0ubmFtZXNwYWNlVVJJLCBzdmdOYW1lc3BhY2UsXG4gICAgICAgICdlbGVtZW50IGZyb20gdW5zYWZlIG1vcnBoIGhhcyBjb3JyZWN0IG5hbWVzcGFjZScpO1xufSk7XG5cbnRlc3QoXCJzdmcgY2FuIHRha2Ugc29tZSBoeWRyYXRpb25cIiwgZnVuY3Rpb24oKSB7XG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxkaXY+PHN2Zz57e25hbWV9fTwvc3ZnPjwvZGl2PicpO1xuXG4gIHZhciBmcmFnbWVudCA9IHRlbXBsYXRlLnJlbmRlcih7IG5hbWU6ICdNaWxseScgfSwgZW52KS5mcmFnbWVudDtcbiAgZXF1YWwoXG4gICAgZnJhZ21lbnQuZmlyc3RDaGlsZC5jaGlsZE5vZGVzWzBdLm5hbWVzcGFjZVVSSSwgc3ZnTmFtZXNwYWNlLFxuICAgIFwic3ZnIG5hbWVzcGFjZSBpbnNpZGUgYSBibG9jayBpcyBwcmVzZW50XCIgKTtcbiAgZXF1YWxUb2tlbnMoIGZyYWdtZW50LmZpcnN0Q2hpbGQsICc8ZGl2Pjxzdmc+TWlsbHk8L3N2Zz48L2Rpdj4nLFxuICAgICAgICAgICAgIFwiaHRtbCBpcyB2YWxpZFwiICk7XG59KTtcblxudGVzdChcInJvb3Qgc3ZnIGNhbiB0YWtlIHNvbWUgaHlkcmF0aW9uXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKCc8c3ZnPnt7bmFtZX19PC9zdmc+Jyk7XG4gIHZhciBmcmFnbWVudCA9IHRlbXBsYXRlLnJlbmRlcih7IG5hbWU6ICdNaWxseScgfSwgZW52KS5mcmFnbWVudDtcbiAgdmFyIHN2Z05vZGUgPSBmcmFnbWVudC5maXJzdENoaWxkO1xuXG4gIGVxdWFsKFxuICAgIHN2Z05vZGUubmFtZXNwYWNlVVJJLCBzdmdOYW1lc3BhY2UsXG4gICAgXCJzdmcgbmFtZXNwYWNlIGluc2lkZSBhIGJsb2NrIGlzIHByZXNlbnRcIiApO1xuICBlcXVhbFRva2Vucyggc3ZnTm9kZSwgJzxzdmc+TWlsbHk8L3N2Zz4nLFxuICAgICAgICAgICAgIFwiaHRtbCBpcyB2YWxpZFwiICk7XG59KTtcblxudGVzdChcIkJsb2NrIGhlbHBlciBhbGxvd3MgaW50ZXJpb3IgbmFtZXNwYWNlXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgaXNUcnVlID0gdHJ1ZTtcblxuICByZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKHBhcmFtcywgaGFzaCwgb3B0aW9ucykge1xuICAgIGlmIChpc1RydWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnlpZWxkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UueWllbGQoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJ3t7I3Rlc3Rpbmd9fTxzdmc+PC9zdmc+e3tlbHNlfX08ZGl2Pjxzdmc+PC9zdmc+PC9kaXY+e3svdGVzdGluZ319Jyk7XG5cbiAgdmFyIGZyYWdtZW50ID0gdGVtcGxhdGUucmVuZGVyKHsgaXNUcnVlOiB0cnVlIH0sIGVudiwgeyBjb250ZXh0dWFsRWxlbWVudDogZG9jdW1lbnQuYm9keSB9KS5mcmFnbWVudDtcbiAgZXF1YWwoXG4gICAgZnJhZ21lbnQuZmlyc3RDaGlsZC5uZXh0U2libGluZy5uYW1lc3BhY2VVUkksIHN2Z05hbWVzcGFjZSxcbiAgICBcInN2ZyBuYW1lc3BhY2UgaW5zaWRlIGEgYmxvY2sgaXMgcHJlc2VudFwiICk7XG5cbiAgaXNUcnVlID0gZmFsc2U7XG4gIGZyYWdtZW50ID0gdGVtcGxhdGUucmVuZGVyKHsgaXNUcnVlOiBmYWxzZSB9LCBlbnYsIHsgY29udGV4dHVhbEVsZW1lbnQ6IGRvY3VtZW50LmJvZHkgfSkuZnJhZ21lbnQ7XG4gIGVxdWFsKFxuICAgIGZyYWdtZW50LmZpcnN0Q2hpbGQubmV4dFNpYmxpbmcubmFtZXNwYWNlVVJJLCB4aHRtbE5hbWVzcGFjZSxcbiAgICBcImludmVyc2UgYmxvY2sgcGF0aCBoYXMgYSBub3JtYWwgbmFtZXNwYWNlXCIpO1xuICBlcXVhbChcbiAgICBmcmFnbWVudC5maXJzdENoaWxkLm5leHRTaWJsaW5nLmZpcnN0Q2hpbGQubmFtZXNwYWNlVVJJLCBzdmdOYW1lc3BhY2UsXG4gICAgXCJzdmcgbmFtZXNwYWNlIGluc2lkZSBhbiBlbGVtZW50IGluc2lkZSBhIGJsb2NrIGlzIHByZXNlbnRcIiApO1xufSk7XG5cbnRlc3QoXCJCbG9jayBoZWxwZXIgYWxsb3dzIG5hbWVzcGFjZSB0byBibGVlZCB0aHJvdWdoXCIsIGZ1bmN0aW9uKCkge1xuICByZWdpc3RlckhlbHBlcigndGVzdGluZycsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnlpZWxkKCk7XG4gIH0pO1xuXG4gIHZhciB0ZW1wbGF0ZSA9IGNvbXBpbGUoJzxkaXY+PHN2Zz57eyN0ZXN0aW5nfX08Y2lyY2xlIC8+e3svdGVzdGluZ319PC9zdmc+PC9kaXY+Jyk7XG5cbiAgdmFyIGZyYWdtZW50ID0gdGVtcGxhdGUucmVuZGVyKHsgaXNUcnVlOiB0cnVlIH0sIGVudikuZnJhZ21lbnQ7XG4gIHZhciBzdmdOb2RlID0gZnJhZ21lbnQuZmlyc3RDaGlsZC5maXJzdENoaWxkO1xuICBlcXVhbCggc3ZnTm9kZS5uYW1lc3BhY2VVUkksIHN2Z05hbWVzcGFjZSxcbiAgICAgICAgIFwic3ZnIHRhZyBoYXMgYW4gc3ZnIG5hbWVzcGFjZVwiICk7XG4gIGVxdWFsKCBzdmdOb2RlLmNoaWxkTm9kZXNbMF0ubmFtZXNwYWNlVVJJLCBzdmdOYW1lc3BhY2UsXG4gICAgICAgICBcImNpcmNsZSB0YWcgaW5zaWRlIGJsb2NrIGluc2lkZSBzdmcgaGFzIGFuIHN2ZyBuYW1lc3BhY2VcIiApO1xufSk7XG5cbnRlc3QoXCJCbG9jayBoZWxwZXIgd2l0aCByb290IHN2ZyBhbGxvd3MgbmFtZXNwYWNlIHRvIGJsZWVkIHRocm91Z2hcIiwgZnVuY3Rpb24oKSB7XG4gIHJlZ2lzdGVySGVscGVyKCd0ZXN0aW5nJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMueWllbGQoKTtcbiAgfSk7XG5cbiAgdmFyIHRlbXBsYXRlID0gY29tcGlsZSgnPHN2Zz57eyN0ZXN0aW5nfX08Y2lyY2xlIC8+e3svdGVzdGluZ319PC9zdmc+Jyk7XG5cbiAgdmFyIGZyYWdtZW50ID0gdGVtcGxhdGUucmVuZGVyKHsgaXNUcnVlOiB0cnVlIH0sIGVudikuZnJhZ21lbnQ7XG4gIHZhciBzdmdOb2RlID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcbiAgZXF1YWwoIHN2Z05vZGUubmFtZXNwYWNlVVJJLCBzdmdOYW1lc3BhY2UsXG4gICAgICAgICBcInN2ZyB0YWcgaGFzIGFuIHN2ZyBuYW1lc3BhY2VcIiApO1xuICBlcXVhbCggc3ZnTm9kZS5jaGlsZE5vZGVzWzBdLm5hbWVzcGFjZVVSSSwgc3ZnTmFtZXNwYWNlLFxuICAgICAgICAgXCJjaXJjbGUgdGFnIGluc2lkZSBibG9jayBpbnNpZGUgc3ZnIGhhcyBhbiBzdmcgbmFtZXNwYWNlXCIgKTtcbn0pO1xuXG50ZXN0KFwiQmxvY2sgaGVscGVyIHdpdGggcm9vdCBmb3JlaWduT2JqZWN0IGFsbG93cyBuYW1lc3BhY2UgdG8gYmxlZWQgdGhyb3VnaFwiLCBmdW5jdGlvbigpIHtcbiAgcmVnaXN0ZXJIZWxwZXIoJ3Rlc3RpbmcnLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy55aWVsZCgpO1xuICB9KTtcblxuICB2YXIgdGVtcGxhdGUgPSBjb21waWxlKCc8Zm9yZWlnbk9iamVjdD57eyN0ZXN0aW5nfX08ZGl2PjwvZGl2Pnt7L3Rlc3Rpbmd9fTwvZm9yZWlnbk9iamVjdD4nKTtcblxuICB2YXIgZnJhZ21lbnQgPSB0ZW1wbGF0ZS5yZW5kZXIoeyBpc1RydWU6IHRydWUgfSwgZW52LCB7IGNvbnRleHR1YWxFbGVtZW50OiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoc3ZnTmFtZXNwYWNlLCAnc3ZnJykgfSkuZnJhZ21lbnQ7XG4gIHZhciBzdmdOb2RlID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcbiAgZXF1YWwoIHN2Z05vZGUubmFtZXNwYWNlVVJJLCBzdmdOYW1lc3BhY2UsXG4gICAgICAgICBcImZvcmVpZ25PYmplY3QgdGFnIGhhcyBhbiBzdmcgbmFtZXNwYWNlXCIgKTtcbiAgZXF1YWwoIHN2Z05vZGUuY2hpbGROb2Rlc1swXS5uYW1lc3BhY2VVUkksIHhodG1sTmFtZXNwYWNlLFxuICAgICAgICAgXCJkaXYgaW5zaWRlIG1vcnBoIGFuZCBmb3JlaWduT2JqZWN0IGhhcyB4aHRtbCBuYW1lc3BhY2VcIiApO1xufSk7XG5cbn1cbiJdfQ==
define('htmlbars-compiler-tests/html-compiler-test.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests');
  QUnit.test('htmlbars-compiler-tests/html-compiler-test.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/html-compiler-test.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWwtY29tcGlsZXItdGVzdC5qc2hpbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQUssQ0FBQyxNQUFNLENBQUMsa0NBQWtDLENBQUMsQ0FBQztBQUNqRCxPQUFLLENBQUMsSUFBSSxDQUFDLGtFQUFrRSxFQUFFLFVBQVMsTUFBTSxFQUFFO0FBQzlGLFVBQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLG1FQUFtRSxDQUFDLENBQUM7R0FDdEYsQ0FBQyxDQUFDIiwiZmlsZSI6Imh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWwtY29tcGlsZXItdGVzdC5qc2hpbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJRVW5pdC5tb2R1bGUoJ0pTSGludCAtIGh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzJyk7XG5RVW5pdC50ZXN0KCdodG1sYmFycy1jb21waWxlci10ZXN0cy9odG1sLWNvbXBpbGVyLXRlc3QuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWwtY29tcGlsZXItdGVzdC5qcyBzaG91bGQgcGFzcyBqc2hpbnQuJyk7IFxufSk7XG4iXX0=
define('htmlbars-compiler-tests/htmlbars-compiler.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests');
  QUnit.test('htmlbars-compiler-tests/htmlbars-compiler.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/htmlbars-compiler.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyLmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO0FBQ2pELE9BQUssQ0FBQyxJQUFJLENBQUMsaUVBQWlFLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDN0YsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsa0VBQWtFLENBQUMsQ0FBQztHQUNyRixDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXIuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSBodG1sYmFycy1jb21waWxlci10ZXN0cycpO1xuUVVuaXQudGVzdCgnaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXIuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyLmpzIHNob3VsZCBwYXNzIGpzaGludC4nKTsgXG59KTtcbiJdfQ==
define('htmlbars-compiler-tests/htmlbars-compiler/compiler.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests/htmlbars-compiler');
  QUnit.test('htmlbars-compiler-tests/htmlbars-compiler/compiler.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/htmlbars-compiler/compiler.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2NvbXBpbGVyLmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQyxvREFBb0QsQ0FBQyxDQUFDO0FBQ25FLE9BQUssQ0FBQyxJQUFJLENBQUMsMEVBQTBFLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDdEcsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsMkVBQTJFLENBQUMsQ0FBQztHQUM5RixDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXIvY29tcGlsZXIuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSBodG1sYmFycy1jb21waWxlci10ZXN0cy9odG1sYmFycy1jb21waWxlcicpO1xuUVVuaXQudGVzdCgnaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXIvY29tcGlsZXIuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2NvbXBpbGVyLmpzIHNob3VsZCBwYXNzIGpzaGludC4nKTsgXG59KTtcbiJdfQ==
define('htmlbars-compiler-tests/htmlbars-compiler/fragment-javascript-compiler.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests/htmlbars-compiler');
  QUnit.test('htmlbars-compiler-tests/htmlbars-compiler/fragment-javascript-compiler.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/htmlbars-compiler/fragment-javascript-compiler.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2ZyYWdtZW50LWphdmFzY3JpcHQtY29tcGlsZXIuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLG9EQUFvRCxDQUFDLENBQUM7QUFDbkUsT0FBSyxDQUFDLElBQUksQ0FBQyw4RkFBOEYsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUMxSCxVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSwrRkFBK0YsQ0FBQyxDQUFDO0dBQ2xILENBQUMsQ0FBQyIsImZpbGUiOiJodG1sYmFycy1jb21waWxlci10ZXN0cy9odG1sYmFycy1jb21waWxlci9mcmFnbWVudC1qYXZhc2NyaXB0LWNvbXBpbGVyLmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXInKTtcblFVbml0LnRlc3QoJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2ZyYWdtZW50LWphdmFzY3JpcHQtY29tcGlsZXIuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2ZyYWdtZW50LWphdmFzY3JpcHQtY29tcGlsZXIuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define('htmlbars-compiler-tests/htmlbars-compiler/fragment-opcode-compiler.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests/htmlbars-compiler');
  QUnit.test('htmlbars-compiler-tests/htmlbars-compiler/fragment-opcode-compiler.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/htmlbars-compiler/fragment-opcode-compiler.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2ZyYWdtZW50LW9wY29kZS1jb21waWxlci5qc2hpbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQUssQ0FBQyxNQUFNLENBQUMsb0RBQW9ELENBQUMsQ0FBQztBQUNuRSxPQUFLLENBQUMsSUFBSSxDQUFDLDBGQUEwRixFQUFFLFVBQVMsTUFBTSxFQUFFO0FBQ3RILFVBQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLDJGQUEyRixDQUFDLENBQUM7R0FDOUcsQ0FBQyxDQUFDIiwiZmlsZSI6Imh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2ZyYWdtZW50LW9wY29kZS1jb21waWxlci5qc2hpbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJRVW5pdC5tb2R1bGUoJ0pTSGludCAtIGh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyJyk7XG5RVW5pdC50ZXN0KCdodG1sYmFycy1jb21waWxlci10ZXN0cy9odG1sYmFycy1jb21waWxlci9mcmFnbWVudC1vcGNvZGUtY29tcGlsZXIuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2ZyYWdtZW50LW9wY29kZS1jb21waWxlci5qcyBzaG91bGQgcGFzcyBqc2hpbnQuJyk7IFxufSk7XG4iXX0=
define('htmlbars-compiler-tests/htmlbars-compiler/hydration-javascript-compiler.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests/htmlbars-compiler');
  QUnit.test('htmlbars-compiler-tests/htmlbars-compiler/hydration-javascript-compiler.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/htmlbars-compiler/hydration-javascript-compiler.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2h5ZHJhdGlvbi1qYXZhc2NyaXB0LWNvbXBpbGVyLmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQyxvREFBb0QsQ0FBQyxDQUFDO0FBQ25FLE9BQUssQ0FBQyxJQUFJLENBQUMsK0ZBQStGLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDM0gsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsZ0dBQWdHLENBQUMsQ0FBQztHQUNuSCxDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXIvaHlkcmF0aW9uLWphdmFzY3JpcHQtY29tcGlsZXIuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSBodG1sYmFycy1jb21waWxlci10ZXN0cy9odG1sYmFycy1jb21waWxlcicpO1xuUVVuaXQudGVzdCgnaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXIvaHlkcmF0aW9uLWphdmFzY3JpcHQtY29tcGlsZXIuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2h5ZHJhdGlvbi1qYXZhc2NyaXB0LWNvbXBpbGVyLmpzIHNob3VsZCBwYXNzIGpzaGludC4nKTsgXG59KTtcbiJdfQ==
define('htmlbars-compiler-tests/htmlbars-compiler/hydration-opcode-compiler.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests/htmlbars-compiler');
  QUnit.test('htmlbars-compiler-tests/htmlbars-compiler/hydration-opcode-compiler.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/htmlbars-compiler/hydration-opcode-compiler.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2h5ZHJhdGlvbi1vcGNvZGUtY29tcGlsZXIuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLG9EQUFvRCxDQUFDLENBQUM7QUFDbkUsT0FBSyxDQUFDLElBQUksQ0FBQywyRkFBMkYsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUN2SCxVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSw0RkFBNEYsQ0FBQyxDQUFDO0dBQy9HLENBQUMsQ0FBQyIsImZpbGUiOiJodG1sYmFycy1jb21waWxlci10ZXN0cy9odG1sYmFycy1jb21waWxlci9oeWRyYXRpb24tb3Bjb2RlLWNvbXBpbGVyLmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXInKTtcblFVbml0LnRlc3QoJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2h5ZHJhdGlvbi1vcGNvZGUtY29tcGlsZXIuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL2h5ZHJhdGlvbi1vcGNvZGUtY29tcGlsZXIuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define('htmlbars-compiler-tests/htmlbars-compiler/template-compiler.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests/htmlbars-compiler');
  QUnit.test('htmlbars-compiler-tests/htmlbars-compiler/template-compiler.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/htmlbars-compiler/template-compiler.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL3RlbXBsYXRlLWNvbXBpbGVyLmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQyxvREFBb0QsQ0FBQyxDQUFDO0FBQ25FLE9BQUssQ0FBQyxJQUFJLENBQUMsbUZBQW1GLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDL0csVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsb0ZBQW9GLENBQUMsQ0FBQztHQUN2RyxDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXIvdGVtcGxhdGUtY29tcGlsZXIuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSBodG1sYmFycy1jb21waWxlci10ZXN0cy9odG1sYmFycy1jb21waWxlcicpO1xuUVVuaXQudGVzdCgnaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXIvdGVtcGxhdGUtY29tcGlsZXIuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL3RlbXBsYXRlLWNvbXBpbGVyLmpzIHNob3VsZCBwYXNzIGpzaGludC4nKTsgXG59KTtcbiJdfQ==
define('htmlbars-compiler-tests/htmlbars-compiler/template-visitor.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests/htmlbars-compiler');
  QUnit.test('htmlbars-compiler-tests/htmlbars-compiler/template-visitor.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/htmlbars-compiler/template-visitor.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL3RlbXBsYXRlLXZpc2l0b3IuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLG9EQUFvRCxDQUFDLENBQUM7QUFDbkUsT0FBSyxDQUFDLElBQUksQ0FBQyxrRkFBa0YsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUM5RyxVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSxtRkFBbUYsQ0FBQyxDQUFDO0dBQ3RHLENBQUMsQ0FBQyIsImZpbGUiOiJodG1sYmFycy1jb21waWxlci10ZXN0cy9odG1sYmFycy1jb21waWxlci90ZW1wbGF0ZS12aXNpdG9yLmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXInKTtcblFVbml0LnRlc3QoJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL3RlbXBsYXRlLXZpc2l0b3IuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL3RlbXBsYXRlLXZpc2l0b3IuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define('htmlbars-compiler-tests/htmlbars-compiler/utils.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests/htmlbars-compiler');
  QUnit.test('htmlbars-compiler-tests/htmlbars-compiler/utils.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/htmlbars-compiler/utils.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL3V0aWxzLmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQyxvREFBb0QsQ0FBQyxDQUFDO0FBQ25FLE9BQUssQ0FBQyxJQUFJLENBQUMsdUVBQXVFLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDbkcsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsd0VBQXdFLENBQUMsQ0FBQztHQUMzRixDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXIvdXRpbHMuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSBodG1sYmFycy1jb21waWxlci10ZXN0cy9odG1sYmFycy1jb21waWxlcicpO1xuUVVuaXQudGVzdCgnaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvaHRtbGJhcnMtY29tcGlsZXIvdXRpbHMuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h0bWxiYXJzLWNvbXBpbGVyL3V0aWxzLmpzIHNob3VsZCBwYXNzIGpzaGludC4nKTsgXG59KTtcbiJdfQ==
define("htmlbars-compiler-tests/hydration-opcode-compiler-test", ["exports", "../htmlbars-compiler/hydration-opcode-compiler", "../htmlbars-syntax/parser", "../htmlbars-compiler/compiler", "../htmlbars-util/template-utils"], function (exports, _htmlbarsCompilerHydrationOpcodeCompiler, _htmlbarsSyntaxParser, _htmlbarsCompilerCompiler, _htmlbarsUtilTemplateUtils) {

  function opcodesFor(html, options) {
    var ast = _htmlbarsSyntaxParser.preprocess(html, options),
        compiler1 = new _htmlbarsCompilerHydrationOpcodeCompiler.default(options);
    compiler1.compile(ast);
    return compiler1.opcodes;
  }

  QUnit.module("HydrationOpcodeCompiler opcode generation");

  function loc(startCol, endCol) {
    var startLine = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];
    var endLine = arguments.length <= 3 || arguments[3] === undefined ? 1 : arguments[3];
    var source = arguments.length <= 4 || arguments[4] === undefined ? null : arguments[4];

    return ['loc', [source, [startLine, startCol], [endLine, endCol]]];
  }

  function sloc(startCol, endCol) {
    var startLine = arguments.length <= 2 || arguments[2] === undefined ? 1 : arguments[2];
    var endLine = arguments.length <= 3 || arguments[3] === undefined ? 1 : arguments[3];
    var source = arguments.length <= 4 || arguments[4] === undefined ? null : arguments[4];

    return ['loc', [source, [startLine, startCol], [endLine, endCol]]];
  }

  function equalOpcodes(actual, expected) {
    var equiv = QUnit.equiv(actual, expected);

    var exString = "";
    var acString = "";
    var i = 0;

    for (; i < actual.length; i++) {
      var a = actual[i];
      var e = expected && expected[i];

      a = a ? JSON.stringify(a).replace(/"/g, "'") : "";
      e = e ? JSON.stringify(e).replace(/"/g, "'") : "";

      exString += e + "\n";
      acString += a + "\n";
    }

    if (expected) {
      for (; i < expected.length; i++) {
        var e = expected[i];

        e = e ? JSON.stringify(e).replace(/"/g, "'") : "";

        acString += "\n";
        exString += e + "\n";
      }
    }

    QUnit.push(equiv, acString, exString);
  }

  function equalStatements(actual, expected) {
    equalOpcodes(actual, expected);
  }

  function testCompile(string, templateSource, opcodes) {
    for (var _len = arguments.length, statementList = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
      statementList[_key - 3] = arguments[_key];
    }

    var template, childTemplates;
    QUnit.module("Compiling " + string + ": " + templateSource, {
      setup: function () {
        template = _htmlbarsCompilerCompiler.compile(templateSource).raw;
        childTemplates = template.templates;
      }
    });

    test("opcodes", function () {
      equalOpcodes(opcodesFor(templateSource), opcodes);
    });

    var statements = statementList.shift();

    test("statements for the root template", function () {
      equalStatements(template.statements, statements);
    });

    test("correct list of child templates", function () {
      equal(template.templates.length, statementList.length, "list of child templates should match the expected list of statements");
    });

    for (var i = 0, l = statementList.length; i < l; i++) {
      statementTest(statementList, i);
    }

    function statementTest(list, i) {
      test("statements for template " + i, function () {
        equalStatements(childTemplates[i].statements, list[i]);
      });
    }
  }

  var s = {
    content: function (path, loc) {
      return _htmlbarsUtilTemplateUtils.buildStatement('content', path, sloc.apply(undefined, loc));
    },

    block: function (name, loc) {
      var template = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];
      var params = arguments.length <= 3 || arguments[3] === undefined ? [] : arguments[3];
      var hash = arguments.length <= 4 || arguments[4] === undefined ? [] : arguments[4];
      var inverse = arguments.length <= 5 || arguments[5] === undefined ? null : arguments[5];

      return _htmlbarsUtilTemplateUtils.buildStatement('block', name, params, hash, template, inverse, sloc.apply(undefined, loc));
    },

    inline: function (name) {
      var params = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];
      var hash = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];
      var loc = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];

      return _htmlbarsUtilTemplateUtils.buildStatement('inline', name, params, hash, sloc.apply(undefined, loc));
    },

    element: function (name) {
      var params = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];
      var hash = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];
      var loc = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];

      return _htmlbarsUtilTemplateUtils.buildStatement('element', name, params, hash, sloc.apply(undefined, loc));
    },

    attribute: function (name, expression) {
      return _htmlbarsUtilTemplateUtils.buildStatement('attribute', name, expression);
    },

    component: function (path) {
      var attrs = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];
      var template = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];

      return _htmlbarsUtilTemplateUtils.buildStatement('component', path, attrs, template);
    },

    get: function (path, loc) {
      return _htmlbarsUtilTemplateUtils.buildStatement('get', path, sloc.apply(undefined, loc));
    },

    concat: function () {
      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      return _htmlbarsUtilTemplateUtils.buildStatement('concat', args);
    },

    subexpr: function (name) {
      var params = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];
      var hash = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];
      var loc = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];

      return _htmlbarsUtilTemplateUtils.buildStatement('subexpr', name, params, hash, sloc.apply(undefined, loc));
    }
  };

  QUnit.module("Compiling <my-component> with isStatic plugin: <my-component />");

  test("isStatic skips boundary nodes", function () {
    var ast = _htmlbarsSyntaxParser.preprocess('<my-component />');
    ast.body[0].isStatic = true;
    var compiler1 = new _htmlbarsCompilerHydrationOpcodeCompiler.default();
    compiler1.compile(ast);
    equalOpcodes(compiler1.opcodes, [['createMorph', [0, [], 0, 0, true]], ['prepareObject', [0]], ['pushLiteral', ['my-component']], ['printComponentHook', [0, 0, ['loc', [null, [1, 0], [1, 16]]]]]]);
  });

  testCompile("simple example", "<div>{{foo}} bar {{baz}}</div>", [["consumeParent", [0]], ["shareElement", [0]], ["createMorph", [0, [0], 0, 0, true]], ["createMorph", [1, [0], 2, 2, true]], ["pushLiteral", ["foo"]], ["printContentHook", [loc(5, 12)]], ["pushLiteral", ["baz"]], ["printContentHook", [loc(17, 24)]], ["popParent", []]], [s.content('foo', [5, 12]), s.content('baz', [17, 24])]);

  testCompile("simple block", "<div>{{#foo}}{{/foo}}</div>", [["consumeParent", [0]], ["createMorph", [0, [0], 0, 0, true]], ["prepareObject", [0]], ["prepareArray", [0]], ["pushLiteral", ["foo"]], ["printBlockHook", [0, null, loc(5, 21)]], ["popParent", []]], [s.block('foo', [5, 21], 0)], []);

  testCompile("simple block with block params", "<div>{{#foo as |bar baz|}}{{/foo}}</div>", [["consumeParent", [0]], ["createMorph", [0, [0], 0, 0, true]], ["prepareObject", [0]], ["prepareArray", [0]], ["pushLiteral", ["foo"]], ["printBlockHook", [0, null, loc(5, 34)]], ["popParent", []]], [s.block('foo', [5, 34], 0)], []);

  testCompile("element with a sole mustache child", "<div>{{foo}}</div>", [["consumeParent", [0]], ["createMorph", [0, [0], 0, 0, true]], ["pushLiteral", ["foo"]], ["printContentHook", [loc(5, 12)]], ["popParent", []]], [s.content('foo', [5, 12])]);

  testCompile("element with a mustache between two text nodes", "<div> {{foo}} </div>", [["consumeParent", [0]], ["createMorph", [0, [0], 1, 1, true]], ["pushLiteral", ["foo"]], ["printContentHook", [loc(6, 13)]], ["popParent", []]], [s.content('foo', [6, 13])]);

  testCompile("mustache two elements deep", "<div><div>{{foo}}</div></div>", [["consumeParent", [0]], ["consumeParent", [0]], ["createMorph", [0, [0, 0], 0, 0, true]], ["pushLiteral", ["foo"]], ["printContentHook", [loc(10, 17)]], ["popParent", []], ["popParent", []]], [s.content('foo', [10, 17])]);

  testCompile("two sibling elements with mustaches", "<div>{{foo}}</div><div>{{bar}}</div>", [["consumeParent", [0]], ["createMorph", [0, [0], 0, 0, true]], ["pushLiteral", ["foo"]], ["printContentHook", [loc(5, 12)]], ["popParent", []], ["consumeParent", [1]], ["createMorph", [1, [1], 0, 0, true]], ["pushLiteral", ["bar"]], ["printContentHook", [loc(23, 30)]], ["popParent", []]], [s.content('foo', [5, 12]), s.content('bar', [23, 30])]);

  testCompile("mustaches at the root", "{{foo}} {{bar}}", [["createMorph", [0, [], 0, 0, true]], ["createMorph", [1, [], 2, 2, true]], ["openBoundary", []], ["pushLiteral", ["foo"]], ["printContentHook", [loc(0, 7)]], ["closeBoundary", []], ["pushLiteral", ["bar"]], ["printContentHook", [loc(8, 15)]]], [s.content('foo', [0, 7]), s.content('bar', [8, 15])]);

  testCompile("back to back mustaches should have a text node inserted between them", "<div>{{foo}}{{bar}}{{baz}}wat{{qux}}</div>", [["consumeParent", [0]], ["shareElement", [0]], ["createMorph", [0, [0], 0, 0, true]], ["createMorph", [1, [0], 1, 1, true]], ["createMorph", [2, [0], 2, 2, true]], ["createMorph", [3, [0], 4, 4, true]], ["pushLiteral", ["foo"]], ["printContentHook", [loc(5, 12)]], ["pushLiteral", ["bar"]], ["printContentHook", [loc(12, 19)]], ["pushLiteral", ["baz"]], ["printContentHook", [loc(19, 26)]], ["pushLiteral", ["qux"]], ["printContentHook", [loc(29, 36)]], ["popParent", []]], [s.content('foo', [5, 12]), s.content('bar', [12, 19]), s.content('baz', [19, 26]), s.content('qux', [29, 36])]);

  testCompile("helper usage", "<div>{{foo 'bar' baz.bat true 3.14}}</div>", [["consumeParent", [0]], ["createMorph", [0, [0], 0, 0, true]], ["prepareObject", [0]], ["pushLiteral", [3.14]], ["pushLiteral", [true]], ["pushGetHook", ["baz.bat", loc(17, 24)]], ["pushLiteral", ["bar"]], ["prepareArray", [4]], ["pushLiteral", ["foo"]], ["printInlineHook", [loc(5, 36)]], ["popParent", []]], [s.inline('foo', ['bar', s.get('baz.bat', [17, 24]), true, 3.14], [], [5, 36])]);

  testCompile("node mustache", "<div {{foo}}></div>", [["consumeParent", [0]], ["prepareObject", [0]], ["prepareArray", [0]], ["pushLiteral", ["foo"]], ["shareElement", [0]], ["createElementMorph", [0, 0]], ["printElementHook", [loc(5, 12)]], ["popParent", []]], [s.element('foo', [], [], [5, 12])]);

  testCompile("node helper", "<div {{foo 'bar'}}></div>", [["consumeParent", [0]], ["prepareObject", [0]], ["pushLiteral", ["bar"]], ["prepareArray", [1]], ["pushLiteral", ["foo"]], ["shareElement", [0]], ["createElementMorph", [0, 0]], ["printElementHook", [loc(5, 18)]], ["popParent", []]], [s.element('foo', ['bar'], [], [5, 18])]);

  testCompile("attribute mustache", "<div class='before {{foo}} after'></div>", [["consumeParent", [0]], ["pushLiteral", [" after"]], ["pushGetHook", ["foo", loc(21, 24)]], ["pushLiteral", ["before "]], ["prepareArray", [3]], ["pushConcatHook", [0]], ["pushLiteral", ["class"]], ["shareElement", [0]], ["createAttrMorph", [0, 0, "class", true, null]], ["printAttributeHook", []], ["popParent", []]], [s.attribute('class', s.concat('before ', s.get('foo', [21, 24]), ' after'))]);

  testCompile("quoted attribute mustache", "<div class='{{foo}}'></div>", [["consumeParent", [0]], ["pushGetHook", ["foo", loc(14, 17)]], ["prepareArray", [1]], ["pushConcatHook", [0]], ["pushLiteral", ["class"]], ["shareElement", [0]], ["createAttrMorph", [0, 0, "class", true, null]], ["printAttributeHook", []], ["popParent", []]], [s.attribute('class', s.concat(s.get('foo', [14, 17])))]);

  testCompile("safe bare attribute mustache", "<div class={{foo}}></div>", [["consumeParent", [0]], ["pushGetHook", ["foo", loc(13, 16)]], ["pushLiteral", ["class"]], ["shareElement", [0]], ["createAttrMorph", [0, 0, "class", true, null]], ["printAttributeHook", []], ["popParent", []]], [s.attribute('class', s.get('foo', [13, 16]))]);

  testCompile("unsafe bare attribute mustache", "<div class={{{foo}}}></div>", [["consumeParent", [0]], ["pushGetHook", ["foo", loc(14, 17)]], ["pushLiteral", ["class"]], ["shareElement", [0]], ["createAttrMorph", [0, 0, "class", false, null]], ["printAttributeHook", []], ["popParent", []]], [s.attribute('class', s.get('foo', [14, 17]))]);

  testCompile("attribute helper", "<div class='before {{foo 'bar'}} after'></div>", [["consumeParent", [0]], ["pushLiteral", [" after"]], ["prepareObject", [0]], ["pushLiteral", ["bar"]], ["prepareArray", [1]], ["pushLiteral", ["foo"]], ["pushSexprHook", [loc(19, 32)]], ["pushLiteral", ["before "]], ["prepareArray", [3]], ["pushConcatHook", [0]], ["pushLiteral", ["class"]], ["shareElement", [0]], ["createAttrMorph", [0, 0, "class", true, null]], ["printAttributeHook", []], ["popParent", []]], [s.attribute('class', s.concat('before ', s.subexpr('foo', ['bar'], [], [19, 32]), ' after'))]);

  testCompile("attribute helpers", "<div class='before {{foo 'bar'}} after' id={{bare}}></div>{{morphThing}}<span class='{{ohMy}}'></span>", [["consumeParent", [0]], ["shareElement", [0]], ["pushLiteral", [" after"]], ["prepareObject", [0]], ["pushLiteral", ["bar"]], ["prepareArray", [1]], ["pushLiteral", ["foo"]], ["pushSexprHook", [loc(19, 32)]], ["pushLiteral", ["before "]], ["prepareArray", [3]], ["pushConcatHook", [0]], ["pushLiteral", ["class"]], ["createAttrMorph", [0, 0, "class", true, null]], ["printAttributeHook", []], ["pushGetHook", ['bare', loc(45, 49)]], ["pushLiteral", ['id']], ["createAttrMorph", [1, 0, 'id', true, null]], ["printAttributeHook", []], ["popParent", []], ["createMorph", [2, [], 1, 1, true]], ["pushLiteral", ['morphThing']], ["printContentHook", [loc(58, 72)]], ["consumeParent", [2]], ["pushGetHook", ['ohMy', loc(87, 91)]], ["prepareArray", [1]], ["pushConcatHook", [3]], ["pushLiteral", ['class']], ["shareElement", [1]], ["createAttrMorph", [3, 1, 'class', true, null]], ["printAttributeHook", []], ["popParent", []]], [s.attribute('class', s.concat('before ', s.subexpr('foo', ['bar'], [], [19, 32]), ' after')), s.attribute('id', s.get('bare', [45, 49])), s.content('morphThing', [58, 72]), s.attribute('class', s.concat(s.get('ohMy', [87, 91])))]);

  testCompile('component helpers', "<my-component>hello</my-component>", [["createMorph", [0, [], 0, 0, true]], ["openBoundary", []], ["closeBoundary", []], ["prepareObject", [0]], ["pushLiteral", ["my-component"]], ["printComponentHook", [0, 0, loc(0, 34)]]], [s.component('my-component', [], 0)], []);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h5ZHJhdGlvbi1vcGNvZGUtY29tcGlsZXItdGVzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUtBLFdBQVMsVUFBVSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUU7QUFDakMsUUFBSSxHQUFHLEdBQUcsc0JBTEgsVUFBVSxDQUtJLElBQUksRUFBRSxPQUFPLENBQUM7UUFDL0IsU0FBUyxHQUFHLHFEQUE0QixPQUFPLENBQUMsQ0FBQztBQUNyRCxhQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZCLFdBQU8sU0FBUyxDQUFDLE9BQU8sQ0FBQztHQUMxQjs7QUFFRCxPQUFLLENBQUMsTUFBTSxDQUFDLDJDQUEyQyxDQUFDLENBQUM7O0FBRTFELFdBQVMsR0FBRyxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQXVDO1FBQXJDLFNBQVMseURBQUMsQ0FBQztRQUFFLE9BQU8seURBQUMsQ0FBQztRQUFFLE1BQU0seURBQUMsSUFBSTs7QUFDaEUsV0FBTyxDQUNMLEtBQUssRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUMxRCxDQUFDO0dBQ0g7O0FBRUQsV0FBUyxJQUFJLENBQUMsUUFBUSxFQUFFLE1BQU0sRUFBdUM7UUFBckMsU0FBUyx5REFBQyxDQUFDO1FBQUUsT0FBTyx5REFBQyxDQUFDO1FBQUUsTUFBTSx5REFBQyxJQUFJOztBQUNqRSxXQUFPLENBQUMsS0FBSyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztHQUNwRTs7QUFFRCxXQUFTLFlBQVksQ0FBQyxNQUFNLEVBQUUsUUFBUSxFQUFFO0FBQ3RDLFFBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFB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QUFvQyxFQUFFLENBQ3JFLENBQUUsYUFBYSxFQUFFLENBQUUsQ0FBQyxFQUFFLEVBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBRSxDQUFFLEVBQ3pDLENBQUUsY0FBYyxFQUFFLEVBQUcsQ0FBRSxFQUN2QixDQUFFLGVBQWUsRUFBRSxFQUFHLENBQUUsRUFDeEIsQ0FBRSxlQUFlLEVBQUUsQ0FBRSxDQUFDLENBQUUsQ0FBRSxFQUMxQixDQUFFLGFBQWEsRUFBRSxDQUFFLGNBQWMsQ0FBRSxDQUFFLEVBQ3JDLENBQUUsb0JBQW9CLEVBQUUsQ0FBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUUsQ0FBRSxDQUMvQyxFQUFFLENBQ0QsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxjQUFjLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUNuQyxFQUFFLEVBQUUsQ0FBQyxDQUFDIiwiZmlsZSI6Imh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h5ZHJhdGlvbi1vcGNvZGUtY29tcGlsZXItdGVzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBIeWRyYXRpb25PcGNvZGVDb21waWxlciBmcm9tIFwiLi4vaHRtbGJhcnMtY29tcGlsZXIvaHlkcmF0aW9uLW9wY29kZS1jb21waWxlclwiO1xuaW1wb3J0IHsgcHJlcHJvY2VzcyB9IGZyb20gXCIuLi9odG1sYmFycy1zeW50YXgvcGFyc2VyXCI7XG5pbXBvcnQgeyBjb21waWxlIH0gZnJvbSBcIi4uL2h0bWxiYXJzLWNvbXBpbGVyL2NvbXBpbGVyXCI7XG5pbXBvcnQgeyBidWlsZFN0YXRlbWVudCB9IGZyb20gXCIuLi9odG1sYmFycy11dGlsL3RlbXBsYXRlLXV0aWxzXCI7XG5cbmZ1bmN0aW9uIG9wY29kZXNGb3IoaHRtbCwgb3B0aW9ucykge1xuICB2YXIgYXN0ID0gcHJlcHJvY2VzcyhodG1sLCBvcHRpb25zKSxcbiAgICAgIGNvbXBpbGVyMSA9IG5ldyBIeWRyYXRpb25PcGNvZGVDb21waWxlcihvcHRpb25zKTtcbiAgY29tcGlsZXIxLmNvbXBpbGUoYXN0KTtcbiAgcmV0dXJuIGNvbXBpbGVyMS5vcGNvZGVzO1xufVxuXG5RVW5pdC5tb2R1bGUoXCJIeWRyYXRpb25PcGNvZGVDb21waWxlciBvcGNvZGUgZ2VuZXJhdGlvblwiKTtcblxuZnVuY3Rpb24gbG9jKHN0YXJ0Q29sLCBlbmRDb2wsIHN0YXJ0TGluZT0xLCBlbmRMaW5lPTEsIHNvdXJjZT1udWxsKSB7XG4gIHJldHVybiBbXG4gICAgJ2xvYycsIFtzb3VyY2UsIFtzdGFydExpbmUsIHN0YXJ0Q29sXSwgW2VuZExpbmUsIGVuZENvbF1dXG4gIF07XG59XG5cbmZ1bmN0aW9uIHNsb2Moc3RhcnRDb2wsIGVuZENvbCwgc3RhcnRMaW5lPTEsIGVuZExpbmU9MSwgc291cmNlPW51bGwpIHtcbiAgcmV0dXJuIFsnbG9jJywgW3NvdXJjZSwgW3N0YXJ0TGluZSwgc3RhcnRDb2xdLCBbZW5kTGluZSwgZW5kQ29sXV1dO1xufVxuXG5mdW5jdGlvbiBlcXVhbE9wY29kZXMoYWN0dWFsLCBleHBlY3RlZCkge1xuICBsZXQgZXF1aXYgPSBRVW5pdC5lcXVpdihhY3R1YWwsIGV4cGVjdGVkKTtcblxuICBsZXQgZXhTdHJpbmcgPSBcIlwiO1xuICBsZXQgYWNTdHJpbmcgPSBcIlwiO1xuICBsZXQgaSA9IDA7XG5cbiAgZm9yICg7IGk8YWN0dWFsLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGEgPSBhY3R1YWxbaV07XG4gICAgbGV0IGUgPSBleHBlY3RlZCAmJiBleHBlY3RlZFtpXTtcblxuICAgIGEgPSBhID8gSlNPTi5zdHJpbmdpZnkoYSkucmVwbGFjZSgvXCIvZywgXCInXCIpIDogXCJcIjtcbiAgICBlID0gZSA/IEpTT04uc3RyaW5naWZ5KGUpLnJlcGxhY2UoL1wiL2csIFwiJ1wiKSA6IFwiXCI7XG5cbiAgICBleFN0cmluZyArPSBlICsgXCJcXG5cIjtcbiAgICBhY1N0cmluZyArPSBhICsgXCJcXG5cIjtcbiAgfVxuXG4gIGlmIChleHBlY3RlZCkge1xuICAgIGZvciAoOyBpPGV4cGVjdGVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZSA9IGV4cGVjdGVkW2ldO1xuXG4gICAgICBlID0gZSA/IEpTT04uc3RyaW5naWZ5KGUpLnJlcGxhY2UoL1wiL2csIFwiJ1wiKSA6IFwiXCI7XG5cbiAgICAgIGFjU3RyaW5nICs9IFwiXFxuXCI7XG4gICAgICBleFN0cmluZyArPSBlICsgXCJcXG5cIjtcbiAgICB9XG4gIH1cblxuICBRVW5pdC5wdXNoKGVxdWl2LCBhY1N0cmluZywgZXhTdHJpbmcpO1xufVxuXG5mdW5jdGlvbiBlcXVhbFN0YXRlbWVudHMoYWN0dWFsLCBleHBlY3RlZCkge1xuICBlcXVhbE9wY29kZXMoYWN0dWFsLCBleHBlY3RlZCk7XG59XG5cbmZ1bmN0aW9uIHRlc3RDb21waWxlKHN0cmluZywgdGVtcGxhdGVTb3VyY2UsIG9wY29kZXMsIC4uLnN0YXRlbWVudExpc3QpIHtcbiAgdmFyIHRlbXBsYXRlLCBjaGlsZFRlbXBsYXRlcztcbiAgUVVuaXQubW9kdWxlKGBDb21waWxpbmcgJHtzdHJpbmd9OiAke3RlbXBsYXRlU291cmNlfWAsIHtcbiAgICBzZXR1cDogZnVuY3Rpb24oKSB7XG4gICAgICB0ZW1wbGF0ZSA9IGNvbXBpbGUodGVtcGxhdGVTb3VyY2UpLnJhdztcbiAgICAgIGNoaWxkVGVtcGxhdGVzID0gdGVtcGxhdGUudGVtcGxhdGVzO1xuICAgIH1cbiAgfSk7XG5cbiAgdGVzdChcIm9wY29kZXNcIiwgZnVuY3Rpb24oKSB7XG4gICAgZXF1YWxPcGNvZGVzKG9wY29kZXNGb3IodGVtcGxhdGVTb3VyY2UpLCBvcGNvZGVzKTtcbiAgfSk7XG5cbiAgbGV0IHN0YXRlbWVudHMgPSBzdGF0ZW1lbnRMaXN0LnNoaWZ0KCk7XG5cbiAgdGVzdChcInN0YXRlbWVudHMgZm9yIHRoZSByb290IHRlbXBsYXRlXCIsIGZ1bmN0aW9uKCkge1xuICAgIGVxdWFsU3RhdGVtZW50cyh0ZW1wbGF0ZS5zdGF0ZW1lbnRzLCBzdGF0ZW1lbnRzKTtcbiAgfSk7XG5cbiAgdGVzdChcImNvcnJlY3QgbGlzdCBvZiBjaGlsZCB0ZW1wbGF0ZXNcIiwgZnVuY3Rpb24oKSB7XG4gICAgZXF1YWwodGVtcGxhdGUudGVtcGxhdGVzLmxlbmd0aCwgc3RhdGVtZW50TGlzdC5sZW5ndGgsIFwibGlzdCBvZiBjaGlsZCB0ZW1wbGF0ZXMgc2hvdWxkIG1hdGNoIHRoZSBleHBlY3RlZCBsaXN0IG9mIHN0YXRlbWVudHNcIik7XG4gIH0pO1xuXG4gIGZvciAobGV0IGk9MCwgbD1zdGF0ZW1lbnRMaXN0Lmxlbmd0aDsgaTxsOyBpKyspIHtcbiAgICBzdGF0ZW1lbnRUZXN0KHN0YXRlbWVudExpc3QsIGkpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhdGVtZW50VGVzdChsaXN0LCBpKSB7XG4gICAgdGVzdChgc3RhdGVtZW50cyBmb3IgdGVtcGxhdGUgJHtpfWAsIGZ1bmN0aW9uKCkge1xuICAgICAgZXF1YWxTdGF0ZW1lbnRzKGNoaWxkVGVtcGxhdGVzW2ldLnN0YXRlbWVudHMsIGxpc3RbaV0pO1xuICAgIH0pO1xuICB9XG59XG5cbmxldCBzID0ge1xuICBjb250ZW50KHBhdGgsIGxvYykge1xuICAgIHJldHVybiBidWlsZFN0YXRlbWVudCgnY29udGVudCcsIHBhdGgsIHNsb2MoLi4ubG9jKSk7XG4gIH0sXG5cbiAgYmxvY2sobmFtZSwgbG9jLCB0ZW1wbGF0ZT1udWxsLCBwYXJhbXM9W10sIGhhc2g9W10sIGludmVyc2U9bnVsbCkge1xuICAgIHJldHVybiBidWlsZFN0YXRlbWVudCgnYmxvY2snLCBuYW1lLCBwYXJhbXMsIGhhc2gsIHRlbXBsYXRlLCBpbnZlcnNlLCBzbG9jKC4uLmxvYykpO1xuICB9LFxuXG4gIGlubGluZShuYW1lLCBwYXJhbXM9W10sIGhhc2g9W10sIGxvYz1udWxsKSB7XG4gICAgcmV0dXJuIGJ1aWxkU3RhdGVtZW50KCdpbmxpbmUnLCBuYW1lLCBwYXJhbXMsIGhhc2gsIHNsb2MoLi4ubG9jKSk7XG4gIH0sXG5cbiAgZWxlbWVudChuYW1lLCBwYXJhbXM9W10sIGhhc2g9W10sIGxvYz1udWxsKSB7XG4gICAgcmV0dXJuIGJ1aWxkU3RhdGVtZW50KCdlbGVtZW50JywgbmFtZSwgcGFyYW1zLCBoYXNoLCBzbG9jKC4uLmxvYykpO1xuICB9LFxuXG4gIGF0dHJpYnV0ZShuYW1lLCBleHByZXNzaW9uKSB7XG4gICAgcmV0dXJuIGJ1aWxkU3RhdGVtZW50KCdhdHRyaWJ1dGUnLCBuYW1lLCBleHByZXNzaW9uKTtcbiAgfSxcblxuICBjb21wb25lbnQocGF0aCwgYXR0cnM9W10sIHRlbXBsYXRlPW51bGwpIHtcbiAgICByZXR1cm4gYnVpbGRTdGF0ZW1lbnQoJ2NvbXBvbmVudCcsIHBhdGgsIGF0dHJzLCB0ZW1wbGF0ZSk7XG4gIH0sXG5cbiAgZ2V0KHBhdGgsIGxvYykge1xuICAgIHJldHVybiBidWlsZFN0YXRlbWVudCgnZ2V0JywgcGF0aCwgc2xvYyguLi5sb2MpKTtcbiAgfSxcblxuICBjb25jYXQoLi4uYXJncykge1xuICAgIHJldHVybiBidWlsZFN0YXRlbWVudCgnY29uY2F0JywgYXJncyk7XG4gIH0sXG5cbiAgc3ViZXhwcihuYW1lLCBwYXJhbXM9W10sIGhhc2g9W10sIGxvYz1udWxsKSB7XG4gICAgcmV0dXJuIGJ1aWxkU3RhdGVtZW50KCdzdWJleHByJywgbmFtZSwgcGFyYW1zLCBoYXNoLCBzbG9jKC4uLmxvYykpO1xuICB9XG59O1xuXG5cblFVbml0Lm1vZHVsZShgQ29tcGlsaW5nIDxteS1jb21wb25lbnQ+IHdpdGggaXNTdGF0aWMgcGx1Z2luOiA8bXktY29tcG9uZW50IC8+YCk7XG5cbnRlc3QoXCJpc1N0YXRpYyBza2lwcyBib3VuZGFyeSBub2Rlc1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIGFzdCA9IHByZXByb2Nlc3MoJzxteS1jb21wb25lbnQgLz4nKTtcbiAgYXN0LmJvZHlbMF0uaXNTdGF0aWMgPSB0cnVlO1xuICB2YXIgY29tcGlsZXIxID0gbmV3IEh5ZHJhdGlvbk9wY29kZUNvbXBpbGVyKCk7XG4gIGNvbXBpbGVyMS5jb21waWxlKGFzdCk7XG4gIGVxdWFsT3Bjb2Rlcyhjb21waWxlcjEub3Bjb2RlcywgW1xuICAgIFsnY3JlYXRlTW9ycGgnLFswLFtdLDAsMCx0cnVlXV0sXG4gICAgWydwcmVwYXJlT2JqZWN0JyxbMF1dLFxuICAgIFsncHVzaExpdGVyYWwnLFsnbXktY29tcG9uZW50J11dLFxuICAgIFsncHJpbnRDb21wb25lbnRIb29rJyxbMCwwLFsnbG9jJyxbbnVsbCxbMSwwXSxbMSwxNl1dXV1dXG4gIF0pO1xufSk7XG5cbnRlc3RDb21waWxlKFwic2ltcGxlIGV4YW1wbGVcIiwgXCI8ZGl2Pnt7Zm9vfX0gYmFyIHt7YmF6fX08L2Rpdj5cIiwgW1xuICBbIFwiY29uc3VtZVBhcmVudFwiLCBbIDAgXSBdLFxuICBbIFwic2hhcmVFbGVtZW50XCIsIFsgMCBdIF0sXG4gIFsgXCJjcmVhdGVNb3JwaFwiLCBbIDAsIFsgMCBdLCAwLCAwLCB0cnVlIF0gXSxcbiAgWyBcImNyZWF0ZU1vcnBoXCIsIFsgMSwgWyAwIF0sIDIsIDIsIHRydWUgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcImZvb1wiIF0gXSxcbiAgWyBcInByaW50Q29udGVudEhvb2tcIiwgWyBsb2MoNSwgMTIpIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJiYXpcIiBdIF0sXG4gIFsgXCJwcmludENvbnRlbnRIb29rXCIsIFsgbG9jKDE3LCAyNCkgXSBdLFxuICBbIFwicG9wUGFyZW50XCIsIFtdIF1cbl0sIFtcbiAgcy5jb250ZW50KCdmb28nLCBbIDUsIDEyIF0pLFxuICBzLmNvbnRlbnQoJ2JheicsIFsgMTcsIDI0IF0pXG5dKTtcblxudGVzdENvbXBpbGUoXCJzaW1wbGUgYmxvY2tcIiwgXCI8ZGl2Pnt7I2Zvb319e3svZm9vfX08L2Rpdj5cIiwgW1xuICBbIFwiY29uc3VtZVBhcmVudFwiLCBbIDAgXSBdLFxuICBbIFwiY3JlYXRlTW9ycGhcIiwgWyAwLCBbIDAgXSwgMCwgMCwgdHJ1ZSBdIF0sXG4gIFsgXCJwcmVwYXJlT2JqZWN0XCIsIFsgMCBdIF0sXG4gIFsgXCJwcmVwYXJlQXJyYXlcIiwgWyAwIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJmb29cIiBdIF0sXG4gIFsgXCJwcmludEJsb2NrSG9va1wiLCBbIDAsIG51bGwsIGxvYyg1LCAyMSkgXSBdLFxuICBbIFwicG9wUGFyZW50XCIsIFtdIF1cbl0sIFtcbiAgcy5ibG9jaygnZm9vJywgWyA1LCAyMSBdLCAwKVxuXSwgW10pO1xuXG50ZXN0Q29tcGlsZShcInNpbXBsZSBibG9jayB3aXRoIGJsb2NrIHBhcmFtc1wiLCBcIjxkaXY+e3sjZm9vIGFzIHxiYXIgYmF6fH19e3svZm9vfX08L2Rpdj5cIiwgW1xuICBbIFwiY29uc3VtZVBhcmVudFwiLCBbIDAgXSBdLFxuICBbIFwiY3JlYXRlTW9ycGhcIiwgWyAwLCBbIDAgXSwgMCwgMCwgdHJ1ZSBdIF0sXG4gIFsgXCJwcmVwYXJlT2JqZWN0XCIsIFsgMCBdIF0sXG4gIFsgXCJwcmVwYXJlQXJyYXlcIiwgWyAwIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJmb29cIiBdIF0sXG4gIFsgXCJwcmludEJsb2NrSG9va1wiLCBbIDAsIG51bGwsIGxvYyg1LCAzNCkgXSBdLFxuICBbIFwicG9wUGFyZW50XCIsIFtdIF1cbl0sIFtcbiAgcy5ibG9jaygnZm9vJywgWzUsIDM0XSwgMClcbl0sIFtdKTtcblxudGVzdENvbXBpbGUoXCJlbGVtZW50IHdpdGggYSBzb2xlIG11c3RhY2hlIGNoaWxkXCIsIFwiPGRpdj57e2Zvb319PC9kaXY+XCIsIFtcbiAgWyBcImNvbnN1bWVQYXJlbnRcIiwgWyAwIF0gXSxcbiAgWyBcImNyZWF0ZU1vcnBoXCIsIFsgMCwgWyAwIF0sIDAsIDAsIHRydWUgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcImZvb1wiIF0gXSxcbiAgWyBcInByaW50Q29udGVudEhvb2tcIixbIGxvYyg1LCAxMikgXSBdLFxuICBbIFwicG9wUGFyZW50XCIsIFtdIF1cbl0sIFtcbiAgcy5jb250ZW50KCdmb28nLCBbNSwgMTJdKVxuXSk7XG5cbnRlc3RDb21waWxlKFwiZWxlbWVudCB3aXRoIGEgbXVzdGFjaGUgYmV0d2VlbiB0d28gdGV4dCBub2Rlc1wiLCBcIjxkaXY+IHt7Zm9vfX0gPC9kaXY+XCIsIFtcbiAgWyBcImNvbnN1bWVQYXJlbnRcIiwgWyAwIF0gXSxcbiAgWyBcImNyZWF0ZU1vcnBoXCIsIFsgMCwgWyAwIF0sIDEsIDEsIHRydWUgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcImZvb1wiIF0gXSxcbiAgWyBcInByaW50Q29udGVudEhvb2tcIiwgWyBsb2MoNiwgMTMpIF0gXSxcbiAgWyBcInBvcFBhcmVudFwiLCBbXSBdXG5dLCBbXG4gIHMuY29udGVudCgnZm9vJywgWzYsIDEzXSlcbl0pO1xuXG50ZXN0Q29tcGlsZShcIm11c3RhY2hlIHR3byBlbGVtZW50cyBkZWVwXCIsIFwiPGRpdj48ZGl2Pnt7Zm9vfX08L2Rpdj48L2Rpdj5cIiwgW1xuICBbIFwiY29uc3VtZVBhcmVudFwiLCBbIDAgXSBdLFxuICBbIFwiY29uc3VtZVBhcmVudFwiLCBbIDAgXSBdLFxuICBbIFwiY3JlYXRlTW9ycGhcIiwgWyAwLCBbIDAsIDAgXSwgMCwgMCwgdHJ1ZSBdIF0sXG4gIFsgXCJwdXNoTGl0ZXJhbFwiLCBbIFwiZm9vXCIgXSBdLFxuICBbIFwicHJpbnRDb250ZW50SG9va1wiLCBbIGxvYygxMCwgMTcpIF0gXSxcbiAgWyBcInBvcFBhcmVudFwiLCBbXSBdLFxuICBbIFwicG9wUGFyZW50XCIsIFtdIF1cbl0sIFtcbiAgcy5jb250ZW50KCdmb28nLCBbMTAsIDE3XSlcbl0pO1xuXG50ZXN0Q29tcGlsZShcInR3byBzaWJsaW5nIGVsZW1lbnRzIHdpdGggbXVzdGFjaGVzXCIsIFwiPGRpdj57e2Zvb319PC9kaXY+PGRpdj57e2Jhcn19PC9kaXY+XCIsIFtcbiAgWyBcImNvbnN1bWVQYXJlbnRcIiwgWyAwIF0gXSxcbiAgWyBcImNyZWF0ZU1vcnBoXCIsIFsgMCwgWyAwIF0sIDAsIDAsIHRydWUgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcImZvb1wiIF0gXSxcbiAgWyBcInByaW50Q29udGVudEhvb2tcIiwgWyBsb2MoNSwgMTIpIF0gXSxcbiAgWyBcInBvcFBhcmVudFwiLCBbXSBdLFxuICBbIFwiY29uc3VtZVBhcmVudFwiLCBbIDEgXSBdLFxuICBbIFwiY3JlYXRlTW9ycGhcIiwgWyAxLCBbIDEgXSwgMCwgMCwgdHJ1ZSBdIF0sXG4gIFsgXCJwdXNoTGl0ZXJhbFwiLCBbIFwiYmFyXCIgXSBdLFxuICBbIFwicHJpbnRDb250ZW50SG9va1wiLCBbIGxvYygyMywgMzApIF0gXSxcbiAgWyBcInBvcFBhcmVudFwiLCBbXSBdXG5dLCBbXG4gIHMuY29udGVudCgnZm9vJywgWzUsIDEyXSksXG4gIHMuY29udGVudCgnYmFyJywgWzIzLCAzMF0pXG5dKTtcblxudGVzdENvbXBpbGUoXCJtdXN0YWNoZXMgYXQgdGhlIHJvb3RcIiwgXCJ7e2Zvb319IHt7YmFyfX1cIiwgW1xuICBbIFwiY3JlYXRlTW9ycGhcIiwgWyAwLCBbIF0sIDAsIDAsIHRydWUgXSBdLFxuICBbIFwiY3JlYXRlTW9ycGhcIiwgWyAxLCBbIF0sIDIsIDIsIHRydWUgXSBdLFxuICBbIFwib3BlbkJvdW5kYXJ5XCIsIFsgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcImZvb1wiIF0gXSxcbiAgWyBcInByaW50Q29udGVudEhvb2tcIiwgWyBsb2MoMCwgNykgXSBdLFxuICBbIFwiY2xvc2VCb3VuZGFyeVwiLCBbIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJiYXJcIiBdIF0sXG4gIFsgXCJwcmludENvbnRlbnRIb29rXCIsIFsgbG9jKDgsIDE1KSBdIF1cbl0sIFtcbiAgcy5jb250ZW50KCdmb28nLCBbMCwgN10pLFxuICBzLmNvbnRlbnQoJ2JhcicsIFs4LCAxNV0pXG5dKTtcblxudGVzdENvbXBpbGUoXCJiYWNrIHRvIGJhY2sgbXVzdGFjaGVzIHNob3VsZCBoYXZlIGEgdGV4dCBub2RlIGluc2VydGVkIGJldHdlZW4gdGhlbVwiLCBcIjxkaXY+e3tmb299fXt7YmFyfX17e2Jhen19d2F0e3txdXh9fTwvZGl2PlwiLCBbXG4gIFsgXCJjb25zdW1lUGFyZW50XCIsIFsgMCBdIF0sXG4gIFsgXCJzaGFyZUVsZW1lbnRcIiwgWyAwIF0gXSxcbiAgWyBcImNyZWF0ZU1vcnBoXCIsIFsgMCwgWzBdLCAwLCAwLCB0cnVlIF0gXSxcbiAgWyBcImNyZWF0ZU1vcnBoXCIsIFsgMSwgWzBdLCAxLCAxLCB0cnVlIF0gXSxcbiAgWyBcImNyZWF0ZU1vcnBoXCIsIFsgMiwgWzBdLCAyLCAyLCB0cnVlIF0gXSxcbiAgWyBcImNyZWF0ZU1vcnBoXCIsIFsgMywgWzBdLCA0LCA0LCB0cnVlXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcImZvb1wiIF0gXSxcbiAgWyBcInByaW50Q29udGVudEhvb2tcIiwgWyBsb2MoNSwgMTIpIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJiYXJcIiBdIF0sXG4gIFsgXCJwcmludENvbnRlbnRIb29rXCIsIFsgbG9jKDEyLCAxOSkgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcImJhelwiIF0gXSxcbiAgWyBcInByaW50Q29udGVudEhvb2tcIiwgWyBsb2MoMTksIDI2KSBdIF0sXG4gIFsgXCJwdXNoTGl0ZXJhbFwiLCBbIFwicXV4XCIgXSBdLFxuICBbIFwicHJpbnRDb250ZW50SG9va1wiLCBbIGxvYygyOSwgMzYpIF0gXSxcbiAgWyBcInBvcFBhcmVudFwiLCBbXSBdXG5dLCBbXG4gIHMuY29udGVudCgnZm9vJywgWzUsIDEyXSksXG4gIHMuY29udGVudCgnYmFyJywgWzEyLCAxOV0pLFxuICBzLmNvbnRlbnQoJ2JheicsIFsxOSwgMjZdKSxcbiAgcy5jb250ZW50KCdxdXgnLCBbMjksIDM2XSlcbl0pO1xuXG50ZXN0Q29tcGlsZShcImhlbHBlciB1c2FnZVwiLCBcIjxkaXY+e3tmb28gJ2JhcicgYmF6LmJhdCB0cnVlIDMuMTR9fTwvZGl2PlwiLCBbXG4gIFsgXCJjb25zdW1lUGFyZW50XCIsIFsgMCBdIF0sXG4gIFsgXCJjcmVhdGVNb3JwaFwiLCBbIDAsIFswXSwgMCwgMCwgdHJ1ZSBdIF0sXG4gIFsgXCJwcmVwYXJlT2JqZWN0XCIsIFsgMCBdIF0sXG4gIFsgXCJwdXNoTGl0ZXJhbFwiLCBbIDMuMTQgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyB0cnVlIF0gXSxcbiAgWyBcInB1c2hHZXRIb29rXCIsIFsgXCJiYXouYmF0XCIsIGxvYygxNywgMjQpIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJiYXJcIiBdIF0sXG4gIFsgXCJwcmVwYXJlQXJyYXlcIiwgWyA0IF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJmb29cIiBdIF0sXG4gIFsgXCJwcmludElubGluZUhvb2tcIiwgWyBsb2MoNSwgMzYpIF0gXSxcbiAgWyBcInBvcFBhcmVudFwiLCBbXSBdXG5dLCBbXG4gIHMuaW5saW5lKCdmb28nLCBbICdiYXInLCBzLmdldCgnYmF6LmJhdCcsIFsxNywgMjRdKSwgdHJ1ZSwgMy4xNCBdLCBbXSwgWzUsIDM2XSlcbl0pO1xuXG50ZXN0Q29tcGlsZShcIm5vZGUgbXVzdGFjaGVcIiwgXCI8ZGl2IHt7Zm9vfX0+PC9kaXY+XCIsIFtcbiAgWyBcImNvbnN1bWVQYXJlbnRcIiwgWyAwIF0gXSxcbiAgWyBcInByZXBhcmVPYmplY3RcIiwgWyAwIF0gXSxcbiAgWyBcInByZXBhcmVBcnJheVwiLCBbIDAgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcImZvb1wiIF0gXSxcbiAgWyBcInNoYXJlRWxlbWVudFwiLCBbIDAgXSBdLFxuICBbIFwiY3JlYXRlRWxlbWVudE1vcnBoXCIsIFsgMCwgMCBdIF0sXG4gIFsgXCJwcmludEVsZW1lbnRIb29rXCIsIFsgbG9jKDUsIDEyKSBdIF0sXG4gIFsgXCJwb3BQYXJlbnRcIiwgW10gXVxuXSwgW1xuICBzLmVsZW1lbnQoJ2ZvbycsIFtdLCBbXSwgWyA1LCAxMiBdKVxuXSk7XG5cbnRlc3RDb21waWxlKFwibm9kZSBoZWxwZXJcIiwgXCI8ZGl2IHt7Zm9vICdiYXInfX0+PC9kaXY+XCIsIFtcbiAgWyBcImNvbnN1bWVQYXJlbnRcIiwgWyAwIF0gXSxcbiAgWyBcInByZXBhcmVPYmplY3RcIiwgWyAwIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJiYXJcIiBdIF0sXG4gIFsgXCJwcmVwYXJlQXJyYXlcIiwgWyAxIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJmb29cIiBdIF0sXG4gIFsgXCJzaGFyZUVsZW1lbnRcIiwgWyAwIF0gXSxcbiAgWyBcImNyZWF0ZUVsZW1lbnRNb3JwaFwiLCBbIDAsIDAgXSBdLFxuICBbIFwicHJpbnRFbGVtZW50SG9va1wiLCBbIGxvYyg1LCAxOCkgXSBdLFxuICBbIFwicG9wUGFyZW50XCIsIFtdIF1cbl0sIFtcbiAgcy5lbGVtZW50KCdmb28nLCBbJ2JhciddLCBbXSwgWzUsIDE4XSlcbl0pO1xuXG50ZXN0Q29tcGlsZShcImF0dHJpYnV0ZSBtdXN0YWNoZVwiLCBcIjxkaXYgY2xhc3M9J2JlZm9yZSB7e2Zvb319IGFmdGVyJz48L2Rpdj5cIiwgW1xuICBbIFwiY29uc3VtZVBhcmVudFwiLCBbIDAgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcIiBhZnRlclwiIF0gXSxcbiAgWyBcInB1c2hHZXRIb29rXCIsIFsgXCJmb29cIiwgbG9jKDIxLCAyNCkgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcImJlZm9yZSBcIiBdIF0sXG4gIFsgXCJwcmVwYXJlQXJyYXlcIiwgWyAzIF0gXSxcbiAgWyBcInB1c2hDb25jYXRIb29rXCIsIFsgMCBdIF0sXG4gIFsgXCJwdXNoTGl0ZXJhbFwiLCBbIFwiY2xhc3NcIiBdIF0sXG4gIFsgXCJzaGFyZUVsZW1lbnRcIiwgWyAwIF0gXSxcbiAgWyBcImNyZWF0ZUF0dHJNb3JwaFwiLCBbIDAsIDAsIFwiY2xhc3NcIiwgdHJ1ZSwgbnVsbCBdIF0sXG4gIFsgXCJwcmludEF0dHJpYnV0ZUhvb2tcIiwgWyBdIF0sXG4gIFsgXCJwb3BQYXJlbnRcIiwgW10gXVxuXSwgW1xuICBzLmF0dHJpYnV0ZSgnY2xhc3MnLCBzLmNvbmNhdCgnYmVmb3JlICcsIHMuZ2V0KCdmb28nLCBbIDIxLCAyNCBdKSwgJyBhZnRlcicpKVxuXSk7XG5cbnRlc3RDb21waWxlKFwicXVvdGVkIGF0dHJpYnV0ZSBtdXN0YWNoZVwiLCBcIjxkaXYgY2xhc3M9J3t7Zm9vfX0nPjwvZGl2PlwiLCBbXG4gIFsgXCJjb25zdW1lUGFyZW50XCIsIFsgMCBdIF0sXG4gIFsgXCJwdXNoR2V0SG9va1wiLCBbIFwiZm9vXCIsIGxvYygxNCwgMTcpIF0gXSxcbiAgWyBcInByZXBhcmVBcnJheVwiLCBbIDEgXSBdLFxuICBbIFwicHVzaENvbmNhdEhvb2tcIiwgWyAwIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJjbGFzc1wiIF0gXSxcbiAgWyBcInNoYXJlRWxlbWVudFwiLCBbIDAgXSBdLFxuICBbIFwiY3JlYXRlQXR0ck1vcnBoXCIsIFsgMCwgMCwgXCJjbGFzc1wiLCB0cnVlLCBudWxsIF0gXSxcbiAgWyBcInByaW50QXR0cmlidXRlSG9va1wiLCBbIF0gXSxcbiAgWyBcInBvcFBhcmVudFwiLCBbXSBdXG5dLCBbXG4gIHMuYXR0cmlidXRlKCdjbGFzcycsIHMuY29uY2F0KHMuZ2V0KCdmb28nLCBbIDE0LCAxNyBdKSkpXG5dKTtcblxudGVzdENvbXBpbGUoXCJzYWZlIGJhcmUgYXR0cmlidXRlIG11c3RhY2hlXCIsIFwiPGRpdiBjbGFzcz17e2Zvb319PjwvZGl2PlwiLCBbXG4gIFsgXCJjb25zdW1lUGFyZW50XCIsIFsgMCBdIF0sXG4gIFsgXCJwdXNoR2V0SG9va1wiLCBbIFwiZm9vXCIsIGxvYygxMywgMTYpIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJjbGFzc1wiIF0gXSxcbiAgWyBcInNoYXJlRWxlbWVudFwiLCBbIDAgXSBdLFxuICBbIFwiY3JlYXRlQXR0ck1vcnBoXCIsIFsgMCwgMCwgXCJjbGFzc1wiLCB0cnVlLCBudWxsIF0gXSxcbiAgWyBcInByaW50QXR0cmlidXRlSG9va1wiLCBbIF0gXSxcbiAgWyBcInBvcFBhcmVudFwiLCBbXSBdXG5dLCBbXG4gIHMuYXR0cmlidXRlKCdjbGFzcycsIHMuZ2V0KCdmb28nLCBbIDEzLCAxNiBdKSlcbl0pO1xuXG50ZXN0Q29tcGlsZShcInVuc2FmZSBiYXJlIGF0dHJpYnV0ZSBtdXN0YWNoZVwiLCBcIjxkaXYgY2xhc3M9e3t7Zm9vfX19PjwvZGl2PlwiLCBbXG4gIFsgXCJjb25zdW1lUGFyZW50XCIsIFsgMCBdIF0sXG4gIFsgXCJwdXNoR2V0SG9va1wiLCBbIFwiZm9vXCIsIGxvYygxNCwgMTcpIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJjbGFzc1wiIF0gXSxcbiAgWyBcInNoYXJlRWxlbWVudFwiLCBbIDAgXSBdLFxuICBbIFwiY3JlYXRlQXR0ck1vcnBoXCIsIFsgMCwgMCwgXCJjbGFzc1wiLCBmYWxzZSwgbnVsbCBdIF0sXG4gIFsgXCJwcmludEF0dHJpYnV0ZUhvb2tcIiwgWyBdIF0sXG4gIFsgXCJwb3BQYXJlbnRcIiwgW10gXVxuXSwgW1xuICBzLmF0dHJpYnV0ZSgnY2xhc3MnLCBzLmdldCgnZm9vJywgWyAxNCwgMTcgXSkpXG5dKTtcblxudGVzdENvbXBpbGUoXCJhdHRyaWJ1dGUgaGVscGVyXCIsIFwiPGRpdiBjbGFzcz0nYmVmb3JlIHt7Zm9vICdiYXInfX0gYWZ0ZXInPjwvZGl2PlwiLCBbXG4gIFsgXCJjb25zdW1lUGFyZW50XCIsIFsgMCBdIF0sXG4gIFsgXCJwdXNoTGl0ZXJhbFwiLCBbIFwiIGFmdGVyXCIgXSBdLFxuICBbIFwicHJlcGFyZU9iamVjdFwiLCBbIDAgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcImJhclwiIF0gXSxcbiAgWyBcInByZXBhcmVBcnJheVwiLCBbIDEgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcImZvb1wiIF0gXSxcbiAgWyBcInB1c2hTZXhwckhvb2tcIiwgWyBsb2MoMTksIDMyKSBdIF0sXG4gIFsgXCJwdXNoTGl0ZXJhbFwiLCBbIFwiYmVmb3JlIFwiIF0gXSxcbiAgWyBcInByZXBhcmVBcnJheVwiLCBbIDMgXSBdLFxuICBbIFwicHVzaENvbmNhdEhvb2tcIiwgWyAwIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJjbGFzc1wiIF0gXSxcbiAgWyBcInNoYXJlRWxlbWVudFwiLCBbIDAgXSBdLFxuICBbIFwiY3JlYXRlQXR0ck1vcnBoXCIsIFsgMCwgMCwgXCJjbGFzc1wiLCB0cnVlLCBudWxsIF0gXSxcbiAgWyBcInByaW50QXR0cmlidXRlSG9va1wiLCBbIF0gXSxcbiAgWyBcInBvcFBhcmVudFwiLCBbXSBdXG5dLCBbXG4gIHMuYXR0cmlidXRlKCdjbGFzcycsIHMuY29uY2F0KCdiZWZvcmUgJywgcy5zdWJleHByKCdmb28nLCBbICdiYXInIF0sIFtdLCBbMTksIDMyXSksICcgYWZ0ZXInKSlcbl0pO1xuXG50ZXN0Q29tcGlsZShcImF0dHJpYnV0ZSBoZWxwZXJzXCIsIFwiPGRpdiBjbGFzcz0nYmVmb3JlIHt7Zm9vICdiYXInfX0gYWZ0ZXInIGlkPXt7YmFyZX19PjwvZGl2Pnt7bW9ycGhUaGluZ319PHNwYW4gY2xhc3M9J3t7b2hNeX19Jz48L3NwYW4+XCIsIFtcbiAgWyBcImNvbnN1bWVQYXJlbnRcIiwgWyAwIF0gXSxcbiAgWyBcInNoYXJlRWxlbWVudFwiLCBbIDAgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcIiBhZnRlclwiIF0gXSxcbiAgWyBcInByZXBhcmVPYmplY3RcIiwgWyAwIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJiYXJcIiBdIF0sXG4gIFsgXCJwcmVwYXJlQXJyYXlcIiwgWyAxIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJmb29cIiBdIF0sXG4gIFsgXCJwdXNoU2V4cHJIb29rXCIsIFsgbG9jKDE5LCAzMikgXSBdLFxuICBbIFwicHVzaExpdGVyYWxcIiwgWyBcImJlZm9yZSBcIiBdIF0sXG4gIFsgXCJwcmVwYXJlQXJyYXlcIiwgWyAzIF0gXSxcbiAgWyBcInB1c2hDb25jYXRIb29rXCIsIFsgMCBdIF0sXG4gIFsgXCJwdXNoTGl0ZXJhbFwiLCBbIFwiY2xhc3NcIiBdIF0sXG4gIFsgXCJjcmVhdGVBdHRyTW9ycGhcIiwgWyAwLCAwLCBcImNsYXNzXCIsIHRydWUsIG51bGwgXSBdLFxuICBbIFwicHJpbnRBdHRyaWJ1dGVIb29rXCIsIFsgXSBdLFxuICBbIFwicHVzaEdldEhvb2tcIiwgWyAnYmFyZScsIGxvYyg0NSwgNDkpIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgJ2lkJyBdIF0sXG4gIFsgXCJjcmVhdGVBdHRyTW9ycGhcIiwgWyAxLCAwLCAnaWQnLCB0cnVlLCBudWxsIF0gXSxcbiAgWyBcInByaW50QXR0cmlidXRlSG9va1wiLCBbIF0gXSxcbiAgWyBcInBvcFBhcmVudFwiLCBbXSBdLFxuICBbIFwiY3JlYXRlTW9ycGhcIiwgWyAyLCBbXSwgMSwgMSwgdHJ1ZSBdIF0sXG4gIFsgXCJwdXNoTGl0ZXJhbFwiLCBbICdtb3JwaFRoaW5nJyBdIF0sXG4gIFsgXCJwcmludENvbnRlbnRIb29rXCIsIFsgbG9jKDU4LCA3MikgXSBdLFxuICBbIFwiY29uc3VtZVBhcmVudFwiLCBbIDIgXSBdLFxuICBbIFwicHVzaEdldEhvb2tcIiwgWyAnb2hNeScsIGxvYyg4NywgOTEpIF0gXSxcbiAgWyBcInByZXBhcmVBcnJheVwiLCBbIDEgXSBdLFxuICBbIFwicHVzaENvbmNhdEhvb2tcIiwgWyAzIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgJ2NsYXNzJyBdIF0sXG4gIFsgXCJzaGFyZUVsZW1lbnRcIiwgWyAxIF0gXSxcbiAgWyBcImNyZWF0ZUF0dHJNb3JwaFwiLCBbIDMsIDEsICdjbGFzcycsIHRydWUsIG51bGwgXSBdLFxuICBbIFwicHJpbnRBdHRyaWJ1dGVIb29rXCIsIFsgXSBdLFxuICBbIFwicG9wUGFyZW50XCIsIFtdIF1cbl0sIFtcbiAgcy5hdHRyaWJ1dGUoJ2NsYXNzJywgcy5jb25jYXQoJ2JlZm9yZSAnLCBzLnN1YmV4cHIoJ2ZvbycsIFsnYmFyJ10sIFtdLCBbIDE5LCAzMiBdKSwgJyBhZnRlcicpKSxcbiAgcy5hdHRyaWJ1dGUoJ2lkJywgcy5nZXQoJ2JhcmUnLCBbIDQ1LCA0OSBdKSksXG4gIHMuY29udGVudCgnbW9ycGhUaGluZycsIFsgNTgsIDcyIF0pLFxuICBzLmF0dHJpYnV0ZSgnY2xhc3MnLCBzLmNvbmNhdChzLmdldCgnb2hNeScsIFsgODcsIDkxIF0pKSlcbl0pO1xuXG50ZXN0Q29tcGlsZSgnY29tcG9uZW50IGhlbHBlcnMnLCBcIjxteS1jb21wb25lbnQ+aGVsbG88L215LWNvbXBvbmVudD5cIiwgW1xuICBbIFwiY3JlYXRlTW9ycGhcIiwgWyAwLCBbIF0sIDAsIDAsIHRydWUgXSBdLFxuICBbIFwib3BlbkJvdW5kYXJ5XCIsIFsgXSBdLFxuICBbIFwiY2xvc2VCb3VuZGFyeVwiLCBbIF0gXSxcbiAgWyBcInByZXBhcmVPYmplY3RcIiwgWyAwIF0gXSxcbiAgWyBcInB1c2hMaXRlcmFsXCIsIFsgXCJteS1jb21wb25lbnRcIiBdIF0sXG4gIFsgXCJwcmludENvbXBvbmVudEhvb2tcIiwgWyAwLCAwLCBsb2MoMCwgMzQpIF0gXVxuXSwgW1xuICBzLmNvbXBvbmVudCgnbXktY29tcG9uZW50JywgW10sIDApXG5dLCBbXSk7XG4iXX0=
define('htmlbars-compiler-tests/hydration-opcode-compiler-test.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests');
  QUnit.test('htmlbars-compiler-tests/hydration-opcode-compiler-test.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/hydration-opcode-compiler-test.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h5ZHJhdGlvbi1vcGNvZGUtY29tcGlsZXItdGVzdC5qc2hpbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQUssQ0FBQyxNQUFNLENBQUMsa0NBQWtDLENBQUMsQ0FBQztBQUNqRCxPQUFLLENBQUMsSUFBSSxDQUFDLDhFQUE4RSxFQUFFLFVBQVMsTUFBTSxFQUFFO0FBQzFHLFVBQU0sQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLCtFQUErRSxDQUFDLENBQUM7R0FDbEcsQ0FBQyxDQUFDIiwiZmlsZSI6Imh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h5ZHJhdGlvbi1vcGNvZGUtY29tcGlsZXItdGVzdC5qc2hpbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJRVW5pdC5tb2R1bGUoJ0pTSGludCAtIGh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzJyk7XG5RVW5pdC50ZXN0KCdodG1sYmFycy1jb21waWxlci10ZXN0cy9oeWRyYXRpb24tb3Bjb2RlLWNvbXBpbGVyLXRlc3QuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL2h5ZHJhdGlvbi1vcGNvZGUtY29tcGlsZXItdGVzdC5qcyBzaG91bGQgcGFzcyBqc2hpbnQuJyk7IFxufSk7XG4iXX0=
define("htmlbars-compiler-tests/template-compiler-test", ["exports", "../htmlbars-compiler/template-compiler", "../htmlbars-syntax/parser"], function (exports, _htmlbarsCompilerTemplateCompiler, _htmlbarsSyntaxParser) {

  QUnit.module("TemplateCompiler");

  function countNamespaceChanges(template) {
    var ast = _htmlbarsSyntaxParser.preprocess(template);
    var compiler = new _htmlbarsCompilerTemplateCompiler.default();
    var program = compiler.compile(ast);
    var matches = program.match(/dom\.setNamespace/g);
    return matches ? matches.length : 0;
  }

  test("it omits unnecessary namespace changes", function () {
    equal(countNamespaceChanges('<div></div>'), 0); // sanity check
    equal(countNamespaceChanges('<div><svg></svg></div><svg></svg>'), 1);
    equal(countNamespaceChanges('<div><svg></svg></div><div></div>'), 2);
    equal(countNamespaceChanges('<div><svg><title>foobar</title></svg></div><svg></svg>'), 1);
    equal(countNamespaceChanges('<div><svg><title><h1>foobar</h1></title></svg></div><svg></svg>'), 3);
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL3RlbXBsYXRlLWNvbXBpbGVyLXRlc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFHQSxPQUFLLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUM7O0FBRWpDLFdBQVMscUJBQXFCLENBQUMsUUFBUSxFQUFFO0FBQ3ZDLFFBQUksR0FBRyxHQUFHLHNCQUxILFVBQVUsQ0FLSSxRQUFRLENBQUMsQ0FBQztBQUMvQixRQUFJLFFBQVEsR0FBRywrQ0FBc0IsQ0FBQztBQUN0QyxRQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3BDLFFBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQztBQUNsRCxXQUFPLE9BQU8sR0FBRyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztHQUNyQzs7QUFFRCxNQUFJLENBQUMsd0NBQXdDLEVBQUUsWUFBWTtBQUN6RCxTQUFLLENBQUMscUJBQXFCLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDL0MsU0FBSyxDQUFDLHFCQUFxQixDQUFDLG1DQUFtQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDckUsU0FBSyxDQUFDLHFCQUFxQixDQUFDLG1DQUFtQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDckUsU0FBSyxDQUFDLHFCQUFxQixDQUFDLHdEQUF3RCxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDMUYsU0FBSyxDQUFDLHFCQUFxQixDQUFDLGlFQUFpRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7R0FDcEcsQ0FBQyxDQUFDIiwiZmlsZSI6Imh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL3RlbXBsYXRlLWNvbXBpbGVyLXRlc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVGVtcGxhdGVDb21waWxlciBmcm9tIFwiLi4vaHRtbGJhcnMtY29tcGlsZXIvdGVtcGxhdGUtY29tcGlsZXJcIjtcbmltcG9ydCB7IHByZXByb2Nlc3MgfSBmcm9tIFwiLi4vaHRtbGJhcnMtc3ludGF4L3BhcnNlclwiO1xuXG5RVW5pdC5tb2R1bGUoXCJUZW1wbGF0ZUNvbXBpbGVyXCIpO1xuXG5mdW5jdGlvbiBjb3VudE5hbWVzcGFjZUNoYW5nZXModGVtcGxhdGUpIHtcbiAgdmFyIGFzdCA9IHByZXByb2Nlc3ModGVtcGxhdGUpO1xuICB2YXIgY29tcGlsZXIgPSBuZXcgVGVtcGxhdGVDb21waWxlcigpO1xuICB2YXIgcHJvZ3JhbSA9IGNvbXBpbGVyLmNvbXBpbGUoYXN0KTtcbiAgdmFyIG1hdGNoZXMgPSBwcm9ncmFtLm1hdGNoKC9kb21cXC5zZXROYW1lc3BhY2UvZyk7XG4gIHJldHVybiBtYXRjaGVzID8gbWF0Y2hlcy5sZW5ndGggOiAwO1xufVxuXG50ZXN0KFwiaXQgb21pdHMgdW5uZWNlc3NhcnkgbmFtZXNwYWNlIGNoYW5nZXNcIiwgZnVuY3Rpb24gKCkge1xuICBlcXVhbChjb3VudE5hbWVzcGFjZUNoYW5nZXMoJzxkaXY+PC9kaXY+JyksIDApOyAgLy8gc2FuaXR5IGNoZWNrXG4gIGVxdWFsKGNvdW50TmFtZXNwYWNlQ2hhbmdlcygnPGRpdj48c3ZnPjwvc3ZnPjwvZGl2Pjxzdmc+PC9zdmc+JyksIDEpO1xuICBlcXVhbChjb3VudE5hbWVzcGFjZUNoYW5nZXMoJzxkaXY+PHN2Zz48L3N2Zz48L2Rpdj48ZGl2PjwvZGl2PicpLCAyKTtcbiAgZXF1YWwoY291bnROYW1lc3BhY2VDaGFuZ2VzKCc8ZGl2Pjxzdmc+PHRpdGxlPmZvb2JhcjwvdGl0bGU+PC9zdmc+PC9kaXY+PHN2Zz48L3N2Zz4nKSwgMSk7XG4gIGVxdWFsKGNvdW50TmFtZXNwYWNlQ2hhbmdlcygnPGRpdj48c3ZnPjx0aXRsZT48aDE+Zm9vYmFyPC9oMT48L3RpdGxlPjwvc3ZnPjwvZGl2Pjxzdmc+PC9zdmc+JyksIDMpO1xufSk7XG4iXX0=
define('htmlbars-compiler-tests/template-compiler-test.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests');
  QUnit.test('htmlbars-compiler-tests/template-compiler-test.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/template-compiler-test.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL3RlbXBsYXRlLWNvbXBpbGVyLXRlc3QuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLGtDQUFrQyxDQUFDLENBQUM7QUFDakQsT0FBSyxDQUFDLElBQUksQ0FBQyxzRUFBc0UsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUNsRyxVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSx1RUFBdUUsQ0FBQyxDQUFDO0dBQzFGLENBQUMsQ0FBQyIsImZpbGUiOiJodG1sYmFycy1jb21waWxlci10ZXN0cy90ZW1wbGF0ZS1jb21waWxlci10ZXN0LmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gaHRtbGJhcnMtY29tcGlsZXItdGVzdHMnKTtcblFVbml0LnRlc3QoJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL3RlbXBsYXRlLWNvbXBpbGVyLXRlc3QuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL3RlbXBsYXRlLWNvbXBpbGVyLXRlc3QuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define("htmlbars-compiler-tests/template-visitor-node-test", ["exports", "../htmlbars-syntax/parser", "../htmlbars-compiler/template-visitor"], function (exports, _htmlbarsSyntaxParser, _htmlbarsCompilerTemplateVisitor) {

  function actionsEqual(input, expectedActions) {
    var ast = _htmlbarsSyntaxParser.preprocess(input);

    var templateVisitor = new _htmlbarsCompilerTemplateVisitor.default();
    templateVisitor.visit(ast);
    var actualActions = templateVisitor.actions;

    // Remove the AST node reference from the actions to keep tests leaner
    for (var i = 0; i < actualActions.length; i++) {
      actualActions[i][1].shift();
    }

    deepEqual(actualActions, expectedActions);
  }

  QUnit.module("TemplateVisitor");

  test("empty", function () {
    var input = "";
    actionsEqual(input, [['startProgram', [0, []]], ['endProgram', [0]]]);
  });

  test("basic", function () {
    var input = "foo{{bar}}<div></div>";
    actionsEqual(input, [['startProgram', [0, []]], ['text', [0, 3]], ['mustache', [1, 3]], ['openElement', [2, 3, 0, []]], ['closeElement', [2, 3]], ['endProgram', [0]]]);
  });

  test("nested HTML", function () {
    var input = "<a></a><a><a><a></a></a></a>";
    actionsEqual(input, [['startProgram', [0, []]], ['openElement', [0, 2, 0, []]], ['closeElement', [0, 2]], ['openElement', [1, 2, 0, []]], ['openElement', [0, 1, 0, []]], ['openElement', [0, 1, 0, []]], ['closeElement', [0, 1]], ['closeElement', [0, 1]], ['closeElement', [1, 2]], ['endProgram', [0]]]);
  });

  test("mustaches are counted correctly", function () {
    var input = "<a><a>{{foo}}</a><a {{foo}}><a>{{foo}}</a><a>{{foo}}</a></a></a>";
    actionsEqual(input, [['startProgram', [0, []]], ['openElement', [0, 1, 2, []]], ['openElement', [0, 2, 1, []]], ['mustache', [0, 1]], ['closeElement', [0, 2]], ['openElement', [1, 2, 3, []]], ['openElement', [0, 2, 1, []]], ['mustache', [0, 1]], ['closeElement', [0, 2]], ['openElement', [1, 2, 1, []]], ['mustache', [0, 1]], ['closeElement', [1, 2]], ['closeElement', [1, 2]], ['closeElement', [0, 1]], ['endProgram', [0]]]);
  });

  test("empty block", function () {
    var input = "{{#a}}{{/a}}";
    actionsEqual(input, [['startProgram', [0, []]], ['endProgram', [1]], ['startProgram', [1, []]], ['block', [0, 1]], ['endProgram', [0]]]);
  });

  test("block with inverse", function () {
    var input = "{{#a}}b{{^}}{{/a}}";
    actionsEqual(input, [['startProgram', [0, []]], ['endProgram', [1]], ['startProgram', [0, []]], ['text', [0, 1]], ['endProgram', [1]], ['startProgram', [2, []]], ['block', [0, 1]], ['endProgram', [0]]]);
  });

  test("nested blocks", function () {
    var input = "{{#a}}{{#a}}<b></b>{{/a}}{{#a}}{{b}}{{/a}}{{/a}}{{#a}}b{{/a}}";
    actionsEqual(input, [['startProgram', [0, []]], ['text', [0, 1]], ['endProgram', [1]], ['startProgram', [0, []]], ['mustache', [0, 1]], ['endProgram', [2]], ['startProgram', [0, []]], ['openElement', [0, 1, 0, []]], ['closeElement', [0, 1]], ['endProgram', [2]], ['startProgram', [2, []]], ['block', [0, 2]], ['block', [1, 2]], ['endProgram', [1]], ['startProgram', [2, []]], ['block', [0, 2]], ['block', [1, 2]], ['endProgram', [0]]]);
  });

  test("component", function () {
    var input = "<x-foo>bar</x-foo>";
    actionsEqual(input, [['startProgram', [0, []]], ['text', [0, 1]], ['endProgram', [1]], ['startProgram', [1, []]], ['component', [0, 1]], ['endProgram', [0]]]);
  });

  test("comment", function () {
    var input = "<!-- some comment -->";
    actionsEqual(input, [['startProgram', [0, []]], ['comment', [0, 1]], ['endProgram', [0]]]);
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL3RlbXBsYXRlLXZpc2l0b3Itbm9kZS10ZXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBR0EsV0FBUyxZQUFZLENBQUMsS0FBSyxFQUFFLGVBQWUsRUFBRTtBQUM1QyxRQUFJLEdBQUcsR0FBRyxzQkFKSCxVQUFVLENBSUksS0FBSyxDQUFDLENBQUM7O0FBRTVCLFFBQUksZUFBZSxHQUFHLDhDQUFxQixDQUFDO0FBQzVDLG1CQUFlLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzNCLFFBQUksYUFBYSxHQUFHLGVBQWUsQ0FBQyxPQUFPLENBQUM7OztBQUc1QyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUM3QyxtQkFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDO0tBQzdCOztBQUVELGFBQVMsQ0FBQyxhQUFhLEVBQUUsZUFBZSxDQUFDLENBQUM7R0FDM0M7O0FBRUQsT0FBSyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDOztBQUVoQyxNQUFJLENBQUMsT0FBTyxFQUFFLFlBQVc7QUFDdkIsUUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDO0FBQ2YsZ0JBQVksQ0FBQyxLQUFLLEVBQUUsQ0FDbEIsQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFDekIsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUNwQixDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7O0FBRUgsTUFBSSxDQUFDLE9BQU8sRUFBRSxZQUFXO0FBQ3ZCLFFBQUksS0FBSyxHQUFHLHVCQUF1QixDQUFDO0FBQ3BDLGdCQUFZLENBQUMsS0FBSyxFQUFFLENBQ2xCLENBQUMsY0FBYyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUs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QixDQUFDLENBQUM7R0FDSixDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvdGVtcGxhdGUtdmlzaXRvci1ub2RlLXRlc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcmVwcm9jZXNzIH0gZnJvbSBcIi4uL2h0bWxiYXJzLXN5bnRheC9wYXJzZXJcIjtcbmltcG9ydCBUZW1wbGF0ZVZpc2l0b3IgZnJvbSBcIi4uL2h0bWxiYXJzLWNvbXBpbGVyL3RlbXBsYXRlLXZpc2l0b3JcIjtcblxuZnVuY3Rpb24gYWN0aW9uc0VxdWFsKGlucHV0LCBleHBlY3RlZEFjdGlvbnMpIHtcbiAgdmFyIGFzdCA9IHByZXByb2Nlc3MoaW5wdXQpO1xuXG4gIHZhciB0ZW1wbGF0ZVZpc2l0b3IgPSBuZXcgVGVtcGxhdGVWaXNpdG9yKCk7XG4gIHRlbXBsYXRlVmlzaXRvci52aXNpdChhc3QpO1xuICB2YXIgYWN0dWFsQWN0aW9ucyA9IHRlbXBsYXRlVmlzaXRvci5hY3Rpb25zO1xuXG4gIC8vIFJlbW92ZSB0aGUgQVNUIG5vZGUgcmVmZXJlbmNlIGZyb20gdGhlIGFjdGlvbnMgdG8ga2VlcCB0ZXN0cyBsZWFuZXJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY3R1YWxBY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgYWN0dWFsQWN0aW9uc1tpXVsxXS5zaGlmdCgpO1xuICB9XG5cbiAgZGVlcEVxdWFsKGFjdHVhbEFjdGlvbnMsIGV4cGVjdGVkQWN0aW9ucyk7XG59XG5cblFVbml0Lm1vZHVsZShcIlRlbXBsYXRlVmlzaXRvclwiKTtcblxudGVzdChcImVtcHR5XCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgaW5wdXQgPSBcIlwiO1xuICBhY3Rpb25zRXF1YWwoaW5wdXQsIFtcbiAgICBbJ3N0YXJ0UHJvZ3JhbScsIFswLCBbXV1dLFxuICAgIFsnZW5kUHJvZ3JhbScsIFswXV1cbiAgXSk7XG59KTtcblxudGVzdChcImJhc2ljXCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgaW5wdXQgPSBcImZvb3t7YmFyfX08ZGl2PjwvZGl2PlwiO1xuICBhY3Rpb25zRXF1YWwoaW5wdXQsIFtcbiAgICBbJ3N0YXJ0UHJvZ3JhbScsIFswLCBbXV1dLFxuICAgIFsndGV4dCcsIFswLCAzXV0sXG4gICAgWydtdXN0YWNoZScsIFsxLCAzXV0sXG4gICAgWydvcGVuRWxlbWVudCcsIFsyLCAzLCAwLCBbXV1dLFxuICAgIFsnY2xvc2VFbGVtZW50JywgWzIsIDNdXSxcbiAgICBbJ2VuZFByb2dyYW0nLCBbMF1dXG4gIF0pO1xufSk7XG5cbnRlc3QoXCJuZXN0ZWQgSFRNTFwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIGlucHV0ID0gXCI8YT48L2E+PGE+PGE+PGE+PC9hPjwvYT48L2E+XCI7XG4gIGFjdGlvbnNFcXVhbChpbnB1dCwgW1xuICAgIFsnc3RhcnRQcm9ncmFtJywgWzAsIFtdXV0sXG4gICAgWydvcGVuRWxlbWVudCcsIFswLCAyLCAwLCBbXV1dLFxuICAgIFsnY2xvc2VFbGVtZW50JywgWzAsIDJdXSxcbiAgICBbJ29wZW5FbGVtZW50JywgWzEsIDIsIDAsIFtdXV0sXG4gICAgWydvcGVuRWxlbWVudCcsIFswLCAxLCAwLCBbXV1dLFxuICAgIFsnb3BlbkVsZW1lbnQnLCBbMCwgMSwgMCwgW11dXSxcbiAgICBbJ2Nsb3NlRWxlbWVudCcsIFswLCAxXV0sXG4gICAgWydjbG9zZUVsZW1lbnQnLCBbMCwgMV1dLFxuICAgIFsnY2xvc2VFbGVtZW50JywgWzEsIDJdXSxcbiAgICBbJ2VuZFByb2dyYW0nLCBbMF1dXG4gIF0pO1xufSk7XG5cbnRlc3QoXCJtdXN0YWNoZXMgYXJlIGNvdW50ZWQgY29ycmVjdGx5XCIsIGZ1bmN0aW9uKCkge1xuICB2YXIgaW5wdXQgPSBcIjxhPjxhPnt7Zm9vfX08L2E+PGEge3tmb299fT48YT57e2Zvb319PC9hPjxhPnt7Zm9vfX08L2E+PC9hPjwvYT5cIjtcbiAgYWN0aW9uc0VxdWFsKGlucHV0LCBbXG4gICAgWydzdGFydFByb2dyYW0nLCBbMCwgW11dXSxcbiAgICBbJ29wZW5FbGVtZW50JywgWzAsIDEsIDIsIFtdXV0sXG4gICAgWydvcGVuRWxlbWVudCcsIFswLCAyLCAxLCBbXV1dLFxuICAgIFsnbXVzdGFjaGUnLCBbMCwgMV1dLFxuICAgIFsnY2xvc2VFbGVtZW50JywgWzAsIDJdXSxcbiAgICBbJ29wZW5FbGVtZW50JywgWzEsIDIsIDMsIFtdXV0sXG4gICAgWydvcGVuRWxlbWVudCcsIFswLCAyLCAxLCBbXV1dLFxuICAgIFsnbXVzdGFjaGUnLCBbMCwgMV1dLFxuICAgIFsnY2xvc2VFbGVtZW50JywgWzAsIDJdXSxcbiAgICBbJ29wZW5FbGVtZW50JywgWzEsIDIsIDEsIFtdXV0sXG4gICAgWydtdXN0YWNoZScsIFswLCAxXV0sXG4gICAgWydjbG9zZUVsZW1lbnQnLCBbMSwgMl1dLFxuICAgIFsnY2xvc2VFbGVtZW50JywgWzEsIDJdXSxcbiAgICBbJ2Nsb3NlRWxlbWVudCcsIFswLCAxXV0sXG4gICAgWydlbmRQcm9ncmFtJywgWzBdXVxuICBdKTtcbn0pO1xuXG50ZXN0KFwiZW1wdHkgYmxvY2tcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBpbnB1dCA9IFwie3sjYX19e3svYX19XCI7XG4gIGFjdGlvbnNFcXVhbChpbnB1dCwgW1xuICAgIFsnc3RhcnRQcm9ncmFtJywgWzAsIFtdXV0sXG4gICAgWydlbmRQcm9ncmFtJywgWzFdXSxcbiAgICBbJ3N0YXJ0UHJvZ3JhbScsIFsxLCBbXV1dLFxuICAgIFsnYmxvY2snLCBbMCwgMV1dLFxuICAgIFsnZW5kUHJvZ3JhbScsIFswXV1cbiAgXSk7XG59KTtcblxudGVzdChcImJsb2NrIHdpdGggaW52ZXJzZVwiLCBmdW5jdGlvbigpIHtcbiAgdmFyIGlucHV0ID0gXCJ7eyNhfX1ie3tefX17ey9hfX1cIjtcbiAgYWN0aW9uc0VxdWFsKGlucHV0LCBbXG4gICAgWydzdGFydFByb2dyYW0nLCBbMCwgW11dXSxcbiAgICBbJ2VuZFByb2dyYW0nLCBbMV1dLFxuICAgIFsnc3RhcnRQcm9ncmFtJywgWzAsIFtdXV0sXG4gICAgWyd0ZXh0JywgWzAsIDFdXSxcbiAgICBbJ2VuZFByb2dyYW0nLCBbMV1dLFxuICAgIFsnc3RhcnRQcm9ncmFtJywgWzIsIFtdXV0sXG4gICAgWydibG9jaycsIFswLCAxXV0sXG4gICAgWydlbmRQcm9ncmFtJywgWzBdXVxuICBdKTtcbn0pO1xuXG50ZXN0KFwibmVzdGVkIGJsb2Nrc1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIGlucHV0ID0gXCJ7eyNhfX17eyNhfX08Yj48L2I+e3svYX19e3sjYX19e3tifX17ey9hfX17ey9hfX17eyNhfX1ie3svYX19XCI7XG4gIGFjdGlvbnNFcXVhbChpbnB1dCwgW1xuICAgIFsnc3RhcnRQcm9ncmFtJywgWzAsIFtdXV0sXG4gICAgWyd0ZXh0JywgWzAsIDFdXSxcbiAgICBbJ2VuZFByb2dyYW0nLCBbMV1dLFxuICAgIFsnc3RhcnRQcm9ncmFtJywgWzAsIFtdXV0sXG4gICAgWydtdXN0YWNoZScsIFswLCAxXV0sXG4gICAgWydlbmRQcm9ncmFtJywgWzJdXSxcbiAgICBbJ3N0YXJ0UHJvZ3JhbScsIFswLCBbXV1dLFxuICAgIFsnb3BlbkVsZW1lbnQnLCBbMCwgMSwgMCwgW11dXSxcbiAgICBbJ2Nsb3NlRWxlbWVudCcsIFswLCAxXV0sXG4gICAgWydlbmRQcm9ncmFtJywgWzJdXSxcbiAgICBbJ3N0YXJ0UHJvZ3JhbScsIFsyLCBbXV1dLFxuICAgIFsnYmxvY2snLCBbMCwgMl1dLFxuICAgIFsnYmxvY2snLCBbMSwgMl1dLFxuICAgIFsnZW5kUHJvZ3JhbScsIFsxXV0sXG4gICAgWydzdGFydFByb2dyYW0nLCBbMiwgW11dXSxcbiAgICBbJ2Jsb2NrJywgWzAsIDJdXSxcbiAgICBbJ2Jsb2NrJywgWzEsIDJdXSxcbiAgICBbJ2VuZFByb2dyYW0nLCBbMF1dXG4gIF0pO1xufSk7XG5cbnRlc3QoXCJjb21wb25lbnRcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBpbnB1dCA9IFwiPHgtZm9vPmJhcjwveC1mb28+XCI7XG4gIGFjdGlvbnNFcXVhbChpbnB1dCwgW1xuICAgIFsnc3RhcnRQcm9ncmFtJywgWzAsIFtdXV0sXG4gICAgWyd0ZXh0JywgWzAsIDFdXSxcbiAgICBbJ2VuZFByb2dyYW0nLCBbMV1dLFxuICAgIFsnc3RhcnRQcm9ncmFtJywgWzEsIFtdXV0sXG4gICAgWydjb21wb25lbnQnLCBbMCwgMV1dLFxuICAgIFsnZW5kUHJvZ3JhbScsIFswXV1cbiAgXSk7XG59KTtcblxudGVzdChcImNvbW1lbnRcIiwgZnVuY3Rpb24oKSB7XG4gIHZhciBpbnB1dCA9IFwiPCEtLSBzb21lIGNvbW1lbnQgLS0+XCI7XG4gIGFjdGlvbnNFcXVhbChpbnB1dCwgW1xuICAgIFsnc3RhcnRQcm9ncmFtJywgWzAsIFtdXV0sXG4gICAgWydjb21tZW50JywgWzAsIDFdXSxcbiAgICBbJ2VuZFByb2dyYW0nLCBbMF1dXG4gIF0pO1xufSk7XG4iXX0=
define('htmlbars-compiler-tests/template-visitor-node-test.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-compiler-tests');
  QUnit.test('htmlbars-compiler-tests/template-visitor-node-test.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-compiler-tests/template-visitor-node-test.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL3RlbXBsYXRlLXZpc2l0b3Itbm9kZS10ZXN0LmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO0FBQ2pELE9BQUssQ0FBQyxJQUFJLENBQUMsMEVBQTBFLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDdEcsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsMkVBQTJFLENBQUMsQ0FBQztHQUM5RixDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvdGVtcGxhdGUtdmlzaXRvci1ub2RlLXRlc3QuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSBodG1sYmFycy1jb21waWxlci10ZXN0cycpO1xuUVVuaXQudGVzdCgnaHRtbGJhcnMtY29tcGlsZXItdGVzdHMvdGVtcGxhdGUtdmlzaXRvci1ub2RlLXRlc3QuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLWNvbXBpbGVyLXRlc3RzL3RlbXBsYXRlLXZpc2l0b3Itbm9kZS10ZXN0LmpzIHNob3VsZCBwYXNzIGpzaGludC4nKTsgXG59KTtcbiJdfQ==
define('htmlbars-runtime', ['exports', './htmlbars-runtime/hooks', './htmlbars-runtime/render', './htmlbars-util/morph-utils', './htmlbars-util/template-utils'], function (exports, _htmlbarsRuntimeHooks, _htmlbarsRuntimeRender, _htmlbarsUtilMorphUtils, _htmlbarsUtilTemplateUtils) {

  var internal = {
    blockFor: _htmlbarsUtilTemplateUtils.blockFor,
    manualElement: _htmlbarsRuntimeRender.manualElement,
    hostBlock: _htmlbarsRuntimeHooks.hostBlock,
    continueBlock: _htmlbarsRuntimeHooks.continueBlock,
    hostYieldWithShadowTemplate: _htmlbarsRuntimeHooks.hostYieldWithShadowTemplate,
    visitChildren: _htmlbarsUtilMorphUtils.visitChildren,
    validateChildMorphs: _htmlbarsUtilMorphUtils.validateChildMorphs,
    clearMorph: _htmlbarsUtilTemplateUtils.clearMorph
  };

  exports.hooks = _htmlbarsRuntimeHooks.default;
  exports.render = _htmlbarsRuntimeRender.default;
  exports.internal = internal;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXJ1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFZQSxNQUFJLFFBQVEsR0FBRztBQUNiLFlBQVEsNkJBVEQsUUFBUSxBQVNHO0FBQ2xCLGlCQUFhLHlCQVpOLGFBQWEsQUFZUTtBQUM1QixhQUFTLHdCQVRULFNBQVMsQUFTVztBQUNwQixpQkFBYSx3QkFUYixhQUFhLEFBU2U7QUFDNUIsK0JBQTJCLHdCQVQzQiwyQkFBMkIsQUFTNkI7QUFDeEQsaUJBQWEsMEJBZmUsYUFBYSxBQWViO0FBQzVCLHVCQUFtQiwwQkFoQlosbUJBQW1CLEFBZ0JjO0FBQ3hDLGNBQVUsNkJBaEJPLFVBQVUsQUFnQkw7R0FDdkIsQ0FBQzs7VUFHQSxLQUFLO1VBQ0wsTUFBTTtVQUNOLFFBQVEsR0FBUixRQUFRIiwiZmlsZSI6Imh0bWxiYXJzLXJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaG9va3MgZnJvbSAnLi9odG1sYmFycy1ydW50aW1lL2hvb2tzJztcbmltcG9ydCByZW5kZXIgZnJvbSAnLi9odG1sYmFycy1ydW50aW1lL3JlbmRlcic7XG5pbXBvcnQgeyBtYW51YWxFbGVtZW50IH0gZnJvbSAnLi9odG1sYmFycy1ydW50aW1lL3JlbmRlcic7XG5pbXBvcnQgeyB2YWxpZGF0ZUNoaWxkTW9ycGhzLCB2aXNpdENoaWxkcmVuIH0gZnJvbSBcIi4vaHRtbGJhcnMtdXRpbC9tb3JwaC11dGlsc1wiO1xuaW1wb3J0IHsgYmxvY2tGb3IsIGNsZWFyTW9ycGggfSBmcm9tIFwiLi9odG1sYmFycy11dGlsL3RlbXBsYXRlLXV0aWxzXCI7XG5pbXBvcnQge1xuICBob3N0QmxvY2ssXG4gIGNvbnRpbnVlQmxvY2ssXG4gIGhvc3RZaWVsZFdpdGhTaGFkb3dUZW1wbGF0ZVxufSBmcm9tICcuL2h0bWxiYXJzLXJ1bnRpbWUvaG9va3MnO1xuXG5cbnZhciBpbnRlcm5hbCA9IHtcbiAgYmxvY2tGb3I6IGJsb2NrRm9yLFxuICBtYW51YWxFbGVtZW50OiBtYW51YWxFbGVtZW50LFxuICBob3N0QmxvY2s6IGhvc3RCbG9jayxcbiAgY29udGludWVCbG9jazogY29udGludWVCbG9jayxcbiAgaG9zdFlpZWxkV2l0aFNoYWRvd1RlbXBsYXRlOiBob3N0WWllbGRXaXRoU2hhZG93VGVtcGxhdGUsXG4gIHZpc2l0Q2hpbGRyZW46IHZpc2l0Q2hpbGRyZW4sXG4gIHZhbGlkYXRlQ2hpbGRNb3JwaHM6IHZhbGlkYXRlQ2hpbGRNb3JwaHMsXG4gIGNsZWFyTW9ycGg6IGNsZWFyTW9ycGhcbn07XG5cbmV4cG9ydCB7XG4gIGhvb2tzLFxuICByZW5kZXIsXG4gIGludGVybmFsXG59O1xuIl19
define('htmlbars-runtime.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - .');
  QUnit.test('htmlbars-runtime.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-runtime.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXJ1bnRpbWUuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQzNCLE9BQUssQ0FBQyxJQUFJLENBQUMsd0NBQXdDLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDcEUsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUseUNBQXlDLENBQUMsQ0FBQztHQUM1RCxDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtcnVudGltZS5qc2hpbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJRVW5pdC5tb2R1bGUoJ0pTSGludCAtIC4nKTtcblFVbml0LnRlc3QoJ2h0bWxiYXJzLXJ1bnRpbWUuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLXJ1bnRpbWUuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define('htmlbars-runtime/expression-visitor', ['exports'], function (exports) {
  exports.acceptParams = acceptParams;
  exports.acceptHash = acceptHash;
  /**
    # Expression Nodes:
  
    These nodes are not directly responsible for any part of the DOM, but are
    eventually passed to a Statement Node.
  
    * get
    * subexpr
    * concat
  */

  function acceptParams(nodes, env, scope) {
    var array = [];

    for (var i = 0, l = nodes.length; i < l; i++) {
      array.push(acceptExpression(nodes[i], env, scope).value);
    }

    return array;
  }

  function acceptHash(pairs, env, scope) {
    var object = {};

    for (var i = 0, l = pairs.length; i < l; i += 2) {
      var key = pairs[i];
      var value = pairs[i + 1];
      object[key] = acceptExpression(value, env, scope).value;
    }

    return object;
  }

  function acceptExpression(node, env, scope) {
    var ret = { value: null };

    // Primitive literals are unambiguously non-array representations of
    // themselves.
    if (Array.isArray(node)) {
      // if (node.length !== 7) { throw new Error('FIXME: Invalid statement length!'); }

      ret.value = evaluateNode(node, env, scope);
    } else {
      ret.value = node;
    }

    return ret;
  }

  function evaluateNode(node, env, scope) {
    switch (node[0]) {
      // can be used by manualElement
      case 'value':
        return node[1];
      case 'get':
        return evaluateGet(node, env, scope);
      case 'subexpr':
        return evaluateSubexpr(node, env, scope);
      case 'concat':
        return evaluateConcat(node, env, scope);
    }
  }

  function evaluateGet(node, env, scope) {
    var path = node[1];

    return env.hooks.get(env, scope, path);
  }

  function evaluateSubexpr(node, env, scope) {
    var path = node[1];
    var rawParams = node[2];
    var rawHash = node[3];

    var params = acceptParams(rawParams, env, scope);
    var hash = acceptHash(rawHash, env, scope);

    return env.hooks.subexpr(env, scope, path, params, hash);
  }

  function evaluateConcat(node, env, scope) {
    var rawParts = node[1];

    var parts = acceptParams(rawParts, env, scope);

    return env.hooks.concat(env, parts);
  }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXJ1bnRpbWUvZXhwcmVzc2lvbi12aXNpdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBV08sV0FBUyxZQUFZLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUU7QUFDOUMsUUFBSSxLQUFLLEdBQUcsRUFBRSxDQUFDOztBQUVmLFNBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDNUMsV0FBSyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQzFEOztBQUVELFdBQU8sS0FBSyxDQUFDO0dBQ2Q7O0FBRU0sV0FBUyxVQUFVLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUU7QUFDNUMsUUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDOztBQUVoQixTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDL0MsVUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25CLFVBQUksS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDLEdBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkIsWUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLGdCQUFnQixDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDO0tBQ3pEOztBQUVELFdBQU8sTUFBTSxDQUFDO0dBQ2Y7O0FBRUQsV0FBUyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRTtBQUMxQyxRQUFJLEdBQUcsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQzs7OztBQUkxQixRQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7OztBQUd2QixTQUFHLENBQUMsS0FBSyxHQUFHLFlBQVksQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQzVDLE1BQU07QUFDTCxTQUFHLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztLQUNsQjs7QUFFRCxXQUFPLEdBQUcsQ0FBQztHQUNaOztBQUVELFdBQVMsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQ3RDLFlBQVEsSUFBSSxDQUFDLENBQUMsQ0FBQzs7QUFFYixXQUFLLE9BQU87QUFBSSxlQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUFBLEFBQy9CLFdBQUssS0FBSztBQUFNLGVBQU8sV0FBVyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFBQSxBQUNyRCxXQUFLLFNBQVM7QUFBRSxlQUFPLGVBQWUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQUEsQUFDekQsV0FBSyxRQUFRO0FBQUcsZUFBTyxjQUFjLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUFBLEtBQ3pEO0dBQ0Y7O0FBRUQsV0FBUyxXQUFXLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUU7UUFDOUIsSUFBSSxHQUFJLElBQUk7O0FBRW5CLFdBQU8sR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztHQUN4Qzs7QUFFRCxXQUFTLGVBQWUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRTtRQUNsQyxJQUFJLEdBQXdCLElBQUk7UUFBMUIsU0FBUyxHQUFhLElBQUk7UUFBZixPQUFPLEdBQUksSUFBSTs7QUFFdkMsUUFBSSxNQUFNLEdBQUcsWUFBWSxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDakQsUUFBSSxJQUFJLEdBQUcsVUFBVSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7O0FBRTNDLFdBQU8sR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0dBQzFEOztBQUVELFdBQVMsY0FBYyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFO1FBQ2pDLFFBQVEsR0FBSSxJQUFJOztBQUV2QixRQUFJLEtBQUssR0FBRyxZQUFZLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQzs7QUFFL0MsV0FBTyxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7R0FDckMiLCJmaWxlIjoiaHRtbGJhcnMtcnVudGltZS9leHByZXNzaW9uLXZpc2l0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAgIyBFeHByZXNzaW9uIE5vZGVzOlxuXG4gIFRoZXNlIG5vZGVzIGFyZSBub3QgZGlyZWN0bHkgcmVzcG9uc2libGUgZm9yIGFueSBwYXJ0IG9mIHRoZSBET00sIGJ1dCBhcmVcbiAgZXZlbnR1YWxseSBwYXNzZWQgdG8gYSBTdGF0ZW1lbnQgTm9kZS5cblxuICAqIGdldFxuICAqIHN1YmV4cHJcbiAgKiBjb25jYXRcbiovXG5cbmV4cG9ydCBmdW5jdGlvbiBhY2NlcHRQYXJhbXMobm9kZXMsIGVudiwgc2NvcGUpIHtcbiAgbGV0IGFycmF5ID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBub2Rlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBhcnJheS5wdXNoKGFjY2VwdEV4cHJlc3Npb24obm9kZXNbaV0sIGVudiwgc2NvcGUpLnZhbHVlKTtcbiAgfVxuXG4gIHJldHVybiBhcnJheTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFjY2VwdEhhc2gocGFpcnMsIGVudiwgc2NvcGUpIHtcbiAgbGV0IG9iamVjdCA9IHt9O1xuXG4gIGZvciAobGV0IGkgPSAwLCBsID0gcGFpcnMubGVuZ3RoOyBpIDwgbDsgaSArPSAyKSB7XG4gICAgbGV0IGtleSA9IHBhaXJzW2ldO1xuICAgIGxldCB2YWx1ZSA9IHBhaXJzW2krMV07XG4gICAgb2JqZWN0W2tleV0gPSBhY2NlcHRFeHByZXNzaW9uKHZhbHVlLCBlbnYsIHNjb3BlKS52YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGFjY2VwdEV4cHJlc3Npb24obm9kZSwgZW52LCBzY29wZSkge1xuICBsZXQgcmV0ID0geyB2YWx1ZTogbnVsbCB9O1xuXG4gIC8vIFByaW1pdGl2ZSBsaXRlcmFscyBhcmUgdW5hbWJpZ3VvdXNseSBub24tYXJyYXkgcmVwcmVzZW50YXRpb25zIG9mXG4gIC8vIHRoZW1zZWx2ZXMuXG4gIGlmIChBcnJheS5pc0FycmF5KG5vZGUpKSB7XG4gICAgLy8gaWYgKG5vZGUubGVuZ3RoICE9PSA3KSB7IHRocm93IG5ldyBFcnJvcignRklYTUU6IEludmFsaWQgc3RhdGVtZW50IGxlbmd0aCEnKTsgfVxuXG4gICAgcmV0LnZhbHVlID0gZXZhbHVhdGVOb2RlKG5vZGUsIGVudiwgc2NvcGUpO1xuICB9IGVsc2Uge1xuICAgIHJldC52YWx1ZSA9IG5vZGU7XG4gIH1cblxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBldmFsdWF0ZU5vZGUobm9kZSwgZW52LCBzY29wZSkge1xuICBzd2l0Y2ggKG5vZGVbMF0pIHtcbiAgICAvLyBjYW4gYmUgdXNlZCBieSBtYW51YWxFbGVtZW50XG4gICAgY2FzZSAndmFsdWUnOiAgIHJldHVybiBub2RlWzFdO1xuICAgIGNhc2UgJ2dldCc6ICAgICByZXR1cm4gZXZhbHVhdGVHZXQobm9kZSwgZW52LCBzY29wZSk7XG4gICAgY2FzZSAnc3ViZXhwcic6IHJldHVybiBldmFsdWF0ZVN1YmV4cHIobm9kZSwgZW52LCBzY29wZSk7XG4gICAgY2FzZSAnY29uY2F0JzogIHJldHVybiBldmFsdWF0ZUNvbmNhdChub2RlLCBlbnYsIHNjb3BlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmFsdWF0ZUdldChub2RlLCBlbnYsIHNjb3BlKSB7XG4gIGxldCBbLCBwYXRoXSA9IG5vZGU7XG5cbiAgcmV0dXJuIGVudi5ob29rcy5nZXQoZW52LCBzY29wZSwgcGF0aCk7XG59XG5cbmZ1bmN0aW9uIGV2YWx1YXRlU3ViZXhwcihub2RlLCBlbnYsIHNjb3BlKSB7XG4gIGxldCBbLCBwYXRoLCByYXdQYXJhbXMsIHJhd0hhc2hdID0gbm9kZTtcblxuICBsZXQgcGFyYW1zID0gYWNjZXB0UGFyYW1zKHJhd1BhcmFtcywgZW52LCBzY29wZSk7XG4gIGxldCBoYXNoID0gYWNjZXB0SGFzaChyYXdIYXNoLCBlbnYsIHNjb3BlKTtcblxuICByZXR1cm4gZW52Lmhvb2tzLnN1YmV4cHIoZW52LCBzY29wZSwgcGF0aCwgcGFyYW1zLCBoYXNoKTtcbn1cblxuZnVuY3Rpb24gZXZhbHVhdGVDb25jYXQobm9kZSwgZW52LCBzY29wZSkge1xuICBsZXQgWywgcmF3UGFydHNdID0gbm9kZTtcblxuICBsZXQgcGFydHMgPSBhY2NlcHRQYXJhbXMocmF3UGFydHMsIGVudiwgc2NvcGUpO1xuXG4gIHJldHVybiBlbnYuaG9va3MuY29uY2F0KGVudiwgcGFydHMpO1xufVxuIl19
define('htmlbars-runtime/expression-visitor.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-runtime');
  QUnit.test('htmlbars-runtime/expression-visitor.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-runtime/expression-visitor.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXJ1bnRpbWUvZXhwcmVzc2lvbi12aXNpdG9yLmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0FBQzFDLE9BQUssQ0FBQyxJQUFJLENBQUMsMkRBQTJELEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDdkYsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsNERBQTRELENBQUMsQ0FBQztHQUMvRSxDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtcnVudGltZS9leHByZXNzaW9uLXZpc2l0b3IuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSBodG1sYmFycy1ydW50aW1lJyk7XG5RVW5pdC50ZXN0KCdodG1sYmFycy1ydW50aW1lL2V4cHJlc3Npb24tdmlzaXRvci5qcyBzaG91bGQgcGFzcyBqc2hpbnQnLCBmdW5jdGlvbihhc3NlcnQpIHsgXG4gIGFzc2VydC5vayh0cnVlLCAnaHRtbGJhcnMtcnVudGltZS9leHByZXNzaW9uLXZpc2l0b3IuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define("htmlbars-runtime/hooks", ["exports", "./render", "../morph-range/morph-list", "../htmlbars-util/object-utils", "../htmlbars-util/morph-utils", "../htmlbars-util/template-utils"], function (exports, _render, _morphRangeMorphList, _htmlbarsUtilObjectUtils, _htmlbarsUtilMorphUtils, _htmlbarsUtilTemplateUtils) {
  exports.wrap = wrap;
  exports.wrapForHelper = wrapForHelper;
  exports.createScope = createScope;
  exports.createFreshScope = createFreshScope;
  exports.bindShadowScope = bindShadowScope;
  exports.createChildScope = createChildScope;
  exports.bindSelf = bindSelf;
  exports.updateSelf = updateSelf;
  exports.bindLocal = bindLocal;
  exports.updateLocal = updateLocal;
  exports.bindBlock = bindBlock;
  exports.block = block;
  exports.continueBlock = continueBlock;
  exports.hostBlock = hostBlock;
  exports.handleRedirect = handleRedirect;
  exports.handleKeyword = handleKeyword;
  exports.linkRenderNode = linkRenderNode;
  exports.inline = inline;
  exports.keyword = keyword;
  exports.invokeHelper = invokeHelper;
  exports.classify = classify;
  exports.partial = partial;
  exports.range = range;
  exports.element = element;
  exports.attribute = attribute;
  exports.subexpr = subexpr;
  exports.get = get;
  exports.getRoot = getRoot;
  exports.getBlock = getBlock;
  exports.getChild = getChild;
  exports.getValue = getValue;
  exports.getCellOrValue = getCellOrValue;
  exports.component = component;
  exports.concat = concat;
  exports.hasHelper = hasHelper;
  exports.lookupHelper = lookupHelper;
  exports.bindScope = bindScope;
  exports.updateScope = updateScope;

  /**
    HTMLBars delegates the runtime behavior of a template to
    hooks provided by the host environment. These hooks explain
    the lexical environment of a Handlebars template, the internal
    representation of references, and the interaction between an
    HTMLBars template and the DOM it is managing.
  
    While HTMLBars host hooks have access to all of this internal
    machinery, templates and helpers have access to the abstraction
    provided by the host hooks.
  
    ## The Lexical Environment
  
    The default lexical environment of an HTMLBars template includes:
  
    * Any local variables, provided by *block arguments*
    * The current value of `self`
  
    ## Simple Nesting
  
    Let's look at a simple template with a nested block:
  
    ```hbs
    <h1>{{title}}</h1>
  
    {{#if author}}
      <p class="byline">{{author}}</p>
    {{/if}}
    ```
  
    In this case, the lexical environment at the top-level of the
    template does not change inside of the `if` block. This is
    achieved via an implementation of `if` that looks like this:
  
    ```js
    registerHelper('if', function(params) {
      if (!!params[0]) {
        return this.yield();
      }
    });
    ```
  
    A call to `this.yield` invokes the child template using the
    current lexical environment.
  
    ## Block Arguments
  
    It is possible for nested blocks to introduce new local
    variables:
  
    ```hbs
    {{#count-calls as |i|}}
    <h1>{{title}}</h1>
    <p>Called {{i}} times</p>
    {{/count}}
    ```
  
    In this example, the child block inherits its surrounding
    lexical environment, but augments it with a single new
    variable binding.
  
    The implementation of `count-calls` supplies the value of
    `i`, but does not otherwise alter the environment:
  
    ```js
    var count = 0;
    registerHelper('count-calls', function() {
      return this.yield([ ++count ]);
    });
    ```
  */

  function wrap(template) {
    if (template === null) {
      return null;
    }

    return {
      meta: template.meta,
      arity: template.arity,
      raw: template,
      render: function (self, env, options, blockArguments) {
        var scope = env.hooks.createFreshScope();

        var contextualElement = options && options.contextualElement;
        var renderOptions = new _render.RenderOptions(null, self, blockArguments, contextualElement);

        return _render.default(template, env, scope, renderOptions);
      }
    };
  }

  function wrapForHelper(template, env, scope, morph, renderState, visitor) {
    if (!template) {
      return {};
    }

    var yieldArgs = yieldTemplate(template, env, scope, morph, renderState, visitor);

    return {
      meta: template.meta,
      arity: template.arity,
      'yield': yieldArgs, // quoted since it's a reserved word, see issue #420
      yieldItem: yieldItem(template, env, scope, morph, renderState, visitor),
      raw: template,

      render: function (self, blockArguments) {
        yieldArgs(blockArguments, self);
      }
    };
  }

  // Called by a user-land helper to render a template.
  function yieldTemplate(template, env, parentScope, morph, renderState, visitor) {
    return function (blockArguments, self) {
      // Render state is used to track the progress of the helper (since it
      // may call into us multiple times). As the user-land helper calls
      // into library code, we track what needs to be cleaned up after the
      // helper has returned.
      //
      // Here, we remember that a template has been yielded and so we do not
      // need to remove the previous template. (If no template is yielded
      // this render by the helper, we assume nothing should be shown and
      // remove any previous rendered templates.)
      renderState.morphToClear = null;

      // In this conditional is true, it means that on the previous rendering pass
      // the helper yielded multiple items via `yieldItem()`, but this time they
      // are yielding a single template. In that case, we mark the morph list for
      // cleanup so it is removed from the DOM.
      if (morph.morphList) {
        _htmlbarsUtilTemplateUtils.clearMorphList(morph.morphList, morph, env);
        renderState.morphListToClear = null;
      }

      var scope = parentScope;

      if (morph.lastYielded && isStableTemplate(template, morph.lastYielded)) {
        return morph.lastResult.revalidateWith(env, undefined, self, blockArguments, visitor);
      }

      // Check to make sure that we actually **need** a new scope, and can't
      // share the parent scope. Note that we need to move this check into
      // a host hook, because the host's notion of scope may require a new
      // scope in more cases than the ones we can determine statically.
      if (self !== undefined || parentScope === null || template.arity) {
        scope = env.hooks.createChildScope(parentScope);
      }

      morph.lastYielded = { self: self, template: template, shadowTemplate: null };

      // Render the template that was selected by the helper
      var renderOptions = new _render.RenderOptions(morph, self, blockArguments);
      _render.default(template, env, scope, renderOptions);
    };
  }

  function yieldItem(template, env, parentScope, morph, renderState, visitor) {
    // Initialize state that tracks multiple items being
    // yielded in.
    var currentMorph = null;

    // Candidate morphs for deletion.
    var candidates = {};

    // Reuse existing MorphList if this is not a first-time
    // render.
    var morphList = morph.morphList;
    if (morphList) {
      currentMorph = morphList.firstChildMorph;
    }

    // Advances the currentMorph pointer to the morph in the previously-rendered
    // list that matches the yielded key. While doing so, it marks any morphs
    // that it advances past as candidates for deletion. Assuming those morphs
    // are not yielded in later, they will be removed in the prune step during
    // cleanup.
    // Note that this helper function assumes that the morph being seeked to is
    // guaranteed to exist in the previous MorphList; if this is called and the
    // morph does not exist, it will result in an infinite loop
    function advanceToKey(key) {
      var seek = currentMorph;

      while (seek.key !== key) {
        candidates[seek.key] = seek;
        seek = seek.nextMorph;
      }

      currentMorph = seek.nextMorph;
      return seek;
    }

    return function (_key, blockArguments, self) {
      if (typeof _key !== 'string') {
        throw new Error("You must provide a string key when calling `yieldItem`; you provided " + _key);
      }

      // At least one item has been yielded, so we do not wholesale
      // clear the last MorphList but instead apply a prune operation.
      renderState.morphListToClear = null;
      morph.lastYielded = null;

      var morphList, morphMap;

      if (!morph.morphList) {
        morph.morphList = new _morphRangeMorphList.default();
        morph.morphMap = {};
        morph.setMorphList(morph.morphList);
      }

      morphList = morph.morphList;
      morphMap = morph.morphMap;

      // A map of morphs that have been yielded in on this
      // rendering pass. Any morphs that do not make it into
      // this list will be pruned from the MorphList during the cleanup
      // process.
      var handledMorphs = renderState.handledMorphs;
      var key = undefined;

      if (_key in handledMorphs) {
        // In this branch we are dealing with a duplicate key. The strategy
        // is to take the original key and append a counter to it that is
        // incremented every time the key is reused. In order to greatly
        // reduce the chance of colliding with another valid key we also add
        // an extra string "--z8mS2hvDW0A--" to the new key.
        var collisions = renderState.collisions;
        if (collisions === undefined) {
          collisions = renderState.collisions = {};
        }
        var count = collisions[_key] | 0;
        collisions[_key] = ++count;

        key = _key + '--z8mS2hvDW0A--' + count;
      } else {
        key = _key;
      }

      if (currentMorph && currentMorph.key === key) {
        yieldTemplate(template, env, parentScope, currentMorph, renderState, visitor)(blockArguments, self);
        currentMorph = currentMorph.nextMorph;
        handledMorphs[key] = currentMorph;
      } else if (morphMap[key] !== undefined) {
        var foundMorph = morphMap[key];

        if (key in candidates) {
          // If we already saw this morph, move it forward to this position
          morphList.insertBeforeMorph(foundMorph, currentMorph);
        } else {
          // Otherwise, move the pointer forward to the existing morph for this key
          advanceToKey(key);
        }

        handledMorphs[foundMorph.key] = foundMorph;
        yieldTemplate(template, env, parentScope, foundMorph, renderState, visitor)(blockArguments, self);
      } else {
        var childMorph = _render.createChildMorph(env.dom, morph);
        childMorph.key = key;
        morphMap[key] = handledMorphs[key] = childMorph;
        morphList.insertBeforeMorph(childMorph, currentMorph);
        yieldTemplate(template, env, parentScope, childMorph, renderState, visitor)(blockArguments, self);
      }

      renderState.morphListToPrune = morphList;
      morph.childNodes = null;
    };
  }

  function isStableTemplate(template, lastYielded) {
    return !lastYielded.shadowTemplate && template === lastYielded.template;
  }
  function optionsFor(template, inverse, env, scope, morph, visitor) {
    // If there was a template yielded last time, set morphToClear so it will be cleared
    // if no template is yielded on this render.
    var morphToClear = morph.lastResult ? morph : null;
    var renderState = new _htmlbarsUtilTemplateUtils.RenderState(morphToClear, morph.morphList || null);

    return {
      templates: {
        template: wrapForHelper(template, env, scope, morph, renderState, visitor),
        inverse: wrapForHelper(inverse, env, scope, morph, renderState, visitor)
      },
      renderState: renderState
    };
  }

  function thisFor(options) {
    return {
      arity: options.template.arity,
      'yield': options.template.yield, // quoted since it's a reserved word, see issue #420
      yieldItem: options.template.yieldItem,
      yieldIn: options.template.yieldIn
    };
  }

  /**
    Host Hook: createScope
  
    @param {Scope?} parentScope
    @return Scope
  
    Corresponds to entering a new HTMLBars block.
  
    This hook is invoked when a block is entered with
    a new `self` or additional local variables.
  
    When invoked for a top-level template, the
    `parentScope` is `null`, and this hook should return
    a fresh Scope.
  
    When invoked for a child template, the `parentScope`
    is the scope for the parent environment.
  
    Note that the `Scope` is an opaque value that is
    passed to other host hooks. For example, the `get`
    hook uses the scope to retrieve a value for a given
    scope and variable name.
  */

  function createScope(env, parentScope) {
    if (parentScope) {
      return env.hooks.createChildScope(parentScope);
    } else {
      return env.hooks.createFreshScope();
    }
  }

  function createFreshScope() {
    // because `in` checks have unpredictable performance, keep a
    // separate dictionary to track whether a local was bound.
    // See `bindLocal` for more information.
    return { self: null, blocks: {}, locals: {}, localPresent: {} };
  }

  /**
    Host Hook: bindShadowScope
  
    @param {Scope?} parentScope
    @return Scope
  
    Corresponds to rendering a new template into an existing
    render tree, but with a new top-level lexical scope. This
    template is called the "shadow root".
  
    If a shadow template invokes `{{yield}}`, it will render
    the block provided to the shadow root in the original
    lexical scope.
  
    ```hbs
    {{!-- post template --}}
    <p>{{props.title}}</p>
    {{yield}}
  
    {{!-- blog template --}}
    {{#post title="Hello world"}}
      <p>by {{byline}}</p>
      <article>This is my first post</article>
    {{/post}}
  
    {{#post title="Goodbye world"}}
      <p>by {{byline}}</p>
      <article>This is my last post</article>
    {{/post}}
    ```
  
    ```js
    helpers.post = function(params, hash, options) {
      options.template.yieldIn(postTemplate, { props: hash });
    };
  
    blog.render({ byline: "Yehuda Katz" });
    ```
  
    Produces:
  
    ```html
    <p>Hello world</p>
    <p>by Yehuda Katz</p>
    <article>This is my first post</article>
  
    <p>Goodbye world</p>
    <p>by Yehuda Katz</p>
    <article>This is my last post</article>
    ```
  
    In short, `yieldIn` creates a new top-level scope for the
    provided template and renders it, making the original block
    available to `{{yield}}` in that template.
  */

  function bindShadowScope(env /*, parentScope, shadowScope */) {
    return env.hooks.createFreshScope();
  }

  function createChildScope(parent) {
    var scope = Object.create(parent);
    scope.locals = Object.create(parent.locals);
    scope.localPresent = Object.create(parent.localPresent);
    scope.blocks = Object.create(parent.blocks);
    return scope;
  }

  /**
    Host Hook: bindSelf
  
    @param {Scope} scope
    @param {any} self
  
    Corresponds to entering a template.
  
    This hook is invoked when the `self` value for a scope is ready to be bound.
  
    The host must ensure that child scopes reflect the change to the `self` in
    future calls to the `get` hook.
  */

  function bindSelf(env, scope, self) {
    scope.self = self;
  }

  function updateSelf(env, scope, self) {
    env.hooks.bindSelf(env, scope, self);
  }

  /**
    Host Hook: bindLocal
  
    @param {Environment} env
    @param {Scope} scope
    @param {String} name
    @param {any} value
  
    Corresponds to entering a template with block arguments.
  
    This hook is invoked when a local variable for a scope has been provided.
  
    The host must ensure that child scopes reflect the change in future calls
    to the `get` hook.
  */

  function bindLocal(env, scope, name, value) {
    scope.localPresent[name] = true;
    scope.locals[name] = value;
  }

  function updateLocal(env, scope, name, value) {
    env.hooks.bindLocal(env, scope, name, value);
  }

  /**
    Host Hook: bindBlock
  
    @param {Environment} env
    @param {Scope} scope
    @param {Function} block
  
    Corresponds to entering a shadow template that was invoked by a block helper with
    `yieldIn`.
  
    This hook is invoked with an opaque block that will be passed along
    to the shadow template, and inserted into the shadow template when
    `{{yield}}` is used. Optionally provide a non-default block name
    that can be targeted by `{{yield to=blockName}}`.
  */

  function bindBlock(env, scope, block) {
    var name = arguments.length <= 3 || arguments[3] === undefined ? 'default' : arguments[3];

    scope.blocks[name] = block;
  }

  /**
    Host Hook: block
  
    @param {RenderNode} renderNode
    @param {Environment} env
    @param {Scope} scope
    @param {String} path
    @param {Array} params
    @param {Object} hash
    @param {Block} block
    @param {Block} elseBlock
  
    Corresponds to:
  
    ```hbs
    {{#helper param1 param2 key1=val1 key2=val2}}
      {{!-- child template --}}
    {{/helper}}
    ```
  
    This host hook is a workhorse of the system. It is invoked
    whenever a block is encountered, and is responsible for
    resolving the helper to call, and then invoke it.
  
    The helper should be invoked with:
  
    - `{Array} params`: the parameters passed to the helper
      in the template.
    - `{Object} hash`: an object containing the keys and values passed
      in the hash position in the template.
  
    The values in `params` and `hash` will already be resolved
    through a previous call to the `get` host hook.
  
    The helper should be invoked with a `this` value that is
    an object with one field:
  
    `{Function} yield`: when invoked, this function executes the
    block with the current scope. It takes an optional array of
    block parameters. If block parameters are supplied, HTMLBars
    will invoke the `bindLocal` host hook to bind the supplied
    values to the block arguments provided by the template.
  
    In general, the default implementation of `block` should work
    for most host environments. It delegates to other host hooks
    where appropriate, and properly invokes the helper with the
    appropriate arguments.
  */

  function block(morph, env, scope, path, params, hash, template, inverse, visitor) {
    if (handleRedirect(morph, env, scope, path, params, hash, template, inverse, visitor)) {
      return;
    }

    continueBlock(morph, env, scope, path, params, hash, template, inverse, visitor);
  }

  function continueBlock(morph, env, scope, path, params, hash, template, inverse, visitor) {
    hostBlock(morph, env, scope, template, inverse, null, visitor, function (options) {
      var helper = env.hooks.lookupHelper(env, scope, path);
      return env.hooks.invokeHelper(morph, env, scope, visitor, params, hash, helper, options.templates, thisFor(options.templates));
    });
  }

  function hostBlock(morph, env, scope, template, inverse, shadowOptions, visitor, callback) {
    var options = optionsFor(template, inverse, env, scope, morph, visitor);
    _htmlbarsUtilTemplateUtils.renderAndCleanup(morph, env, options, shadowOptions, callback);
  }

  function handleRedirect(morph, env, scope, path, params, hash, template, inverse, visitor) {
    if (!path) {
      return false;
    }

    var redirect = env.hooks.classify(env, scope, path);
    if (redirect) {
      switch (redirect) {
        case 'component':
          env.hooks.component(morph, env, scope, path, params, hash, { default: template, inverse: inverse }, visitor);break;
        case 'inline':
          env.hooks.inline(morph, env, scope, path, params, hash, visitor);break;
        case 'block':
          env.hooks.block(morph, env, scope, path, params, hash, template, inverse, visitor);break;
        default:
          throw new Error("Internal HTMLBars redirection to " + redirect + " not supported");
      }
      return true;
    }

    if (handleKeyword(path, morph, env, scope, params, hash, template, inverse, visitor)) {
      return true;
    }

    return false;
  }

  function handleKeyword(path, morph, env, scope, params, hash, template, inverse, visitor) {
    var keyword = env.hooks.keywords[path];
    if (!keyword) {
      return false;
    }

    if (typeof keyword === 'function') {
      return keyword(morph, env, scope, params, hash, template, inverse, visitor);
    }

    if (keyword.willRender) {
      keyword.willRender(morph, env);
    }

    var lastState, newState;
    if (keyword.setupState) {
      lastState = _htmlbarsUtilObjectUtils.shallowCopy(morph.getState());
      newState = morph.setState(keyword.setupState(lastState, env, scope, params, hash));
    }

    if (keyword.childEnv) {
      // Build the child environment...
      env = keyword.childEnv(morph.getState(), env);

      // ..then save off the child env builder on the render node. If the render
      // node tree is re-rendered and this node is not dirty, the child env
      // builder will still be invoked so that child dirty render nodes still get
      // the correct child env.
      morph.buildChildEnv = keyword.childEnv;
    }

    var firstTime = !morph.rendered;

    if (keyword.isEmpty) {
      var isEmpty = keyword.isEmpty(morph.getState(), env, scope, params, hash);

      if (isEmpty) {
        if (!firstTime) {
          _htmlbarsUtilTemplateUtils.clearMorph(morph, env, false);
        }
        return true;
      }
    }

    if (firstTime) {
      if (keyword.render) {
        keyword.render(morph, env, scope, params, hash, template, inverse, visitor);
      }
      morph.rendered = true;
      return true;
    }

    var isStable;
    if (keyword.isStable) {
      isStable = keyword.isStable(lastState, newState);
    } else {
      isStable = stableState(lastState, newState);
    }

    if (isStable) {
      if (keyword.rerender) {
        var newEnv = keyword.rerender(morph, env, scope, params, hash, template, inverse, visitor);
        env = newEnv || env;
      }
      _htmlbarsUtilMorphUtils.validateChildMorphs(env, morph, visitor);
      return true;
    } else {
      _htmlbarsUtilTemplateUtils.clearMorph(morph, env, false);
    }

    // If the node is unstable, re-render from scratch
    if (keyword.render) {
      keyword.render(morph, env, scope, params, hash, template, inverse, visitor);
      morph.rendered = true;
      return true;
    }
  }

  function stableState(oldState, newState) {
    if (_htmlbarsUtilObjectUtils.keyLength(oldState) !== _htmlbarsUtilObjectUtils.keyLength(newState)) {
      return false;
    }

    for (var prop in oldState) {
      if (oldState[prop] !== newState[prop]) {
        return false;
      }
    }

    return true;
  }

  function linkRenderNode() /* morph, env, scope, params, hash */{
    return;
  }

  /**
    Host Hook: inline
  
    @param {RenderNode} renderNode
    @param {Environment} env
    @param {Scope} scope
    @param {String} path
    @param {Array} params
    @param {Hash} hash
  
    Corresponds to:
  
    ```hbs
    {{helper param1 param2 key1=val1 key2=val2}}
    ```
  
    This host hook is similar to the `block` host hook, but it
    invokes helpers that do not supply an attached block.
  
    Like the `block` hook, the helper should be invoked with:
  
    - `{Array} params`: the parameters passed to the helper
      in the template.
    - `{Object} hash`: an object containing the keys and values passed
      in the hash position in the template.
  
    The values in `params` and `hash` will already be resolved
    through a previous call to the `get` host hook.
  
    In general, the default implementation of `inline` should work
    for most host environments. It delegates to other host hooks
    where appropriate, and properly invokes the helper with the
    appropriate arguments.
  
    The default implementation of `inline` also makes `partial`
    a keyword. Instead of invoking a helper named `partial`,
    it invokes the `partial` host hook.
  */

  function inline(morph, env, scope, path, params, hash, visitor) {
    if (handleRedirect(morph, env, scope, path, params, hash, null, null, visitor)) {
      return;
    }

    var value = undefined,
        hasValue = undefined;
    if (morph.linkedResult) {
      value = env.hooks.getValue(morph.linkedResult);
      hasValue = true;
    } else {
      var options = optionsFor(null, null, env, scope, morph);

      var helper = env.hooks.lookupHelper(env, scope, path);
      var result = env.hooks.invokeHelper(morph, env, scope, visitor, params, hash, helper, options.templates, thisFor(options.templates));

      if (result && result.link) {
        morph.linkedResult = result.value;
        _htmlbarsUtilMorphUtils.linkParams(env, scope, morph, '@content-helper', [morph.linkedResult], null);
      }

      if (result && 'value' in result) {
        value = env.hooks.getValue(result.value);
        hasValue = true;
      }
    }

    if (hasValue) {
      if (morph.lastValue !== value) {
        morph.setContent(value);
      }
      morph.lastValue = value;
    }
  }

  function keyword(path, morph, env, scope, params, hash, template, inverse, visitor) {
    handleKeyword(path, morph, env, scope, params, hash, template, inverse, visitor);
  }

  function invokeHelper(morph, env, scope, visitor, _params, _hash, helper, templates, context) {
    var params = normalizeArray(env, _params);
    var hash = normalizeObject(env, _hash);
    return { value: helper.call(context, params, hash, templates) };
  }

  function normalizeArray(env, array) {
    var out = new Array(array.length);

    for (var i = 0, l = array.length; i < l; i++) {
      out[i] = env.hooks.getCellOrValue(array[i]);
    }

    return out;
  }

  function normalizeObject(env, object) {
    var out = {};

    for (var prop in object) {
      out[prop] = env.hooks.getCellOrValue(object[prop]);
    }

    return out;
  }

  function classify() /* env, scope, path */{
    return null;
  }

  var keywords = {
    partial: function (morph, env, scope, params) {
      var value = env.hooks.partial(morph, env, scope, params[0]);
      morph.setContent(value);
      return true;
    },

    // quoted since it's a reserved word, see issue #420
    'yield': function (morph, env, scope, params, hash, template, inverse, visitor) {
      // the current scope is provided purely for the creation of shadow
      // scopes; it should not be provided to user code.

      var to = env.hooks.getValue(hash.to) || 'default';
      var block = env.hooks.getBlock(scope, to);

      if (block) {
        block.invoke(env, params, hash.self, morph, scope, visitor);
      }
      return true;
    },

    hasBlock: function (morph, env, scope, params) {
      var name = env.hooks.getValue(params[0]) || 'default';
      return !!env.hooks.getBlock(scope, name);
    },

    hasBlockParams: function (morph, env, scope, params) {
      var name = env.hooks.getValue(params[0]) || 'default';
      var block = env.hooks.getBlock(scope, name);
      return !!(block && block.arity);
    }

  };

  exports.keywords = keywords;
  /**
    Host Hook: partial
  
    @param {RenderNode} renderNode
    @param {Environment} env
    @param {Scope} scope
    @param {String} path
  
    Corresponds to:
  
    ```hbs
    {{partial "location"}}
    ```
  
    This host hook is invoked by the default implementation of
    the `inline` hook. This makes `partial` a keyword in an
    HTMLBars environment using the default `inline` host hook.
  
    It is implemented as a host hook so that it can retrieve
    the named partial out of the `Environment`. Helpers, in
    contrast, only have access to the values passed in to them,
    and not to the ambient lexical environment.
  
    The host hook should invoke the referenced partial with
    the ambient `self`.
  */

  function partial(renderNode, env, scope, path) {
    var template = env.partials[path];
    return template.render(scope.self, env, {}).fragment;
  }

  /**
    Host hook: range
  
    @param {RenderNode} renderNode
    @param {Environment} env
    @param {Scope} scope
    @param {any} value
  
    Corresponds to:
  
    ```hbs
    {{content}}
    {{{unescaped}}}
    ```
  
    This hook is responsible for updating a render node
    that represents a range of content with a value.
  */

  function range(morph, env, scope, path, value, visitor) {
    if (handleRedirect(morph, env, scope, path, [], {}, null, null, visitor)) {
      return;
    }

    value = env.hooks.getValue(value);

    if (morph.lastValue !== value) {
      morph.setContent(value);
    }

    morph.lastValue = value;
  }

  /**
    Host hook: element
  
    @param {RenderNode} renderNode
    @param {Environment} env
    @param {Scope} scope
    @param {String} path
    @param {Array} params
    @param {Hash} hash
  
    Corresponds to:
  
    ```hbs
    <div {{bind-attr foo=bar}}></div>
    ```
  
    This hook is responsible for invoking a helper that
    modifies an element.
  
    Its purpose is largely legacy support for awkward
    idioms that became common when using the string-based
    Handlebars engine.
  
    Most of the uses of the `element` hook are expected
    to be superseded by component syntax and the
    `attribute` hook.
  */

  function element(morph, env, scope, path, params, hash, visitor) {
    if (handleRedirect(morph, env, scope, path, params, hash, null, null, visitor)) {
      return;
    }

    var helper = env.hooks.lookupHelper(env, scope, path);
    if (helper) {
      env.hooks.invokeHelper(null, env, scope, null, params, hash, helper, { element: morph.element });
    }
  }

  /**
    Host hook: attribute
  
    @param {RenderNode} renderNode
    @param {Environment} env
    @param {String} name
    @param {any} value
  
    Corresponds to:
  
    ```hbs
    <div foo={{bar}}></div>
    ```
  
    This hook is responsible for updating a render node
    that represents an element's attribute with a value.
  
    It receives the name of the attribute as well as an
    already-resolved value, and should update the render
    node with the value if appropriate.
  */

  function attribute(morph, env, scope, name, value) {
    value = env.hooks.getValue(value);

    if (morph.lastValue !== value) {
      morph.setContent(value);
    }

    morph.lastValue = value;
  }

  function subexpr(env, scope, helperName, params, hash) {
    var helper = env.hooks.lookupHelper(env, scope, helperName);
    var result = env.hooks.invokeHelper(null, env, scope, null, params, hash, helper, {});
    if (result && 'value' in result) {
      return env.hooks.getValue(result.value);
    }
  }

  /**
    Host Hook: get
  
    @param {Environment} env
    @param {Scope} scope
    @param {String} path
  
    Corresponds to:
  
    ```hbs
    {{foo.bar}}
      ^
  
    {{helper foo.bar key=value}}
             ^           ^
    ```
  
    This hook is the "leaf" hook of the system. It is used to
    resolve a path relative to the current scope.
  */

  function get(env, scope, path) {
    if (path === '') {
      return scope.self;
    }

    var keys = path.split('.');
    var value = env.hooks.getRoot(scope, keys[0])[0];

    for (var i = 1; i < keys.length; i++) {
      if (value) {
        value = env.hooks.getChild(value, keys[i]);
      } else {
        break;
      }
    }

    return value;
  }

  function getRoot(scope, key) {
    if (scope.localPresent[key]) {
      return [scope.locals[key]];
    } else if (scope.self) {
      return [scope.self[key]];
    } else {
      return [undefined];
    }
  }

  function getBlock(scope, key) {
    return scope.blocks[key];
  }

  function getChild(value, key) {
    return value[key];
  }

  function getValue(reference) {
    return reference;
  }

  function getCellOrValue(reference) {
    return reference;
  }

  function component(morph, env, scope, tagName, params, attrs, templates, visitor) {
    if (env.hooks.hasHelper(env, scope, tagName)) {
      return env.hooks.block(morph, env, scope, tagName, params, attrs, templates.default, templates.inverse, visitor);
    }

    componentFallback(morph, env, scope, tagName, attrs, templates.default);
  }

  function concat(env, params) {
    var value = "";
    for (var i = 0, l = params.length; i < l; i++) {
      value += env.hooks.getValue(params[i]);
    }
    return value;
  }

  function componentFallback(morph, env, scope, tagName, attrs, template) {
    var element = env.dom.createElement(tagName);
    for (var name in attrs) {
      element.setAttribute(name, env.hooks.getValue(attrs[name]));
    }
    var fragment = _render.default(template, env, scope, {}).fragment;
    element.appendChild(fragment);
    morph.setNode(element);
  }

  function hasHelper(env, scope, helperName) {
    return env.helpers[helperName] !== undefined;
  }

  function lookupHelper(env, scope, helperName) {
    return env.helpers[helperName];
  }

  function bindScope() /* env, scope */{
    // this function is used to handle host-specified extensions to scope
    // other than `self`, `locals` and `block`.
  }

  function updateScope(env, scope) {
    env.hooks.bindScope(env, scope);
  }

  exports.default = {
    // fundamental hooks that you will likely want to override
    bindLocal: bindLocal,
    bindSelf: bindSelf,
    bindScope: bindScope,
    classify: classify,
    component: component,
    concat: concat,
    createFreshScope: createFreshScope,
    getChild: getChild,
    getRoot: getRoot,
    getBlock: getBlock,
    getValue: getValue,
    getCellOrValue: getCellOrValue,
    keywords: keywords,
    linkRenderNode: linkRenderNode,
    partial: partial,
    subexpr: subexpr,

    // fundamental hooks with good default behavior
    bindBlock: bindBlock,
    bindShadowScope: bindShadowScope,
    updateLocal: updateLocal,
    updateSelf: updateSelf,
    updateScope: updateScope,
    createChildScope: createChildScope,
    hasHelper: hasHelper,
    lookupHelper: lookupHelper,
    invokeHelper: invokeHelper,
    cleanupRenderNode: null,
    destroyRenderNode: null,
    willCleanupTree: null,
    didCleanupTree: null,
    willRenderNode: null,
    didRenderNode: null,

    // derived hooks
    attribute: attribute,
    block: block,
    createScope: createScope,
    element: element,
    get: get,
    inline: inline,
    range: range,
    keyword: keyword
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXJ1bnRpbWUvaG9va3MuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWdGTyxXQUFTLElBQUksQ0FBQyxRQUFRLEVBQUU7QUFDN0IsUUFBSSxRQUFRLEtBQUssSUFBSSxFQUFFO0FBQUUsYUFBTyxJQUFJLENBQUM7S0FBRzs7QUFFeEMsV0FBTztBQUNMLFVBQUksRUFBRSxRQUFRLENBQUMsSUFBSTtBQUNuQixXQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUs7QUFDckIsU0FBRyxFQUFFLFFBQVE7QUFDYixZQUFNLEVBQUUsVUFBUyxJQUFJLEVBQUUsR0FBRyxFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUU7QUFDbkQsWUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDOztBQUV6QyxZQUFJLGlCQUFpQixHQUFHLE9BQU8sSUFBSSxPQUFPLENBQUMsaUJBQWlCLENBQUM7QUFDN0QsWUFBSSxhQUFhLEdBQUcsWUEzRlQsYUFBYSxDQTJGYyxJQUFJLEVBQUUsSUFBSSxFQUFFLGNBQWMsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDOztBQUVyRixlQUFPLGdCQUFPLFFBQVEsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLGFBQWEsQ0FBQyxDQUFDO09BQ3BEO0tBQ0YsQ0FBQztHQUNIOztBQUVNLFdBQVMsYUFBYSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFO0FBQy9FLFFBQUksQ0FBQyxRQUFRLEVBQUU7QUFBRSxhQUFPLEVBQUUsQ0FBQztLQUFFOztBQUU3QixRQUFJLFNBQVMsR0FBRyxhQUFhLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRSxLQUFL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LGlCQUFhLEVBQUUsSUFBSTs7O0FBR25CLGFBQVMsRUFBRSxTQUFTO0FBQ3BCLFNBQUssRUFBRSxLQUFLO0FBQ1osZUFBVyxFQUFFLFdBQVc7QUFDeEIsV0FBTyxFQUFFLE9BQU87QUFDaEIsT0FBRyxFQUFFLEdBQUc7QUFDUixVQUFNLEVBQUUsTUFBTTtBQUNkLFNBQUssRUFBRSxLQUFLO0FBQ1osV0FBTyxFQUFFLE9BQU87R0FDakIiLCJmaWxlIjoiaHRtbGJhcnMtcnVudGltZS9ob29rcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZW5kZXIsIHsgUmVuZGVyT3B0aW9ucyB9IGZyb20gXCIuL3JlbmRlclwiO1xuaW1wb3J0IE1vcnBoTGlzdCBmcm9tIFwiLi4vbW9ycGgtcmFuZ2UvbW9ycGgtbGlzdFwiO1xuaW1wb3J0IHsgY3JlYXRlQ2hpbGRNb3JwaCB9IGZyb20gXCIuL3JlbmRlclwiO1xuaW1wb3J0IHsga2V5TGVuZ3RoLCBzaGFsbG93Q29weSB9IGZyb20gXCIuLi9odG1sYmFycy11dGlsL29iamVjdC11dGlsc1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVDaGlsZE1vcnBocyB9IGZyb20gXCIuLi9odG1sYmFycy11dGlsL21vcnBoLXV0aWxzXCI7XG5pbXBvcnQgeyBSZW5kZXJTdGF0ZSwgY2xlYXJNb3JwaCwgY2xlYXJNb3JwaExpc3QsIHJlbmRlckFuZENsZWFudXAgfSBmcm9tIFwiLi4vaHRtbGJhcnMtdXRpbC90ZW1wbGF0ZS11dGlsc1wiO1xuaW1wb3J0IHsgbGlua1BhcmFtcyB9IGZyb20gXCIuLi9odG1sYmFycy11dGlsL21vcnBoLXV0aWxzXCI7XG5cbi8qKlxuICBIVE1MQmFycyBkZWxlZ2F0ZXMgdGhlIHJ1bnRpbWUgYmVoYXZpb3Igb2YgYSB0ZW1wbGF0ZSB0b1xuICBob29rcyBwcm92aWRlZCBieSB0aGUgaG9zdCBlbnZpcm9ubWVudC4gVGhlc2UgaG9va3MgZXhwbGFpblxuICB0aGUgbGV4aWNhbCBlbnZpcm9ubWVudCBvZiBhIEhhbmRsZWJhcnMgdGVtcGxhdGUsIHRoZSBpbnRlcm5hbFxuICByZXByZXNlbnRhdGlvbiBvZiByZWZlcmVuY2VzLCBhbmQgdGhlIGludGVyYWN0aW9uIGJldHdlZW4gYW5cbiAgSFRNTEJhcnMgdGVtcGxhdGUgYW5kIHRoZSBET00gaXQgaXMgbWFuYWdpbmcuXG5cbiAgV2hpbGUgSFRNTEJhcnMgaG9zdCBob29rcyBoYXZlIGFjY2VzcyB0byBhbGwgb2YgdGhpcyBpbnRlcm5hbFxuICBtYWNoaW5lcnksIHRlbXBsYXRlcyBhbmQgaGVscGVycyBoYXZlIGFjY2VzcyB0byB0aGUgYWJzdHJhY3Rpb25cbiAgcHJvdmlkZWQgYnkgdGhlIGhvc3QgaG9va3MuXG5cbiAgIyMgVGhlIExleGljYWwgRW52aXJvbm1lbnRcblxuICBUaGUgZGVmYXVsdCBsZXhpY2FsIGVudmlyb25tZW50IG9mIGFuIEhUTUxCYXJzIHRlbXBsYXRlIGluY2x1ZGVzOlxuXG4gICogQW55IGxvY2FsIHZhcmlhYmxlcywgcHJvdmlkZWQgYnkgKmJsb2NrIGFyZ3VtZW50cypcbiAgKiBUaGUgY3VycmVudCB2YWx1ZSBvZiBgc2VsZmBcblxuICAjIyBTaW1wbGUgTmVzdGluZ1xuXG4gIExldCdzIGxvb2sgYXQgYSBzaW1wbGUgdGVtcGxhdGUgd2l0aCBhIG5lc3RlZCBibG9jazpcblxuICBgYGBoYnNcbiAgPGgxPnt7dGl0bGV9fTwvaDE+XG5cbiAge3sjaWYgYXV0aG9yfX1cbiAgICA8cCBjbGFzcz1cImJ5bGluZVwiPnt7YXV0aG9yfX08L3A+XG4gIHt7L2lmfX1cbiAgYGBgXG5cbiAgSW4gdGhpcyBjYXNlLCB0aGUgbGV4aWNhbCBlbnZpcm9ubWVudCBhdCB0aGUgdG9wLWxldmVsIG9mIHRoZVxuICB0ZW1wbGF0ZSBkb2VzIG5vdCBjaGFuZ2UgaW5zaWRlIG9mIHRoZSBgaWZgIGJsb2NrLiBUaGlzIGlzXG4gIGFjaGlldmVkIHZpYSBhbiBpbXBsZW1lbnRhdGlvbiBvZiBgaWZgIHRoYXQgbG9va3MgbGlrZSB0aGlzOlxuXG4gIGBgYGpzXG4gIHJlZ2lzdGVySGVscGVyKCdpZicsIGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIGlmICghIXBhcmFtc1swXSkge1xuICAgICAgcmV0dXJuIHRoaXMueWllbGQoKTtcbiAgICB9XG4gIH0pO1xuICBgYGBcblxuICBBIGNhbGwgdG8gYHRoaXMueWllbGRgIGludm9rZXMgdGhlIGNoaWxkIHRlbXBsYXRlIHVzaW5nIHRoZVxuICBjdXJyZW50IGxleGljYWwgZW52aXJvbm1lbnQuXG5cbiAgIyMgQmxvY2sgQXJndW1lbnRzXG5cbiAgSXQgaXMgcG9zc2libGUgZm9yIG5lc3RlZCBibG9ja3MgdG8gaW50cm9kdWNlIG5ldyBsb2NhbFxuICB2YXJpYWJsZXM6XG5cbiAgYGBgaGJzXG4gIHt7I2NvdW50LWNhbGxzIGFzIHxpfH19XG4gIDxoMT57e3RpdGxlfX08L2gxPlxuICA8cD5DYWxsZWQge3tpfX0gdGltZXM8L3A+XG4gIHt7L2NvdW50fX1cbiAgYGBgXG5cbiAgSW4gdGhpcyBleGFtcGxlLCB0aGUgY2hpbGQgYmxvY2sgaW5oZXJpdHMgaXRzIHN1cnJvdW5kaW5nXG4gIGxleGljYWwgZW52aXJvbm1lbnQsIGJ1dCBhdWdtZW50cyBpdCB3aXRoIGEgc2luZ2xlIG5ld1xuICB2YXJpYWJsZSBiaW5kaW5nLlxuXG4gIFRoZSBpbXBsZW1lbnRhdGlvbiBvZiBgY291bnQtY2FsbHNgIHN1cHBsaWVzIHRoZSB2YWx1ZSBvZlxuICBgaWAsIGJ1dCBkb2VzIG5vdCBvdGhlcndpc2UgYWx0ZXIgdGhlIGVudmlyb25tZW50OlxuXG4gIGBgYGpzXG4gIHZhciBjb3VudCA9IDA7XG4gIHJlZ2lzdGVySGVscGVyKCdjb3VudC1jYWxscycsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnlpZWxkKFsgKytjb3VudCBdKTtcbiAgfSk7XG4gIGBgYFxuKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHdyYXAodGVtcGxhdGUpIHtcbiAgaWYgKHRlbXBsYXRlID09PSBudWxsKSB7IHJldHVybiBudWxsOyAgfVxuXG4gIHJldHVybiB7XG4gICAgbWV0YTogdGVtcGxhdGUubWV0YSxcbiAgICBhcml0eTogdGVtcGxhdGUuYXJpdHksXG4gICAgcmF3OiB0ZW1wbGF0ZSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKHNlbGYsIGVudiwgb3B0aW9ucywgYmxvY2tBcmd1bWVudHMpIHtcbiAgICAgIHZhciBzY29wZSA9IGVudi5ob29rcy5jcmVhdGVGcmVzaFNjb3BlKCk7XG5cbiAgICAgIGxldCBjb250ZXh0dWFsRWxlbWVudCA9IG9wdGlvbnMgJiYgb3B0aW9ucy5jb250ZXh0dWFsRWxlbWVudDtcbiAgICAgIGxldCByZW5kZXJPcHRpb25zID0gbmV3IFJlbmRlck9wdGlvbnMobnVsbCwgc2VsZiwgYmxvY2tBcmd1bWVudHMsIGNvbnRleHR1YWxFbGVtZW50KTtcblxuICAgICAgcmV0dXJuIHJlbmRlcih0ZW1wbGF0ZSwgZW52LCBzY29wZSwgcmVuZGVyT3B0aW9ucyk7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcEZvckhlbHBlcih0ZW1wbGF0ZSwgZW52LCBzY29wZSwgbW9ycGgsIHJlbmRlclN0YXRlLCB2aXNpdG9yKSB7XG4gIGlmICghdGVtcGxhdGUpIHsgcmV0dXJuIHt9OyB9XG5cbiAgdmFyIHlpZWxkQXJncyA9IHlpZWxkVGVtcGxhdGUodGVtcGxhdGUsIGVudiwgc2NvcGUsIG1vcnBoLCByZW5kZXJTdGF0ZSwgdmlzaXRvcik7XG5cbiAgcmV0dXJuIHtcbiAgICBtZXRhOiB0ZW1wbGF0ZS5tZXRhLFxuICAgIGFyaXR5OiB0ZW1wbGF0ZS5hcml0eSxcbiAgICAneWllbGQnOiB5aWVsZEFyZ3MsIC8vIHF1b3RlZCBzaW5jZSBpdCdzIGEgcmVzZXJ2ZWQgd29yZCwgc2VlIGlzc3VlICM0MjBcbiAgICB5aWVsZEl0ZW06IHlpZWxkSXRlbSh0ZW1wbGF0ZSwgZW52LCBzY29wZSwgbW9ycGgsIHJlbmRlclN0YXRlLCB2aXNpdG9yKSxcbiAgICByYXc6IHRlbXBsYXRlLFxuXG4gICAgcmVuZGVyOiBmdW5jdGlvbihzZWxmLCBibG9ja0FyZ3VtZW50cykge1xuICAgICAgeWllbGRBcmdzKGJsb2NrQXJndW1lbnRzLCBzZWxmKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIENhbGxlZCBieSBhIHVzZXItbGFuZCBoZWxwZXIgdG8gcmVuZGVyIGEgdGVtcGxhdGUuXG5mdW5jdGlvbiB5aWVsZFRlbXBsYXRlKHRlbXBsYXRlLCBlbnYsIHBhcmVudFNjb3BlLCBtb3JwaCwgcmVuZGVyU3RhdGUsIHZpc2l0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGJsb2NrQXJndW1lbnRzLCBzZWxmKSB7XG4gICAgLy8gUmVuZGVyIHN0YXRlIGlzIHVzZWQgdG8gdHJhY2sgdGhlIHByb2dyZXNzIG9mIHRoZSBoZWxwZXIgKHNpbmNlIGl0XG4gICAgLy8gbWF5IGNhbGwgaW50byB1cyBtdWx0aXBsZSB0aW1lcykuIEFzIHRoZSB1c2VyLWxhbmQgaGVscGVyIGNhbGxzXG4gICAgLy8gaW50byBsaWJyYXJ5IGNvZGUsIHdlIHRyYWNrIHdoYXQgbmVlZHMgdG8gYmUgY2xlYW5lZCB1cCBhZnRlciB0aGVcbiAgICAvLyBoZWxwZXIgaGFzIHJldHVybmVkLlxuICAgIC8vXG4gICAgLy8gSGVyZSwgd2UgcmVtZW1iZXIgdGhhdCBhIHRlbXBsYXRlIGhhcyBiZWVuIHlpZWxkZWQgYW5kIHNvIHdlIGRvIG5vdFxuICAgIC8vIG5lZWQgdG8gcmVtb3ZlIHRoZSBwcmV2aW91cyB0ZW1wbGF0ZS4gKElmIG5vIHRlbXBsYXRlIGlzIHlpZWxkZWRcbiAgICAvLyB0aGlzIHJlbmRlciBieSB0aGUgaGVscGVyLCB3ZSBhc3N1bWUgbm90aGluZyBzaG91bGQgYmUgc2hvd24gYW5kXG4gICAgLy8gcmVtb3ZlIGFueSBwcmV2aW91cyByZW5kZXJlZCB0ZW1wbGF0ZXMuKVxuICAgIHJlbmRlclN0YXRlLm1vcnBoVG9DbGVhciA9IG51bGw7XG5cbiAgICAvLyBJbiB0aGlzIGNvbmRpdGlvbmFsIGlzIHRydWUsIGl0IG1lYW5zIHRoYXQgb24gdGhlIHByZXZpb3VzIHJlbmRlcmluZyBwYXNzXG4gICAgLy8gdGhlIGhlbHBlciB5aWVsZGVkIG11bHRpcGxlIGl0ZW1zIHZpYSBgeWllbGRJdGVtKClgLCBidXQgdGhpcyB0aW1lIHRoZXlcbiAgICAvLyBhcmUgeWllbGRpbmcgYSBzaW5nbGUgdGVtcGxhdGUuIEluIHRoYXQgY2FzZSwgd2UgbWFyayB0aGUgbW9ycGggbGlzdCBmb3JcbiAgICAvLyBjbGVhbnVwIHNvIGl0IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxuICAgIGlmIChtb3JwaC5tb3JwaExpc3QpIHtcbiAgICAgIGNsZWFyTW9ycGhMaXN0KG1vcnBoLm1vcnBoTGlzdCwgbW9ycGgsIGVudik7XG4gICAgICByZW5kZXJTdGF0ZS5tb3JwaExpc3RUb0NsZWFyID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgc2NvcGUgPSBwYXJlbnRTY29wZTtcblxuICAgIGlmIChtb3JwaC5sYXN0WWllbGRlZCAmJiBpc1N0YWJsZVRlbXBsYXRlKHRlbXBsYXRlLCBtb3JwaC5sYXN0WWllbGRlZCkpIHtcbiAgICAgIHJldHVybiBtb3JwaC5sYXN0UmVzdWx0LnJldmFsaWRhdGVXaXRoKGVudiwgdW5kZWZpbmVkLCBzZWxmLCBibG9ja0FyZ3VtZW50cywgdmlzaXRvcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgdG8gbWFrZSBzdXJlIHRoYXQgd2UgYWN0dWFsbHkgKipuZWVkKiogYSBuZXcgc2NvcGUsIGFuZCBjYW4ndFxuICAgIC8vIHNoYXJlIHRoZSBwYXJlbnQgc2NvcGUuIE5vdGUgdGhhdCB3ZSBuZWVkIHRvIG1vdmUgdGhpcyBjaGVjayBpbnRvXG4gICAgLy8gYSBob3N0IGhvb2ssIGJlY2F1c2UgdGhlIGhvc3QncyBub3Rpb24gb2Ygc2NvcGUgbWF5IHJlcXVpcmUgYSBuZXdcbiAgICAvLyBzY29wZSBpbiBtb3JlIGNhc2VzIHRoYW4gdGhlIG9uZXMgd2UgY2FuIGRldGVybWluZSBzdGF0aWNhbGx5LlxuICAgIGlmIChzZWxmICE9PSB1bmRlZmluZWQgfHwgcGFyZW50U2NvcGUgPT09IG51bGwgfHwgdGVtcGxhdGUuYXJpdHkpIHtcbiAgICAgIHNjb3BlID0gZW52Lmhvb2tzLmNyZWF0ZUNoaWxkU2NvcGUocGFyZW50U2NvcGUpO1xuICAgIH1cblxuICAgIG1vcnBoLmxhc3RZaWVsZGVkID0geyBzZWxmOiBzZWxmLCB0ZW1wbGF0ZTogdGVtcGxhdGUsIHNoYWRvd1RlbXBsYXRlOiBudWxsIH07XG5cbiAgICAvLyBSZW5kZXIgdGhlIHRlbXBsYXRlIHRoYXQgd2FzIHNlbGVjdGVkIGJ5IHRoZSBoZWxwZXJcbiAgICBsZXQgcmVuZGVyT3B0aW9ucyA9IG5ldyBSZW5kZXJPcHRpb25zKG1vcnBoLCBzZWxmLCBibG9ja0FyZ3VtZW50cyk7XG4gICAgcmVuZGVyKHRlbXBsYXRlLCBlbnYsIHNjb3BlLCByZW5kZXJPcHRpb25zKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24geWllbGRJdGVtKHRlbXBsYXRlLCBlbnYsIHBhcmVudFNjb3BlLCBtb3JwaCwgcmVuZGVyU3RhdGUsIHZpc2l0b3IpIHtcbiAgLy8gSW5pdGlhbGl6ZSBzdGF0ZSB0aGF0IHRyYWNrcyBtdWx0aXBsZSBpdGVtcyBiZWluZ1xuICAvLyB5aWVsZGVkIGluLlxuICB2YXIgY3VycmVudE1vcnBoID0gbnVsbDtcblxuICAvLyBDYW5kaWRhdGUgbW9ycGhzIGZvciBkZWxldGlvbi5cbiAgdmFyIGNhbmRpZGF0ZXMgPSB7fTtcblxuICAvLyBSZXVzZSBleGlzdGluZyBNb3JwaExpc3QgaWYgdGhpcyBpcyBub3QgYSBmaXJzdC10aW1lXG4gIC8vIHJlbmRlci5cbiAgdmFyIG1vcnBoTGlzdCA9IG1vcnBoLm1vcnBoTGlzdDtcbiAgaWYgKG1vcnBoTGlzdCkge1xuICAgIGN1cnJlbnRNb3JwaCA9IG1vcnBoTGlzdC5maXJzdENoaWxkTW9ycGg7XG4gIH1cblxuICAvLyBBZHZhbmNlcyB0aGUgY3VycmVudE1vcnBoIHBvaW50ZXIgdG8gdGhlIG1vcnBoIGluIHRoZSBwcmV2aW91c2x5LXJlbmRlcmVkXG4gIC8vIGxpc3QgdGhhdCBtYXRjaGVzIHRoZSB5aWVsZGVkIGtleS4gV2hpbGUgZG9pbmcgc28sIGl0IG1hcmtzIGFueSBtb3JwaHNcbiAgLy8gdGhhdCBpdCBhZHZhbmNlcyBwYXN0IGFzIGNhbmRpZGF0ZXMgZm9yIGRlbGV0aW9uLiBBc3N1bWluZyB0aG9zZSBtb3JwaHNcbiAgLy8gYXJlIG5vdCB5aWVsZGVkIGluIGxhdGVyLCB0aGV5IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgcHJ1bmUgc3RlcCBkdXJpbmdcbiAgLy8gY2xlYW51cC5cbiAgLy8gTm90ZSB0aGF0IHRoaXMgaGVscGVyIGZ1bmN0aW9uIGFzc3VtZXMgdGhhdCB0aGUgbW9ycGggYmVpbmcgc2Vla2VkIHRvIGlzXG4gIC8vIGd1YXJhbnRlZWQgdG8gZXhpc3QgaW4gdGhlIHByZXZpb3VzIE1vcnBoTGlzdDsgaWYgdGhpcyBpcyBjYWxsZWQgYW5kIHRoZVxuICAvLyBtb3JwaCBkb2VzIG5vdCBleGlzdCwgaXQgd2lsbCByZXN1bHQgaW4gYW4gaW5maW5pdGUgbG9vcFxuICBmdW5jdGlvbiBhZHZhbmNlVG9LZXkoa2V5KSB7XG4gICAgbGV0IHNlZWsgPSBjdXJyZW50TW9ycGg7XG5cbiAgICB3aGlsZSAoc2Vlay5rZXkgIT09IGtleSkge1xuICAgICAgY2FuZGlkYXRlc1tzZWVrLmtleV0gPSBzZWVrO1xuICAgICAgc2VlayA9IHNlZWsubmV4dE1vcnBoO1xuICAgIH1cblxuICAgIGN1cnJlbnRNb3JwaCA9IHNlZWsubmV4dE1vcnBoO1xuICAgIHJldHVybiBzZWVrO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKF9rZXksIGJsb2NrQXJndW1lbnRzLCBzZWxmKSB7XG4gICAgaWYgKHR5cGVvZiBfa2V5ICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgcHJvdmlkZSBhIHN0cmluZyBrZXkgd2hlbiBjYWxsaW5nIGB5aWVsZEl0ZW1gOyB5b3UgcHJvdmlkZWQgXCIgKyBfa2V5KTtcbiAgICB9XG5cbiAgICAvLyBBdCBsZWFzdCBvbmUgaXRlbSBoYXMgYmVlbiB5aWVsZGVkLCBzbyB3ZSBkbyBub3Qgd2hvbGVzYWxlXG4gICAgLy8gY2xlYXIgdGhlIGxhc3QgTW9ycGhMaXN0IGJ1dCBpbnN0ZWFkIGFwcGx5IGEgcHJ1bmUgb3BlcmF0aW9uLlxuICAgIHJlbmRlclN0YXRlLm1vcnBoTGlzdFRvQ2xlYXIgPSBudWxsO1xuICAgIG1vcnBoLmxhc3RZaWVsZGVkID0gbnVsbDtcblxuICAgIHZhciBtb3JwaExpc3QsIG1vcnBoTWFwO1xuXG4gICAgaWYgKCFtb3JwaC5tb3JwaExpc3QpIHtcbiAgICAgIG1vcnBoLm1vcnBoTGlzdCA9IG5ldyBNb3JwaExpc3QoKTtcbiAgICAgIG1vcnBoLm1vcnBoTWFwID0ge307XG4gICAgICBtb3JwaC5zZXRNb3JwaExpc3QobW9ycGgubW9ycGhMaXN0KTtcbiAgICB9XG5cbiAgICBtb3JwaExpc3QgPSBtb3JwaC5tb3JwaExpc3Q7XG4gICAgbW9ycGhNYXAgPSBtb3JwaC5tb3JwaE1hcDtcblxuICAgIC8vIEEgbWFwIG9mIG1vcnBocyB0aGF0IGhhdmUgYmVlbiB5aWVsZGVkIGluIG9uIHRoaXNcbiAgICAvLyByZW5kZXJpbmcgcGFzcy4gQW55IG1vcnBocyB0aGF0IGRvIG5vdCBtYWtlIGl0IGludG9cbiAgICAvLyB0aGlzIGxpc3Qgd2lsbCBiZSBwcnVuZWQgZnJvbSB0aGUgTW9ycGhMaXN0IGR1cmluZyB0aGUgY2xlYW51cFxuICAgIC8vIHByb2Nlc3MuXG4gICAgbGV0IGhhbmRsZWRNb3JwaHMgPSByZW5kZXJTdGF0ZS5oYW5kbGVkTW9ycGhzO1xuICAgIGxldCBrZXk7XG5cbiAgICBpZiAoX2tleSBpbiBoYW5kbGVkTW9ycGhzKSB7XG4gICAgICAvLyBJbiB0aGlzIGJyYW5jaCB3ZSBhcmUgZGVhbGluZyB3aXRoIGEgZHVwbGljYXRlIGtleS4gVGhlIHN0cmF0ZWd5XG4gICAgICAvLyBpcyB0byB0YWtlIHRoZSBvcmlnaW5hbCBrZXkgYW5kIGFwcGVuZCBhIGNvdW50ZXIgdG8gaXQgdGhhdCBpc1xuICAgICAgLy8gaW5jcmVtZW50ZWQgZXZlcnkgdGltZSB0aGUga2V5IGlzIHJldXNlZC4gSW4gb3JkZXIgdG8gZ3JlYXRseVxuICAgICAgLy8gcmVkdWNlIHRoZSBjaGFuY2Ugb2YgY29sbGlkaW5nIHdpdGggYW5vdGhlciB2YWxpZCBrZXkgd2UgYWxzbyBhZGRcbiAgICAgIC8vIGFuIGV4dHJhIHN0cmluZyBcIi0tejhtUzJodkRXMEEtLVwiIHRvIHRoZSBuZXcga2V5LlxuICAgICAgbGV0IGNvbGxpc2lvbnMgPSByZW5kZXJTdGF0ZS5jb2xsaXNpb25zO1xuICAgICAgaWYgKGNvbGxpc2lvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb2xsaXNpb25zID0gcmVuZGVyU3RhdGUuY29sbGlzaW9ucyA9IHt9O1xuICAgICAgfVxuICAgICAgbGV0IGNvdW50ID0gY29sbGlzaW9uc1tfa2V5XSB8IDA7XG4gICAgICBjb2xsaXNpb25zW19rZXldID0gKytjb3VudDtcblxuICAgICAga2V5ID0gX2tleSArICctLXo4bVMyaHZEVzBBLS0nICsgY291bnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleSA9IF9rZXk7XG4gICAgfVxuXG4gICAgaWYgKGN1cnJlbnRNb3JwaCAmJiBjdXJyZW50TW9ycGgua2V5ID09PSBrZXkpIHtcbiAgICAgIHlpZWxkVGVtcGxhdGUodGVtcGxhdGUsIGVudiwgcGFyZW50U2NvcGUsIGN1cnJlbnRNb3JwaCwgcmVuZGVyU3RhdGUsIHZpc2l0b3IpKGJsb2NrQXJndW1lbnRzLCBzZWxmKTtcbiAgICAgIGN1cnJlbnRNb3JwaCA9IGN1cnJlbnRNb3JwaC5uZXh0TW9ycGg7XG4gICAgICBoYW5kbGVkTW9ycGhzW2tleV0gPSBjdXJyZW50TW9ycGg7XG4gICAgfSBlbHNlIGlmIChtb3JwaE1hcFtrZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGxldCBmb3VuZE1vcnBoID0gbW9ycGhNYXBba2V5XTtcblxuICAgICAgaWYgKGtleSBpbiBjYW5kaWRhdGVzKSB7XG4gICAgICAgIC8vIElmIHdlIGFscmVhZHkgc2F3IHRoaXMgbW9ycGgsIG1vdmUgaXQgZm9yd2FyZCB0byB0aGlzIHBvc2l0aW9uXG4gICAgICAgIG1vcnBoTGlzdC5pbnNlcnRCZWZvcmVNb3JwaChmb3VuZE1vcnBoLCBjdXJyZW50TW9ycGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBtb3ZlIHRoZSBwb2ludGVyIGZvcndhcmQgdG8gdGhlIGV4aXN0aW5nIG1vcnBoIGZvciB0aGlzIGtleVxuICAgICAgICBhZHZhbmNlVG9LZXkoa2V5KTtcbiAgICAgIH1cblxuICAgICAgaGFuZGxlZE1vcnBoc1tmb3VuZE1vcnBoLmtleV0gPSBmb3VuZE1vcnBoO1xuICAgICAgeWllbGRUZW1wbGF0ZSh0ZW1wbGF0ZSwgZW52LCBwYXJlbnRTY29wZSwgZm91bmRNb3JwaCwgcmVuZGVyU3RhdGUsIHZpc2l0b3IpKGJsb2NrQXJndW1lbnRzLCBzZWxmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNoaWxkTW9ycGggPSBjcmVhdGVDaGlsZE1vcnBoKGVudi5kb20sIG1vcnBoKTtcbiAgICAgIGNoaWxkTW9ycGgua2V5ID0ga2V5O1xuICAgICAgbW9ycGhNYXBba2V5XSA9IGhhbmRsZWRNb3JwaHNba2V5XSA9IGNoaWxkTW9ycGg7XG4gICAgICBtb3JwaExpc3QuaW5zZXJ0QmVmb3JlTW9ycGgoY2hpbGRNb3JwaCwgY3VycmVudE1vcnBoKTtcbiAgICAgIHlpZWxkVGVtcGxhdGUodGVtcGxhdGUsIGVudiwgcGFyZW50U2NvcGUsIGNoaWxkTW9ycGgsIHJlbmRlclN0YXRlLCB2aXNpdG9yKShibG9ja0FyZ3VtZW50cywgc2VsZik7XG4gICAgfVxuXG4gICAgcmVuZGVyU3RhdGUubW9ycGhMaXN0VG9QcnVuZSA9IG1vcnBoTGlzdDtcbiAgICBtb3JwaC5jaGlsZE5vZGVzID0gbnVsbDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaXNTdGFibGVUZW1wbGF0ZSh0ZW1wbGF0ZSwgbGFzdFlpZWxkZWQpIHtcbiAgcmV0dXJuICFsYXN0WWllbGRlZC5zaGFkb3dUZW1wbGF0ZSAmJiB0ZW1wbGF0ZSA9PT0gbGFzdFlpZWxkZWQudGVtcGxhdGU7XG59XG5mdW5jdGlvbiBvcHRpb25zRm9yKHRlbXBsYXRlLCBpbnZlcnNlLCBlbnYsIHNjb3BlLCBtb3JwaCwgdmlzaXRvcikge1xuICAvLyBJZiB0aGVyZSB3YXMgYSB0ZW1wbGF0ZSB5aWVsZGVkIGxhc3QgdGltZSwgc2V0IG1vcnBoVG9DbGVhciBzbyBpdCB3aWxsIGJlIGNsZWFyZWRcbiAgLy8gaWYgbm8gdGVtcGxhdGUgaXMgeWllbGRlZCBvbiB0aGlzIHJlbmRlci5cbiAgdmFyIG1vcnBoVG9DbGVhciA9IG1vcnBoLmxhc3RSZXN1bHQgPyBtb3JwaCA6IG51bGw7XG4gIHZhciByZW5kZXJTdGF0ZSA9IG5ldyBSZW5kZXJTdGF0ZShtb3JwaFRvQ2xlYXIsIG1vcnBoLm1vcnBoTGlzdCB8fCBudWxsKTtcblxuICByZXR1cm4ge1xuICAgIHRlbXBsYXRlczoge1xuICAgICAgdGVtcGxhdGU6IHdyYXBGb3JIZWxwZXIodGVtcGxhdGUsIGVudiwgc2NvcGUsIG1vcnBoLCByZW5kZXJTdGF0ZSwgdmlzaXRvciksXG4gICAgICBpbnZlcnNlOiB3cmFwRm9ySGVscGVyKGludmVyc2UsIGVudiwgc2NvcGUsIG1vcnBoLCByZW5kZXJTdGF0ZSwgdmlzaXRvcilcbiAgICB9LFxuICAgIHJlbmRlclN0YXRlOiByZW5kZXJTdGF0ZVxuICB9O1xufVxuXG5mdW5jdGlvbiB0aGlzRm9yKG9wdGlvbnMpIHtcbiAgcmV0dXJuIHtcbiAgICBhcml0eTogb3B0aW9ucy50ZW1wbGF0ZS5hcml0eSxcbiAgICAneWllbGQnOiBvcHRpb25zLnRlbXBsYXRlLnlpZWxkLCAvLyBxdW90ZWQgc2luY2UgaXQncyBhIHJlc2VydmVkIHdvcmQsIHNlZSBpc3N1ZSAjNDIwXG4gICAgeWllbGRJdGVtOiBvcHRpb25zLnRlbXBsYXRlLnlpZWxkSXRlbSxcbiAgICB5aWVsZEluOiBvcHRpb25zLnRlbXBsYXRlLnlpZWxkSW5cbiAgfTtcbn1cblxuLyoqXG4gIEhvc3QgSG9vazogY3JlYXRlU2NvcGVcblxuICBAcGFyYW0ge1Njb3BlP30gcGFyZW50U2NvcGVcbiAgQHJldHVybiBTY29wZVxuXG4gIENvcnJlc3BvbmRzIHRvIGVudGVyaW5nIGEgbmV3IEhUTUxCYXJzIGJsb2NrLlxuXG4gIFRoaXMgaG9vayBpcyBpbnZva2VkIHdoZW4gYSBibG9jayBpcyBlbnRlcmVkIHdpdGhcbiAgYSBuZXcgYHNlbGZgIG9yIGFkZGl0aW9uYWwgbG9jYWwgdmFyaWFibGVzLlxuXG4gIFdoZW4gaW52b2tlZCBmb3IgYSB0b3AtbGV2ZWwgdGVtcGxhdGUsIHRoZVxuICBgcGFyZW50U2NvcGVgIGlzIGBudWxsYCwgYW5kIHRoaXMgaG9vayBzaG91bGQgcmV0dXJuXG4gIGEgZnJlc2ggU2NvcGUuXG5cbiAgV2hlbiBpbnZva2VkIGZvciBhIGNoaWxkIHRlbXBsYXRlLCB0aGUgYHBhcmVudFNjb3BlYFxuICBpcyB0aGUgc2NvcGUgZm9yIHRoZSBwYXJlbnQgZW52aXJvbm1lbnQuXG5cbiAgTm90ZSB0aGF0IHRoZSBgU2NvcGVgIGlzIGFuIG9wYXF1ZSB2YWx1ZSB0aGF0IGlzXG4gIHBhc3NlZCB0byBvdGhlciBob3N0IGhvb2tzLiBGb3IgZXhhbXBsZSwgdGhlIGBnZXRgXG4gIGhvb2sgdXNlcyB0aGUgc2NvcGUgdG8gcmV0cmlldmUgYSB2YWx1ZSBmb3IgYSBnaXZlblxuICBzY29wZSBhbmQgdmFyaWFibGUgbmFtZS5cbiovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2NvcGUoZW52LCBwYXJlbnRTY29wZSkge1xuICBpZiAocGFyZW50U2NvcGUpIHtcbiAgICByZXR1cm4gZW52Lmhvb2tzLmNyZWF0ZUNoaWxkU2NvcGUocGFyZW50U2NvcGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBlbnYuaG9va3MuY3JlYXRlRnJlc2hTY29wZSgpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGcmVzaFNjb3BlKCkge1xuICAvLyBiZWNhdXNlIGBpbmAgY2hlY2tzIGhhdmUgdW5wcmVkaWN0YWJsZSBwZXJmb3JtYW5jZSwga2VlcCBhXG4gIC8vIHNlcGFyYXRlIGRpY3Rpb25hcnkgdG8gdHJhY2sgd2hldGhlciBhIGxvY2FsIHdhcyBib3VuZC5cbiAgLy8gU2VlIGBiaW5kTG9jYWxgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICByZXR1cm4geyBzZWxmOiBudWxsLCBibG9ja3M6IHt9LCBsb2NhbHM6IHt9LCBsb2NhbFByZXNlbnQ6IHt9IH07XG59XG5cbi8qKlxuICBIb3N0IEhvb2s6IGJpbmRTaGFkb3dTY29wZVxuXG4gIEBwYXJhbSB7U2NvcGU/fSBwYXJlbnRTY29wZVxuICBAcmV0dXJuIFNjb3BlXG5cbiAgQ29ycmVzcG9uZHMgdG8gcmVuZGVyaW5nIGEgbmV3IHRlbXBsYXRlIGludG8gYW4gZXhpc3RpbmdcbiAgcmVuZGVyIHRyZWUsIGJ1dCB3aXRoIGEgbmV3IHRvcC1sZXZlbCBsZXhpY2FsIHNjb3BlLiBUaGlzXG4gIHRlbXBsYXRlIGlzIGNhbGxlZCB0aGUgXCJzaGFkb3cgcm9vdFwiLlxuXG4gIElmIGEgc2hhZG93IHRlbXBsYXRlIGludm9rZXMgYHt7eWllbGR9fWAsIGl0IHdpbGwgcmVuZGVyXG4gIHRoZSBibG9jayBwcm92aWRlZCB0byB0aGUgc2hhZG93IHJvb3QgaW4gdGhlIG9yaWdpbmFsXG4gIGxleGljYWwgc2NvcGUuXG5cbiAgYGBgaGJzXG4gIHt7IS0tIHBvc3QgdGVtcGxhdGUgLS19fVxuICA8cD57e3Byb3BzLnRpdGxlfX08L3A+XG4gIHt7eWllbGR9fVxuXG4gIHt7IS0tIGJsb2cgdGVtcGxhdGUgLS19fVxuICB7eyNwb3N0IHRpdGxlPVwiSGVsbG8gd29ybGRcIn19XG4gICAgPHA+Ynkge3tieWxpbmV9fTwvcD5cbiAgICA8YXJ0aWNsZT5UaGlzIGlzIG15IGZpcnN0IHBvc3Q8L2FydGljbGU+XG4gIHt7L3Bvc3R9fVxuXG4gIHt7I3Bvc3QgdGl0bGU9XCJHb29kYnllIHdvcmxkXCJ9fVxuICAgIDxwPmJ5IHt7YnlsaW5lfX08L3A+XG4gICAgPGFydGljbGU+VGhpcyBpcyBteSBsYXN0IHBvc3Q8L2FydGljbGU+XG4gIHt7L3Bvc3R9fVxuICBgYGBcblxuICBgYGBqc1xuICBoZWxwZXJzLnBvc3QgPSBmdW5jdGlvbihwYXJhbXMsIGhhc2gsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zLnRlbXBsYXRlLnlpZWxkSW4ocG9zdFRlbXBsYXRlLCB7IHByb3BzOiBoYXNoIH0pO1xuICB9O1xuXG4gIGJsb2cucmVuZGVyKHsgYnlsaW5lOiBcIlllaHVkYSBLYXR6XCIgfSk7XG4gIGBgYFxuXG4gIFByb2R1Y2VzOlxuXG4gIGBgYGh0bWxcbiAgPHA+SGVsbG8gd29ybGQ8L3A+XG4gIDxwPmJ5IFllaHVkYSBLYXR6PC9wPlxuICA8YXJ0aWNsZT5UaGlzIGlzIG15IGZpcnN0IHBvc3Q8L2FydGljbGU+XG5cbiAgPHA+R29vZGJ5ZSB3b3JsZDwvcD5cbiAgPHA+YnkgWWVodWRhIEthdHo8L3A+XG4gIDxhcnRpY2xlPlRoaXMgaXMgbXkgbGFzdCBwb3N0PC9hcnRpY2xlPlxuICBgYGBcblxuICBJbiBzaG9ydCwgYHlpZWxkSW5gIGNyZWF0ZXMgYSBuZXcgdG9wLWxldmVsIHNjb3BlIGZvciB0aGVcbiAgcHJvdmlkZWQgdGVtcGxhdGUgYW5kIHJlbmRlcnMgaXQsIG1ha2luZyB0aGUgb3JpZ2luYWwgYmxvY2tcbiAgYXZhaWxhYmxlIHRvIGB7e3lpZWxkfX1gIGluIHRoYXQgdGVtcGxhdGUuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRTaGFkb3dTY29wZShlbnYgLyosIHBhcmVudFNjb3BlLCBzaGFkb3dTY29wZSAqLykge1xuICByZXR1cm4gZW52Lmhvb2tzLmNyZWF0ZUZyZXNoU2NvcGUoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNoaWxkU2NvcGUocGFyZW50KSB7XG4gIHZhciBzY29wZSA9IE9iamVjdC5jcmVhdGUocGFyZW50KTtcbiAgc2NvcGUubG9jYWxzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQubG9jYWxzKTtcbiAgc2NvcGUubG9jYWxQcmVzZW50ID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQubG9jYWxQcmVzZW50KTtcbiAgc2NvcGUuYmxvY2tzID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQuYmxvY2tzKTtcbiAgcmV0dXJuIHNjb3BlO1xufVxuXG4vKipcbiAgSG9zdCBIb29rOiBiaW5kU2VsZlxuXG4gIEBwYXJhbSB7U2NvcGV9IHNjb3BlXG4gIEBwYXJhbSB7YW55fSBzZWxmXG5cbiAgQ29ycmVzcG9uZHMgdG8gZW50ZXJpbmcgYSB0ZW1wbGF0ZS5cblxuICBUaGlzIGhvb2sgaXMgaW52b2tlZCB3aGVuIHRoZSBgc2VsZmAgdmFsdWUgZm9yIGEgc2NvcGUgaXMgcmVhZHkgdG8gYmUgYm91bmQuXG5cbiAgVGhlIGhvc3QgbXVzdCBlbnN1cmUgdGhhdCBjaGlsZCBzY29wZXMgcmVmbGVjdCB0aGUgY2hhbmdlIHRvIHRoZSBgc2VsZmAgaW5cbiAgZnV0dXJlIGNhbGxzIHRvIHRoZSBgZ2V0YCBob29rLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kU2VsZihlbnYsIHNjb3BlLCBzZWxmKSB7XG4gIHNjb3BlLnNlbGYgPSBzZWxmO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlU2VsZihlbnYsIHNjb3BlLCBzZWxmKSB7XG4gIGVudi5ob29rcy5iaW5kU2VsZihlbnYsIHNjb3BlLCBzZWxmKTtcbn1cblxuLyoqXG4gIEhvc3QgSG9vazogYmluZExvY2FsXG5cbiAgQHBhcmFtIHtFbnZpcm9ubWVudH0gZW52XG4gIEBwYXJhbSB7U2NvcGV9IHNjb3BlXG4gIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gIEBwYXJhbSB7YW55fSB2YWx1ZVxuXG4gIENvcnJlc3BvbmRzIHRvIGVudGVyaW5nIGEgdGVtcGxhdGUgd2l0aCBibG9jayBhcmd1bWVudHMuXG5cbiAgVGhpcyBob29rIGlzIGludm9rZWQgd2hlbiBhIGxvY2FsIHZhcmlhYmxlIGZvciBhIHNjb3BlIGhhcyBiZWVuIHByb3ZpZGVkLlxuXG4gIFRoZSBob3N0IG11c3QgZW5zdXJlIHRoYXQgY2hpbGQgc2NvcGVzIHJlZmxlY3QgdGhlIGNoYW5nZSBpbiBmdXR1cmUgY2FsbHNcbiAgdG8gdGhlIGBnZXRgIGhvb2suXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRMb2NhbChlbnYsIHNjb3BlLCBuYW1lLCB2YWx1ZSkge1xuICBzY29wZS5sb2NhbFByZXNlbnRbbmFtZV0gPSB0cnVlO1xuICBzY29wZS5sb2NhbHNbbmFtZV0gPSB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsKGVudiwgc2NvcGUsIG5hbWUsIHZhbHVlKSB7XG4gIGVudi5ob29rcy5iaW5kTG9jYWwoZW52LCBzY29wZSwgbmFtZSwgdmFsdWUpO1xufVxuXG4vKipcbiAgSG9zdCBIb29rOiBiaW5kQmxvY2tcblxuICBAcGFyYW0ge0Vudmlyb25tZW50fSBlbnZcbiAgQHBhcmFtIHtTY29wZX0gc2NvcGVcbiAgQHBhcmFtIHtGdW5jdGlvbn0gYmxvY2tcblxuICBDb3JyZXNwb25kcyB0byBlbnRlcmluZyBhIHNoYWRvdyB0ZW1wbGF0ZSB0aGF0IHdhcyBpbnZva2VkIGJ5IGEgYmxvY2sgaGVscGVyIHdpdGhcbiAgYHlpZWxkSW5gLlxuXG4gIFRoaXMgaG9vayBpcyBpbnZva2VkIHdpdGggYW4gb3BhcXVlIGJsb2NrIHRoYXQgd2lsbCBiZSBwYXNzZWQgYWxvbmdcbiAgdG8gdGhlIHNoYWRvdyB0ZW1wbGF0ZSwgYW5kIGluc2VydGVkIGludG8gdGhlIHNoYWRvdyB0ZW1wbGF0ZSB3aGVuXG4gIGB7e3lpZWxkfX1gIGlzIHVzZWQuIE9wdGlvbmFsbHkgcHJvdmlkZSBhIG5vbi1kZWZhdWx0IGJsb2NrIG5hbWVcbiAgdGhhdCBjYW4gYmUgdGFyZ2V0ZWQgYnkgYHt7eWllbGQgdG89YmxvY2tOYW1lfX1gLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kQmxvY2soZW52LCBzY29wZSwgYmxvY2ssIG5hbWU9J2RlZmF1bHQnKSB7XG4gIHNjb3BlLmJsb2Nrc1tuYW1lXSA9IGJsb2NrO1xufVxuXG4vKipcbiAgSG9zdCBIb29rOiBibG9ja1xuXG4gIEBwYXJhbSB7UmVuZGVyTm9kZX0gcmVuZGVyTm9kZVxuICBAcGFyYW0ge0Vudmlyb25tZW50fSBlbnZcbiAgQHBhcmFtIHtTY29wZX0gc2NvcGVcbiAgQHBhcmFtIHtTdHJpbmd9IHBhdGhcbiAgQHBhcmFtIHtBcnJheX0gcGFyYW1zXG4gIEBwYXJhbSB7T2JqZWN0fSBoYXNoXG4gIEBwYXJhbSB7QmxvY2t9IGJsb2NrXG4gIEBwYXJhbSB7QmxvY2t9IGVsc2VCbG9ja1xuXG4gIENvcnJlc3BvbmRzIHRvOlxuXG4gIGBgYGhic1xuICB7eyNoZWxwZXIgcGFyYW0xIHBhcmFtMiBrZXkxPXZhbDEga2V5Mj12YWwyfX1cbiAgICB7eyEtLSBjaGlsZCB0ZW1wbGF0ZSAtLX19XG4gIHt7L2hlbHBlcn19XG4gIGBgYFxuXG4gIFRoaXMgaG9zdCBob29rIGlzIGEgd29ya2hvcnNlIG9mIHRoZSBzeXN0ZW0uIEl0IGlzIGludm9rZWRcbiAgd2hlbmV2ZXIgYSBibG9jayBpcyBlbmNvdW50ZXJlZCwgYW5kIGlzIHJlc3BvbnNpYmxlIGZvclxuICByZXNvbHZpbmcgdGhlIGhlbHBlciB0byBjYWxsLCBhbmQgdGhlbiBpbnZva2UgaXQuXG5cbiAgVGhlIGhlbHBlciBzaG91bGQgYmUgaW52b2tlZCB3aXRoOlxuXG4gIC0gYHtBcnJheX0gcGFyYW1zYDogdGhlIHBhcmFtZXRlcnMgcGFzc2VkIHRvIHRoZSBoZWxwZXJcbiAgICBpbiB0aGUgdGVtcGxhdGUuXG4gIC0gYHtPYmplY3R9IGhhc2hgOiBhbiBvYmplY3QgY29udGFpbmluZyB0aGUga2V5cyBhbmQgdmFsdWVzIHBhc3NlZFxuICAgIGluIHRoZSBoYXNoIHBvc2l0aW9uIGluIHRoZSB0ZW1wbGF0ZS5cblxuICBUaGUgdmFsdWVzIGluIGBwYXJhbXNgIGFuZCBgaGFzaGAgd2lsbCBhbHJlYWR5IGJlIHJlc29sdmVkXG4gIHRocm91Z2ggYSBwcmV2aW91cyBjYWxsIHRvIHRoZSBgZ2V0YCBob3N0IGhvb2suXG5cbiAgVGhlIGhlbHBlciBzaG91bGQgYmUgaW52b2tlZCB3aXRoIGEgYHRoaXNgIHZhbHVlIHRoYXQgaXNcbiAgYW4gb2JqZWN0IHdpdGggb25lIGZpZWxkOlxuXG4gIGB7RnVuY3Rpb259IHlpZWxkYDogd2hlbiBpbnZva2VkLCB0aGlzIGZ1bmN0aW9uIGV4ZWN1dGVzIHRoZVxuICBibG9jayB3aXRoIHRoZSBjdXJyZW50IHNjb3BlLiBJdCB0YWtlcyBhbiBvcHRpb25hbCBhcnJheSBvZlxuICBibG9jayBwYXJhbWV0ZXJzLiBJZiBibG9jayBwYXJhbWV0ZXJzIGFyZSBzdXBwbGllZCwgSFRNTEJhcnNcbiAgd2lsbCBpbnZva2UgdGhlIGBiaW5kTG9jYWxgIGhvc3QgaG9vayB0byBiaW5kIHRoZSBzdXBwbGllZFxuICB2YWx1ZXMgdG8gdGhlIGJsb2NrIGFyZ3VtZW50cyBwcm92aWRlZCBieSB0aGUgdGVtcGxhdGUuXG5cbiAgSW4gZ2VuZXJhbCwgdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgYGJsb2NrYCBzaG91bGQgd29ya1xuICBmb3IgbW9zdCBob3N0IGVudmlyb25tZW50cy4gSXQgZGVsZWdhdGVzIHRvIG90aGVyIGhvc3QgaG9va3NcbiAgd2hlcmUgYXBwcm9wcmlhdGUsIGFuZCBwcm9wZXJseSBpbnZva2VzIHRoZSBoZWxwZXIgd2l0aCB0aGVcbiAgYXBwcm9wcmlhdGUgYXJndW1lbnRzLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBibG9jayhtb3JwaCwgZW52LCBzY29wZSwgcGF0aCwgcGFyYW1zLCBoYXNoLCB0ZW1wbGF0ZSwgaW52ZXJzZSwgdmlzaXRvcikge1xuICBpZiAoaGFuZGxlUmVkaXJlY3QobW9ycGgsIGVudiwgc2NvcGUsIHBhdGgsIHBhcmFtcywgaGFzaCwgdGVtcGxhdGUsIGludmVyc2UsIHZpc2l0b3IpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29udGludWVCbG9jayhtb3JwaCwgZW52LCBzY29wZSwgcGF0aCwgcGFyYW1zLCBoYXNoLCB0ZW1wbGF0ZSwgaW52ZXJzZSwgdmlzaXRvcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb250aW51ZUJsb2NrKG1vcnBoLCBlbnYsIHNjb3BlLCBwYXRoLCBwYXJhbXMsIGhhc2gsIHRlbXBsYXRlLCBpbnZlcnNlLCB2aXNpdG9yKSB7XG4gIGhvc3RCbG9jayhtb3JwaCwgZW52LCBzY29wZSwgdGVtcGxhdGUsIGludmVyc2UsIG51bGwsIHZpc2l0b3IsIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgaGVscGVyID0gZW52Lmhvb2tzLmxvb2t1cEhlbHBlcihlbnYsIHNjb3BlLCBwYXRoKTtcbiAgICByZXR1cm4gZW52Lmhvb2tzLmludm9rZUhlbHBlcihtb3JwaCwgZW52LCBzY29wZSwgdmlzaXRvciwgcGFyYW1zLCBoYXNoLCBoZWxwZXIsIG9wdGlvbnMudGVtcGxhdGVzLCB0aGlzRm9yKG9wdGlvbnMudGVtcGxhdGVzKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaG9zdEJsb2NrKG1vcnBoLCBlbnYsIHNjb3BlLCB0ZW1wbGF0ZSwgaW52ZXJzZSwgc2hhZG93T3B0aW9ucywgdmlzaXRvciwgY2FsbGJhY2spIHtcbiAgdmFyIG9wdGlvbnMgPSBvcHRpb25zRm9yKHRlbXBsYXRlLCBpbnZlcnNlLCBlbnYsIHNjb3BlLCBtb3JwaCwgdmlzaXRvcik7XG4gIHJlbmRlckFuZENsZWFudXAobW9ycGgsIGVudiwgb3B0aW9ucywgc2hhZG93T3B0aW9ucywgY2FsbGJhY2spO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUmVkaXJlY3QobW9ycGgsIGVudiwgc2NvcGUsIHBhdGgsIHBhcmFtcywgaGFzaCwgdGVtcGxhdGUsIGludmVyc2UsIHZpc2l0b3IpIHtcbiAgaWYgKCFwYXRoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIHJlZGlyZWN0ID0gZW52Lmhvb2tzLmNsYXNzaWZ5KGVudiwgc2NvcGUsIHBhdGgpO1xuICBpZiAocmVkaXJlY3QpIHtcbiAgICBzd2l0Y2gocmVkaXJlY3QpIHtcbiAgICAgIGNhc2UgJ2NvbXBvbmVudCc6IGVudi5ob29rcy5jb21wb25lbnQobW9ycGgsIGVudiwgc2NvcGUsIHBhdGgsIHBhcmFtcywgaGFzaCwge2RlZmF1bHQ6IHRlbXBsYXRlLCBpbnZlcnNlfSwgdmlzaXRvcik7IGJyZWFrO1xuICAgICAgY2FzZSAnaW5saW5lJzogZW52Lmhvb2tzLmlubGluZShtb3JwaCwgZW52LCBzY29wZSwgcGF0aCwgcGFyYW1zLCBoYXNoLCB2aXNpdG9yKTsgYnJlYWs7XG4gICAgICBjYXNlICdibG9jayc6IGVudi5ob29rcy5ibG9jayhtb3JwaCwgZW52LCBzY29wZSwgcGF0aCwgcGFyYW1zLCBoYXNoLCB0ZW1wbGF0ZSwgaW52ZXJzZSwgdmlzaXRvcik7IGJyZWFrO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWwgSFRNTEJhcnMgcmVkaXJlY3Rpb24gdG8gXCIgKyByZWRpcmVjdCArIFwiIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKGhhbmRsZUtleXdvcmQocGF0aCwgbW9ycGgsIGVudiwgc2NvcGUsIHBhcmFtcywgaGFzaCwgdGVtcGxhdGUsIGludmVyc2UsIHZpc2l0b3IpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVLZXl3b3JkKHBhdGgsIG1vcnBoLCBlbnYsIHNjb3BlLCBwYXJhbXMsIGhhc2gsIHRlbXBsYXRlLCBpbnZlcnNlLCB2aXNpdG9yKSB7XG4gIHZhciBrZXl3b3JkID0gZW52Lmhvb2tzLmtleXdvcmRzW3BhdGhdO1xuICBpZiAoIWtleXdvcmQpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgaWYgKHR5cGVvZiBrZXl3b3JkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGtleXdvcmQobW9ycGgsIGVudiwgc2NvcGUsIHBhcmFtcywgaGFzaCwgdGVtcGxhdGUsIGludmVyc2UsIHZpc2l0b3IpO1xuICB9XG5cbiAgaWYgKGtleXdvcmQud2lsbFJlbmRlcikge1xuICAgIGtleXdvcmQud2lsbFJlbmRlcihtb3JwaCwgZW52KTtcbiAgfVxuXG4gIHZhciBsYXN0U3RhdGUsIG5ld1N0YXRlO1xuICBpZiAoa2V5d29yZC5zZXR1cFN0YXRlKSB7XG4gICAgbGFzdFN0YXRlID0gc2hhbGxvd0NvcHkobW9ycGguZ2V0U3RhdGUoKSk7XG4gICAgbmV3U3RhdGUgPSBtb3JwaC5zZXRTdGF0ZShrZXl3b3JkLnNldHVwU3RhdGUobGFzdFN0YXRlLCBlbnYsIHNjb3BlLCBwYXJhbXMsIGhhc2gpKTtcbiAgfVxuXG4gIGlmIChrZXl3b3JkLmNoaWxkRW52KSB7XG4gICAgLy8gQnVpbGQgdGhlIGNoaWxkIGVudmlyb25tZW50Li4uXG4gICAgZW52ID0ga2V5d29yZC5jaGlsZEVudihtb3JwaC5nZXRTdGF0ZSgpLCBlbnYpO1xuXG4gICAgLy8gLi50aGVuIHNhdmUgb2ZmIHRoZSBjaGlsZCBlbnYgYnVpbGRlciBvbiB0aGUgcmVuZGVyIG5vZGUuIElmIHRoZSByZW5kZXJcbiAgICAvLyBub2RlIHRyZWUgaXMgcmUtcmVuZGVyZWQgYW5kIHRoaXMgbm9kZSBpcyBub3QgZGlydHksIHRoZSBjaGlsZCBlbnZcbiAgICAvLyBidWlsZGVyIHdpbGwgc3RpbGwgYmUgaW52b2tlZCBzbyB0aGF0IGNoaWxkIGRpcnR5IHJlbmRlciBub2RlcyBzdGlsbCBnZXRcbiAgICAvLyB0aGUgY29ycmVjdCBjaGlsZCBlbnYuXG4gICAgbW9ycGguYnVpbGRDaGlsZEVudiA9IGtleXdvcmQuY2hpbGRFbnY7XG4gIH1cblxuICB2YXIgZmlyc3RUaW1lID0gIW1vcnBoLnJlbmRlcmVkO1xuXG4gIGlmIChrZXl3b3JkLmlzRW1wdHkpIHtcbiAgICB2YXIgaXNFbXB0eSA9IGtleXdvcmQuaXNFbXB0eShtb3JwaC5nZXRTdGF0ZSgpLCBlbnYsIHNjb3BlLCBwYXJhbXMsIGhhc2gpO1xuXG4gICAgaWYgKGlzRW1wdHkpIHtcbiAgICAgIGlmICghZmlyc3RUaW1lKSB7IGNsZWFyTW9ycGgobW9ycGgsIGVudiwgZmFsc2UpOyB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoZmlyc3RUaW1lKSB7XG4gICAgaWYgKGtleXdvcmQucmVuZGVyKSB7XG4gICAgICBrZXl3b3JkLnJlbmRlcihtb3JwaCwgZW52LCBzY29wZSwgcGFyYW1zLCBoYXNoLCB0ZW1wbGF0ZSwgaW52ZXJzZSwgdmlzaXRvcik7XG4gICAgfVxuICAgIG1vcnBoLnJlbmRlcmVkID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHZhciBpc1N0YWJsZTtcbiAgaWYgKGtleXdvcmQuaXNTdGFibGUpIHtcbiAgICBpc1N0YWJsZSA9IGtleXdvcmQuaXNTdGFibGUobGFzdFN0YXRlLCBuZXdTdGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgaXNTdGFibGUgPSBzdGFibGVTdGF0ZShsYXN0U3RhdGUsIG5ld1N0YXRlKTtcbiAgfVxuXG4gIGlmIChpc1N0YWJsZSkge1xuICAgIGlmIChrZXl3b3JkLnJlcmVuZGVyKSB7XG4gICAgICB2YXIgbmV3RW52ID0ga2V5d29yZC5yZXJlbmRlcihtb3JwaCwgZW52LCBzY29wZSwgcGFyYW1zLCBoYXNoLCB0ZW1wbGF0ZSwgaW52ZXJzZSwgdmlzaXRvcik7XG4gICAgICBlbnYgPSBuZXdFbnYgfHwgZW52O1xuICAgIH1cbiAgICB2YWxpZGF0ZUNoaWxkTW9ycGhzKGVudiwgbW9ycGgsIHZpc2l0b3IpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2Uge1xuICAgIGNsZWFyTW9ycGgobW9ycGgsIGVudiwgZmFsc2UpO1xuICB9XG5cbiAgLy8gSWYgdGhlIG5vZGUgaXMgdW5zdGFibGUsIHJlLXJlbmRlciBmcm9tIHNjcmF0Y2hcbiAgaWYgKGtleXdvcmQucmVuZGVyKSB7XG4gICAga2V5d29yZC5yZW5kZXIobW9ycGgsIGVudiwgc2NvcGUsIHBhcmFtcywgaGFzaCwgdGVtcGxhdGUsIGludmVyc2UsIHZpc2l0b3IpO1xuICAgIG1vcnBoLnJlbmRlcmVkID0gdHJ1ZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGFibGVTdGF0ZShvbGRTdGF0ZSwgbmV3U3RhdGUpIHtcbiAgaWYgKGtleUxlbmd0aChvbGRTdGF0ZSkgIT09IGtleUxlbmd0aChuZXdTdGF0ZSkpIHsgcmV0dXJuIGZhbHNlOyB9XG5cbiAgZm9yICh2YXIgcHJvcCBpbiBvbGRTdGF0ZSkge1xuICAgIGlmIChvbGRTdGF0ZVtwcm9wXSAhPT0gbmV3U3RhdGVbcHJvcF0pIHsgcmV0dXJuIGZhbHNlOyB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpbmtSZW5kZXJOb2RlKC8qIG1vcnBoLCBlbnYsIHNjb3BlLCBwYXJhbXMsIGhhc2ggKi8pIHtcbiAgcmV0dXJuO1xufVxuXG4vKipcbiAgSG9zdCBIb29rOiBpbmxpbmVcblxuICBAcGFyYW0ge1JlbmRlck5vZGV9IHJlbmRlck5vZGVcbiAgQHBhcmFtIHtFbnZpcm9ubWVudH0gZW52XG4gIEBwYXJhbSB7U2NvcGV9IHNjb3BlXG4gIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gIEBwYXJhbSB7QXJyYXl9IHBhcmFtc1xuICBAcGFyYW0ge0hhc2h9IGhhc2hcblxuICBDb3JyZXNwb25kcyB0bzpcblxuICBgYGBoYnNcbiAge3toZWxwZXIgcGFyYW0xIHBhcmFtMiBrZXkxPXZhbDEga2V5Mj12YWwyfX1cbiAgYGBgXG5cbiAgVGhpcyBob3N0IGhvb2sgaXMgc2ltaWxhciB0byB0aGUgYGJsb2NrYCBob3N0IGhvb2ssIGJ1dCBpdFxuICBpbnZva2VzIGhlbHBlcnMgdGhhdCBkbyBub3Qgc3VwcGx5IGFuIGF0dGFjaGVkIGJsb2NrLlxuXG4gIExpa2UgdGhlIGBibG9ja2AgaG9vaywgdGhlIGhlbHBlciBzaG91bGQgYmUgaW52b2tlZCB3aXRoOlxuXG4gIC0gYHtBcnJheX0gcGFyYW1zYDogdGhlIHBhcmFtZXRlcnMgcGFzc2VkIHRvIHRoZSBoZWxwZXJcbiAgICBpbiB0aGUgdGVtcGxhdGUuXG4gIC0gYHtPYmplY3R9IGhhc2hgOiBhbiBvYmplY3QgY29udGFpbmluZyB0aGUga2V5cyBhbmQgdmFsdWVzIHBhc3NlZFxuICAgIGluIHRoZSBoYXNoIHBvc2l0aW9uIGluIHRoZSB0ZW1wbGF0ZS5cblxuICBUaGUgdmFsdWVzIGluIGBwYXJhbXNgIGFuZCBgaGFzaGAgd2lsbCBhbHJlYWR5IGJlIHJlc29sdmVkXG4gIHRocm91Z2ggYSBwcmV2aW91cyBjYWxsIHRvIHRoZSBgZ2V0YCBob3N0IGhvb2suXG5cbiAgSW4gZ2VuZXJhbCwgdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgYGlubGluZWAgc2hvdWxkIHdvcmtcbiAgZm9yIG1vc3QgaG9zdCBlbnZpcm9ubWVudHMuIEl0IGRlbGVnYXRlcyB0byBvdGhlciBob3N0IGhvb2tzXG4gIHdoZXJlIGFwcHJvcHJpYXRlLCBhbmQgcHJvcGVybHkgaW52b2tlcyB0aGUgaGVscGVyIHdpdGggdGhlXG4gIGFwcHJvcHJpYXRlIGFyZ3VtZW50cy5cblxuICBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBgaW5saW5lYCBhbHNvIG1ha2VzIGBwYXJ0aWFsYFxuICBhIGtleXdvcmQuIEluc3RlYWQgb2YgaW52b2tpbmcgYSBoZWxwZXIgbmFtZWQgYHBhcnRpYWxgLFxuICBpdCBpbnZva2VzIHRoZSBgcGFydGlhbGAgaG9zdCBob29rLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmxpbmUobW9ycGgsIGVudiwgc2NvcGUsIHBhdGgsIHBhcmFtcywgaGFzaCwgdmlzaXRvcikge1xuICBpZiAoaGFuZGxlUmVkaXJlY3QobW9ycGgsIGVudiwgc2NvcGUsIHBhdGgsIHBhcmFtcywgaGFzaCwgbnVsbCwgbnVsbCwgdmlzaXRvcikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgdmFsdWUsIGhhc1ZhbHVlO1xuICBpZiAobW9ycGgubGlua2VkUmVzdWx0KSB7XG4gICAgdmFsdWUgPSBlbnYuaG9va3MuZ2V0VmFsdWUobW9ycGgubGlua2VkUmVzdWx0KTtcbiAgICBoYXNWYWx1ZSA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG9wdGlvbnMgPSBvcHRpb25zRm9yKG51bGwsIG51bGwsIGVudiwgc2NvcGUsIG1vcnBoKTtcblxuICAgIHZhciBoZWxwZXIgPSBlbnYuaG9va3MubG9va3VwSGVscGVyKGVudiwgc2NvcGUsIHBhdGgpO1xuICAgIHZhciByZXN1bHQgPSBlbnYuaG9va3MuaW52b2tlSGVscGVyKG1vcnBoLCBlbnYsIHNjb3BlLCB2aXNpdG9yLCBwYXJhbXMsIGhhc2gsIGhlbHBlciwgb3B0aW9ucy50ZW1wbGF0ZXMsIHRoaXNGb3Iob3B0aW9ucy50ZW1wbGF0ZXMpKTtcblxuICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmxpbmspIHtcbiAgICAgIG1vcnBoLmxpbmtlZFJlc3VsdCA9IHJlc3VsdC52YWx1ZTtcbiAgICAgIGxpbmtQYXJhbXMoZW52LCBzY29wZSwgbW9ycGgsICdAY29udGVudC1oZWxwZXInLCBbbW9ycGgubGlua2VkUmVzdWx0XSwgbnVsbCk7XG4gICAgfVxuXG4gICAgaWYgKHJlc3VsdCAmJiAndmFsdWUnIGluIHJlc3VsdCkge1xuICAgICAgdmFsdWUgPSBlbnYuaG9va3MuZ2V0VmFsdWUocmVzdWx0LnZhbHVlKTtcbiAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBpZiAoaGFzVmFsdWUpIHtcbiAgICBpZiAobW9ycGgubGFzdFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgbW9ycGguc2V0Q29udGVudCh2YWx1ZSk7XG4gICAgfVxuICAgIG1vcnBoLmxhc3RWYWx1ZSA9IHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBrZXl3b3JkKHBhdGgsIG1vcnBoLCBlbnYsIHNjb3BlLCBwYXJhbXMsIGhhc2gsIHRlbXBsYXRlLCBpbnZlcnNlLCB2aXNpdG9yKSAge1xuICBoYW5kbGVLZXl3b3JkKHBhdGgsIG1vcnBoLCBlbnYsIHNjb3BlLCBwYXJhbXMsIGhhc2gsIHRlbXBsYXRlLCBpbnZlcnNlLCB2aXNpdG9yKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGludm9rZUhlbHBlcihtb3JwaCwgZW52LCBzY29wZSwgdmlzaXRvciwgX3BhcmFtcywgX2hhc2gsIGhlbHBlciwgdGVtcGxhdGVzLCBjb250ZXh0KSB7XG4gIHZhciBwYXJhbXMgPSBub3JtYWxpemVBcnJheShlbnYsIF9wYXJhbXMpO1xuICB2YXIgaGFzaCA9IG5vcm1hbGl6ZU9iamVjdChlbnYsIF9oYXNoKTtcbiAgcmV0dXJuIHsgdmFsdWU6IGhlbHBlci5jYWxsKGNvbnRleHQsIHBhcmFtcywgaGFzaCwgdGVtcGxhdGVzKSB9O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShlbnYsIGFycmF5KSB7XG4gIHZhciBvdXQgPSBuZXcgQXJyYXkoYXJyYXkubGVuZ3RoKTtcblxuICBmb3IgKHZhciBpPTAsIGw9YXJyYXkubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgIG91dFtpXSA9IGVudi5ob29rcy5nZXRDZWxsT3JWYWx1ZShhcnJheVtpXSk7XG4gIH1cblxuICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVPYmplY3QoZW52LCBvYmplY3QpIHtcbiAgdmFyIG91dCA9IHt9O1xuXG4gIGZvciAodmFyIHByb3AgaW4gb2JqZWN0KSAge1xuICAgIG91dFtwcm9wXSA9IGVudi5ob29rcy5nZXRDZWxsT3JWYWx1ZShvYmplY3RbcHJvcF0pO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsYXNzaWZ5KC8qIGVudiwgc2NvcGUsIHBhdGggKi8pIHtcbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCB2YXIga2V5d29yZHMgPSB7XG4gIHBhcnRpYWw6IGZ1bmN0aW9uKG1vcnBoLCBlbnYsIHNjb3BlLCBwYXJhbXMpIHtcbiAgICB2YXIgdmFsdWUgPSBlbnYuaG9va3MucGFydGlhbChtb3JwaCwgZW52LCBzY29wZSwgcGFyYW1zWzBdKTtcbiAgICBtb3JwaC5zZXRDb250ZW50KHZhbHVlKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICAvLyBxdW90ZWQgc2luY2UgaXQncyBhIHJlc2VydmVkIHdvcmQsIHNlZSBpc3N1ZSAjNDIwXG4gICd5aWVsZCc6IGZ1bmN0aW9uKG1vcnBoLCBlbnYsIHNjb3BlLCBwYXJhbXMsIGhhc2gsIHRlbXBsYXRlLCBpbnZlcnNlLCB2aXNpdG9yKSB7XG4gICAgLy8gdGhlIGN1cnJlbnQgc2NvcGUgaXMgcHJvdmlkZWQgcHVyZWx5IGZvciB0aGUgY3JlYXRpb24gb2Ygc2hhZG93XG4gICAgLy8gc2NvcGVzOyBpdCBzaG91bGQgbm90IGJlIHByb3ZpZGVkIHRvIHVzZXIgY29kZS5cblxuICAgIHZhciB0byA9IGVudi5ob29rcy5nZXRWYWx1ZShoYXNoLnRvKSB8fCAnZGVmYXVsdCc7XG4gICAgdmFyIGJsb2NrID0gZW52Lmhvb2tzLmdldEJsb2NrKHNjb3BlLCB0byk7XG5cbiAgICBpZiAoYmxvY2spIHtcbiAgICAgIGJsb2NrLmludm9rZShlbnYsIHBhcmFtcywgaGFzaC5zZWxmLCBtb3JwaCwgc2NvcGUsIHZpc2l0b3IpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICBoYXNCbG9jazogZnVuY3Rpb24obW9ycGgsIGVudiwgc2NvcGUsIHBhcmFtcykge1xuICAgIHZhciBuYW1lID0gZW52Lmhvb2tzLmdldFZhbHVlKHBhcmFtc1swXSkgfHwgJ2RlZmF1bHQnO1xuICAgIHJldHVybiAhIWVudi5ob29rcy5nZXRCbG9jayhzY29wZSwgbmFtZSk7XG4gIH0sXG5cbiAgaGFzQmxvY2tQYXJhbXM6IGZ1bmN0aW9uKG1vcnBoLCBlbnYsIHNjb3BlLCBwYXJhbXMpIHtcbiAgICB2YXIgbmFtZSA9IGVudi5ob29rcy5nZXRWYWx1ZShwYXJhbXNbMF0pIHx8ICdkZWZhdWx0JztcbiAgICB2YXIgYmxvY2sgPSBlbnYuaG9va3MuZ2V0QmxvY2soc2NvcGUsIG5hbWUpO1xuICAgIHJldHVybiAhIShibG9jayAmJiBibG9jay5hcml0eSk7XG4gIH1cblxufTtcblxuLyoqXG4gIEhvc3QgSG9vazogcGFydGlhbFxuXG4gIEBwYXJhbSB7UmVuZGVyTm9kZX0gcmVuZGVyTm9kZVxuICBAcGFyYW0ge0Vudmlyb25tZW50fSBlbnZcbiAgQHBhcmFtIHtTY29wZX0gc2NvcGVcbiAgQHBhcmFtIHtTdHJpbmd9IHBhdGhcblxuICBDb3JyZXNwb25kcyB0bzpcblxuICBgYGBoYnNcbiAge3twYXJ0aWFsIFwibG9jYXRpb25cIn19XG4gIGBgYFxuXG4gIFRoaXMgaG9zdCBob29rIGlzIGludm9rZWQgYnkgdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2ZcbiAgdGhlIGBpbmxpbmVgIGhvb2suIFRoaXMgbWFrZXMgYHBhcnRpYWxgIGEga2V5d29yZCBpbiBhblxuICBIVE1MQmFycyBlbnZpcm9ubWVudCB1c2luZyB0aGUgZGVmYXVsdCBgaW5saW5lYCBob3N0IGhvb2suXG5cbiAgSXQgaXMgaW1wbGVtZW50ZWQgYXMgYSBob3N0IGhvb2sgc28gdGhhdCBpdCBjYW4gcmV0cmlldmVcbiAgdGhlIG5hbWVkIHBhcnRpYWwgb3V0IG9mIHRoZSBgRW52aXJvbm1lbnRgLiBIZWxwZXJzLCBpblxuICBjb250cmFzdCwgb25seSBoYXZlIGFjY2VzcyB0byB0aGUgdmFsdWVzIHBhc3NlZCBpbiB0byB0aGVtLFxuICBhbmQgbm90IHRvIHRoZSBhbWJpZW50IGxleGljYWwgZW52aXJvbm1lbnQuXG5cbiAgVGhlIGhvc3QgaG9vayBzaG91bGQgaW52b2tlIHRoZSByZWZlcmVuY2VkIHBhcnRpYWwgd2l0aFxuICB0aGUgYW1iaWVudCBgc2VsZmAuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpYWwocmVuZGVyTm9kZSwgZW52LCBzY29wZSwgcGF0aCkge1xuICB2YXIgdGVtcGxhdGUgPSBlbnYucGFydGlhbHNbcGF0aF07XG4gIHJldHVybiB0ZW1wbGF0ZS5yZW5kZXIoc2NvcGUuc2VsZiwgZW52LCB7fSkuZnJhZ21lbnQ7XG59XG5cbi8qKlxuICBIb3N0IGhvb2s6IHJhbmdlXG5cbiAgQHBhcmFtIHtSZW5kZXJOb2RlfSByZW5kZXJOb2RlXG4gIEBwYXJhbSB7RW52aXJvbm1lbnR9IGVudlxuICBAcGFyYW0ge1Njb3BlfSBzY29wZVxuICBAcGFyYW0ge2FueX0gdmFsdWVcblxuICBDb3JyZXNwb25kcyB0bzpcblxuICBgYGBoYnNcbiAge3tjb250ZW50fX1cbiAge3t7dW5lc2NhcGVkfX19XG4gIGBgYFxuXG4gIFRoaXMgaG9vayBpcyByZXNwb25zaWJsZSBmb3IgdXBkYXRpbmcgYSByZW5kZXIgbm9kZVxuICB0aGF0IHJlcHJlc2VudHMgYSByYW5nZSBvZiBjb250ZW50IHdpdGggYSB2YWx1ZS5cbiovXG5leHBvcnQgZnVuY3Rpb24gcmFuZ2UobW9ycGgsIGVudiwgc2NvcGUsIHBhdGgsIHZhbHVlLCB2aXNpdG9yKSB7XG4gIGlmIChoYW5kbGVSZWRpcmVjdChtb3JwaCwgZW52LCBzY29wZSwgcGF0aCwgW10sIHt9LCBudWxsLCBudWxsLCB2aXNpdG9yKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhbHVlID0gZW52Lmhvb2tzLmdldFZhbHVlKHZhbHVlKTtcblxuICBpZiAobW9ycGgubGFzdFZhbHVlICE9PSB2YWx1ZSkge1xuICAgIG1vcnBoLnNldENvbnRlbnQodmFsdWUpO1xuICB9XG5cbiAgbW9ycGgubGFzdFZhbHVlID0gdmFsdWU7XG59XG5cbi8qKlxuICBIb3N0IGhvb2s6IGVsZW1lbnRcblxuICBAcGFyYW0ge1JlbmRlck5vZGV9IHJlbmRlck5vZGVcbiAgQHBhcmFtIHtFbnZpcm9ubWVudH0gZW52XG4gIEBwYXJhbSB7U2NvcGV9IHNjb3BlXG4gIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gIEBwYXJhbSB7QXJyYXl9IHBhcmFtc1xuICBAcGFyYW0ge0hhc2h9IGhhc2hcblxuICBDb3JyZXNwb25kcyB0bzpcblxuICBgYGBoYnNcbiAgPGRpdiB7e2JpbmQtYXR0ciBmb289YmFyfX0+PC9kaXY+XG4gIGBgYFxuXG4gIFRoaXMgaG9vayBpcyByZXNwb25zaWJsZSBmb3IgaW52b2tpbmcgYSBoZWxwZXIgdGhhdFxuICBtb2RpZmllcyBhbiBlbGVtZW50LlxuXG4gIEl0cyBwdXJwb3NlIGlzIGxhcmdlbHkgbGVnYWN5IHN1cHBvcnQgZm9yIGF3a3dhcmRcbiAgaWRpb21zIHRoYXQgYmVjYW1lIGNvbW1vbiB3aGVuIHVzaW5nIHRoZSBzdHJpbmctYmFzZWRcbiAgSGFuZGxlYmFycyBlbmdpbmUuXG5cbiAgTW9zdCBvZiB0aGUgdXNlcyBvZiB0aGUgYGVsZW1lbnRgIGhvb2sgYXJlIGV4cGVjdGVkXG4gIHRvIGJlIHN1cGVyc2VkZWQgYnkgY29tcG9uZW50IHN5bnRheCBhbmQgdGhlXG4gIGBhdHRyaWJ1dGVgIGhvb2suXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnQobW9ycGgsIGVudiwgc2NvcGUsIHBhdGgsIHBhcmFtcywgaGFzaCwgdmlzaXRvcikge1xuICBpZiAoaGFuZGxlUmVkaXJlY3QobW9ycGgsIGVudiwgc2NvcGUsIHBhdGgsIHBhcmFtcywgaGFzaCwgbnVsbCwgbnVsbCwgdmlzaXRvcikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgaGVscGVyID0gZW52Lmhvb2tzLmxvb2t1cEhlbHBlcihlbnYsIHNjb3BlLCBwYXRoKTtcbiAgaWYgKGhlbHBlcikge1xuICAgIGVudi5ob29rcy5pbnZva2VIZWxwZXIobnVsbCwgZW52LCBzY29wZSwgbnVsbCwgcGFyYW1zLCBoYXNoLCBoZWxwZXIsIHsgZWxlbWVudDogbW9ycGguZWxlbWVudCB9KTtcbiAgfVxufVxuXG4vKipcbiAgSG9zdCBob29rOiBhdHRyaWJ1dGVcblxuICBAcGFyYW0ge1JlbmRlck5vZGV9IHJlbmRlck5vZGVcbiAgQHBhcmFtIHtFbnZpcm9ubWVudH0gZW52XG4gIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gIEBwYXJhbSB7YW55fSB2YWx1ZVxuXG4gIENvcnJlc3BvbmRzIHRvOlxuXG4gIGBgYGhic1xuICA8ZGl2IGZvbz17e2Jhcn19PjwvZGl2PlxuICBgYGBcblxuICBUaGlzIGhvb2sgaXMgcmVzcG9uc2libGUgZm9yIHVwZGF0aW5nIGEgcmVuZGVyIG5vZGVcbiAgdGhhdCByZXByZXNlbnRzIGFuIGVsZW1lbnQncyBhdHRyaWJ1dGUgd2l0aCBhIHZhbHVlLlxuXG4gIEl0IHJlY2VpdmVzIHRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgYXMgd2VsbCBhcyBhblxuICBhbHJlYWR5LXJlc29sdmVkIHZhbHVlLCBhbmQgc2hvdWxkIHVwZGF0ZSB0aGUgcmVuZGVyXG4gIG5vZGUgd2l0aCB0aGUgdmFsdWUgaWYgYXBwcm9wcmlhdGUuXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHJpYnV0ZShtb3JwaCwgZW52LCBzY29wZSwgbmFtZSwgdmFsdWUpIHtcbiAgdmFsdWUgPSBlbnYuaG9va3MuZ2V0VmFsdWUodmFsdWUpO1xuXG4gIGlmIChtb3JwaC5sYXN0VmFsdWUgIT09IHZhbHVlKSB7XG4gICAgbW9ycGguc2V0Q29udGVudCh2YWx1ZSk7XG4gIH1cblxuICBtb3JwaC5sYXN0VmFsdWUgPSB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN1YmV4cHIoZW52LCBzY29wZSwgaGVscGVyTmFtZSwgcGFyYW1zLCBoYXNoKSB7XG4gIHZhciBoZWxwZXIgPSBlbnYuaG9va3MubG9va3VwSGVscGVyKGVudiwgc2NvcGUsIGhlbHBlck5hbWUpO1xuICB2YXIgcmVzdWx0ID0gZW52Lmhvb2tzLmludm9rZUhlbHBlcihudWxsLCBlbnYsIHNjb3BlLCBudWxsLCBwYXJhbXMsIGhhc2gsIGhlbHBlciwge30pO1xuICBpZiAocmVzdWx0ICYmICd2YWx1ZScgaW4gcmVzdWx0KSB7IHJldHVybiBlbnYuaG9va3MuZ2V0VmFsdWUocmVzdWx0LnZhbHVlKTsgfVxufVxuXG4vKipcbiAgSG9zdCBIb29rOiBnZXRcblxuICBAcGFyYW0ge0Vudmlyb25tZW50fSBlbnZcbiAgQHBhcmFtIHtTY29wZX0gc2NvcGVcbiAgQHBhcmFtIHtTdHJpbmd9IHBhdGhcblxuICBDb3JyZXNwb25kcyB0bzpcblxuICBgYGBoYnNcbiAge3tmb28uYmFyfX1cbiAgICBeXG5cbiAge3toZWxwZXIgZm9vLmJhciBrZXk9dmFsdWV9fVxuICAgICAgICAgICBeICAgICAgICAgICBeXG4gIGBgYFxuXG4gIFRoaXMgaG9vayBpcyB0aGUgXCJsZWFmXCIgaG9vayBvZiB0aGUgc3lzdGVtLiBJdCBpcyB1c2VkIHRvXG4gIHJlc29sdmUgYSBwYXRoIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IHNjb3BlLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXQoZW52LCBzY29wZSwgcGF0aCkge1xuICBpZiAocGF0aCA9PT0gJycpIHtcbiAgICByZXR1cm4gc2NvcGUuc2VsZjtcbiAgfVxuXG4gIHZhciBrZXlzID0gcGF0aC5zcGxpdCgnLicpO1xuICB2YXIgdmFsdWUgPSBlbnYuaG9va3MuZ2V0Um9vdChzY29wZSwga2V5c1swXSlbMF07XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICB2YWx1ZSA9IGVudi5ob29rcy5nZXRDaGlsZCh2YWx1ZSwga2V5c1tpXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJvb3Qoc2NvcGUsIGtleSkge1xuICBpZiAoc2NvcGUubG9jYWxQcmVzZW50W2tleV0pIHtcbiAgICByZXR1cm4gW3Njb3BlLmxvY2Fsc1trZXldXTtcbiAgfSBlbHNlIGlmIChzY29wZS5zZWxmKSB7XG4gICAgcmV0dXJuIFtzY29wZS5zZWxmW2tleV1dO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBbdW5kZWZpbmVkXTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QmxvY2soc2NvcGUsIGtleSkge1xuICByZXR1cm4gc2NvcGUuYmxvY2tzW2tleV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGlsZCh2YWx1ZSwga2V5KSB7XG4gIHJldHVybiB2YWx1ZVtrZXldO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VmFsdWUocmVmZXJlbmNlKSB7XG4gIHJldHVybiByZWZlcmVuY2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDZWxsT3JWYWx1ZShyZWZlcmVuY2UpIHtcbiAgcmV0dXJuIHJlZmVyZW5jZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudChtb3JwaCwgZW52LCBzY29wZSwgdGFnTmFtZSwgcGFyYW1zLCBhdHRycywgdGVtcGxhdGVzLCB2aXNpdG9yKSB7XG4gIGlmIChlbnYuaG9va3MuaGFzSGVscGVyKGVudiwgc2NvcGUsIHRhZ05hbWUpKSB7XG4gICAgcmV0dXJuIGVudi5ob29rcy5ibG9jayhtb3JwaCwgZW52LCBzY29wZSwgdGFnTmFtZSwgcGFyYW1zLCBhdHRycywgdGVtcGxhdGVzLmRlZmF1bHQsIHRlbXBsYXRlcy5pbnZlcnNlLCB2aXNpdG9yKTtcbiAgfVxuXG4gIGNvbXBvbmVudEZhbGxiYWNrKG1vcnBoLCBlbnYsIHNjb3BlLCB0YWdOYW1lLCBhdHRycywgdGVtcGxhdGVzLmRlZmF1bHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0KGVudiwgcGFyYW1zKSB7XG4gIHZhciB2YWx1ZSA9IFwiXCI7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gcGFyYW1zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIHZhbHVlICs9IGVudi5ob29rcy5nZXRWYWx1ZShwYXJhbXNbaV0pO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gY29tcG9uZW50RmFsbGJhY2sobW9ycGgsIGVudiwgc2NvcGUsIHRhZ05hbWUsIGF0dHJzLCB0ZW1wbGF0ZSkge1xuICB2YXIgZWxlbWVudCA9IGVudi5kb20uY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgZm9yICh2YXIgbmFtZSBpbiBhdHRycykge1xuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIGVudi5ob29rcy5nZXRWYWx1ZShhdHRyc1tuYW1lXSkpO1xuICB9XG4gIHZhciBmcmFnbWVudCA9IHJlbmRlcih0ZW1wbGF0ZSwgZW52LCBzY29wZSwge30pLmZyYWdtZW50O1xuICBlbGVtZW50LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgbW9ycGguc2V0Tm9kZShlbGVtZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0hlbHBlcihlbnYsIHNjb3BlLCBoZWxwZXJOYW1lKSB7XG4gIHJldHVybiBlbnYuaGVscGVyc1toZWxwZXJOYW1lXSAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9va3VwSGVscGVyKGVudiwgc2NvcGUsIGhlbHBlck5hbWUpIHtcbiAgcmV0dXJuIGVudi5oZWxwZXJzW2hlbHBlck5hbWVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmluZFNjb3BlKC8qIGVudiwgc2NvcGUgKi8pIHtcbiAgLy8gdGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGhhbmRsZSBob3N0LXNwZWNpZmllZCBleHRlbnNpb25zIHRvIHNjb3BlXG4gIC8vIG90aGVyIHRoYW4gYHNlbGZgLCBgbG9jYWxzYCBhbmQgYGJsb2NrYC5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVNjb3BlKGVudiwgc2NvcGUpIHtcbiAgZW52Lmhvb2tzLmJpbmRTY29wZShlbnYsIHNjb3BlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICAvLyBmdW5kYW1lbnRhbCBob29rcyB0aGF0IHlvdSB3aWxsIGxpa2VseSB3YW50IHRvIG92ZXJyaWRlXG4gIGJpbmRMb2NhbDogYmluZExvY2FsLFxuICBiaW5kU2VsZjogYmluZFNlbGYsXG4gIGJpbmRTY29wZTogYmluZFNjb3BlLFxuICBjbGFzc2lmeTogY2xhc3NpZnksXG4gIGNvbXBvbmVudDogY29tcG9uZW50LFxuICBjb25jYXQ6IGNvbmNhdCxcbiAgY3JlYXRlRnJlc2hTY29wZTogY3JlYXRlRnJlc2hTY29wZSxcbiAgZ2V0Q2hpbGQ6IGdldENoaWxkLFxuICBnZXRSb290OiBnZXRSb290LFxuICBnZXRCbG9jazogZ2V0QmxvY2ssXG4gIGdldFZhbHVlOiBnZXRWYWx1ZSxcbiAgZ2V0Q2VsbE9yVmFsdWU6IGdldENlbGxPclZhbHVlLFxuICBrZXl3b3Jkczoga2V5d29yZHMsXG4gIGxpbmtSZW5kZXJOb2RlOiBsaW5rUmVuZGVyTm9kZSxcbiAgcGFydGlhbDogcGFydGlhbCxcbiAgc3ViZXhwcjogc3ViZXhwcixcblxuICAvLyBmdW5kYW1lbnRhbCBob29rcyB3aXRoIGdvb2QgZGVmYXVsdCBiZWhhdmlvclxuICBiaW5kQmxvY2s6IGJpbmRCbG9jayxcbiAgYmluZFNoYWRvd1Njb3BlOiBiaW5kU2hhZG93U2NvcGUsXG4gIHVwZGF0ZUxvY2FsOiB1cGRhdGVMb2NhbCxcbiAgdXBkYXRlU2VsZjogdXBkYXRlU2VsZixcbiAgdXBkYXRlU2NvcGU6IHVwZGF0ZVNjb3BlLFxuICBjcmVhdGVDaGlsZFNjb3BlOiBjcmVhdGVDaGlsZFNjb3BlLFxuICBoYXNIZWxwZXI6IGhhc0hlbHBlcixcbiAgbG9va3VwSGVscGVyOiBsb29rdXBIZWxwZXIsXG4gIGludm9rZUhlbHBlcjogaW52b2tlSGVscGVyLFxuICBjbGVhbnVwUmVuZGVyTm9kZTogbnVsbCxcbiAgZGVzdHJveVJlbmRlck5vZGU6IG51bGwsXG4gIHdpbGxDbGVhbnVwVHJlZTogbnVsbCxcbiAgZGlkQ2xlYW51cFRyZWU6IG51bGwsXG4gIHdpbGxSZW5kZXJOb2RlOiBudWxsLFxuICBkaWRSZW5kZXJOb2RlOiBudWxsLFxuXG4gIC8vIGRlcml2ZWQgaG9va3NcbiAgYXR0cmlidXRlOiBhdHRyaWJ1dGUsXG4gIGJsb2NrOiBibG9jayxcbiAgY3JlYXRlU2NvcGU6IGNyZWF0ZVNjb3BlLFxuICBlbGVtZW50OiBlbGVtZW50LFxuICBnZXQ6IGdldCxcbiAgaW5saW5lOiBpbmxpbmUsXG4gIHJhbmdlOiByYW5nZSxcbiAga2V5d29yZDoga2V5d29yZFxufTtcbiJdfQ==
define('htmlbars-runtime/hooks.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-runtime');
  QUnit.test('htmlbars-runtime/hooks.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-runtime/hooks.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXJ1bnRpbWUvaG9va3MuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLDJCQUEyQixDQUFDLENBQUM7QUFDMUMsT0FBSyxDQUFDLElBQUksQ0FBQyw4Q0FBOEMsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUMxRSxVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSwrQ0FBK0MsQ0FBQyxDQUFDO0dBQ2xFLENBQUMsQ0FBQyIsImZpbGUiOiJodG1sYmFycy1ydW50aW1lL2hvb2tzLmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gaHRtbGJhcnMtcnVudGltZScpO1xuUVVuaXQudGVzdCgnaHRtbGJhcnMtcnVudGltZS9ob29rcy5qcyBzaG91bGQgcGFzcyBqc2hpbnQnLCBmdW5jdGlvbihhc3NlcnQpIHsgXG4gIGFzc2VydC5vayh0cnVlLCAnaHRtbGJhcnMtcnVudGltZS9ob29rcy5qcyBzaG91bGQgcGFzcyBqc2hpbnQuJyk7IFxufSk7XG4iXX0=
define("htmlbars-runtime/morph", ["exports", "../morph-range"], function (exports, _morphRange) {

  var guid = 1;

  function HTMLBarsMorph(domHelper, contextualElement) {
    this.super$constructor(domHelper, contextualElement);

    this._state = undefined;
    this.ownerNode = null;
    this.isDirty = false;
    this.isSubtreeDirty = false;
    this.lastYielded = null;
    this.lastResult = null;
    this.lastValue = null;
    this.buildChildEnv = null;
    this.morphList = null;
    this.morphMap = null;
    this.key = null;
    this.linkedParams = null;
    this.linkedResult = null;
    this.childNodes = null;
    this.rendered = false;
    this.guid = "range" + guid++;
    this.seen = false;
  }

  HTMLBarsMorph.empty = function (domHelper, contextualElement) {
    var morph = new HTMLBarsMorph(domHelper, contextualElement);
    morph.clear();
    return morph;
  };

  HTMLBarsMorph.create = function (domHelper, contextualElement, node) {
    var morph = new HTMLBarsMorph(domHelper, contextualElement);
    morph.setNode(node);
    return morph;
  };

  HTMLBarsMorph.attach = function (domHelper, contextualElement, firstNode, lastNode) {
    var morph = new HTMLBarsMorph(domHelper, contextualElement);
    morph.setRange(firstNode, lastNode);
    return morph;
  };

  var prototype = HTMLBarsMorph.prototype = Object.create(_morphRange.default.prototype);
  prototype.constructor = HTMLBarsMorph;
  prototype.super$constructor = _morphRange.default;

  prototype.getState = function () {
    if (!this._state) {
      this._state = {};
    }

    return this._state;
  };

  prototype.setState = function (newState) {
    /*jshint -W093 */

    return this._state = newState;
  };

  exports.default = HTMLBarsMorph;
});
//# sourceMappingURL=data:application/json;base64,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LE1BQU0sR0FBRyxRQUFRLENBQUM7R0FDL0IsQ0FBQzs7b0JBR2EsYUFBYSIsImZpbGUiOiJodG1sYmFycy1ydW50aW1lL21vcnBoLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1vcnBoQmFzZSBmcm9tIFwiLi4vbW9ycGgtcmFuZ2VcIjtcblxudmFyIGd1aWQgPSAxO1xuXG5mdW5jdGlvbiBIVE1MQmFyc01vcnBoKGRvbUhlbHBlciwgY29udGV4dHVhbEVsZW1lbnQpIHtcbiAgdGhpcy5zdXBlciRjb25zdHJ1Y3Rvcihkb21IZWxwZXIsIGNvbnRleHR1YWxFbGVtZW50KTtcblxuICB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5vd25lck5vZGUgPSBudWxsO1xuICB0aGlzLmlzRGlydHkgPSBmYWxzZTtcbiAgdGhpcy5pc1N1YnRyZWVEaXJ0eSA9IGZhbHNlO1xuICB0aGlzLmxhc3RZaWVsZGVkID0gbnVsbDtcbiAgdGhpcy5sYXN0UmVzdWx0ID0gbnVsbDtcbiAgdGhpcy5sYXN0VmFsdWUgPSBudWxsO1xuICB0aGlzLmJ1aWxkQ2hpbGRFbnYgPSBudWxsO1xuICB0aGlzLm1vcnBoTGlzdCA9IG51bGw7XG4gIHRoaXMubW9ycGhNYXAgPSBudWxsO1xuICB0aGlzLmtleSA9IG51bGw7XG4gIHRoaXMubGlua2VkUGFyYW1zID0gbnVsbDtcbiAgdGhpcy5saW5rZWRSZXN1bHQgPSBudWxsO1xuICB0aGlzLmNoaWxkTm9kZXMgPSBudWxsO1xuICB0aGlzLnJlbmRlcmVkID0gZmFsc2U7XG4gIHRoaXMuZ3VpZCA9IFwicmFuZ2VcIiArIGd1aWQrKztcbiAgdGhpcy5zZWVuID0gZmFsc2U7XG59XG5cbkhUTUxCYXJzTW9ycGguZW1wdHkgPSBmdW5jdGlvbihkb21IZWxwZXIsIGNvbnRleHR1YWxFbGVtZW50KSB7XG4gIHZhciBtb3JwaCA9IG5ldyBIVE1MQmFyc01vcnBoKGRvbUhlbHBlciwgY29udGV4dHVhbEVsZW1lbnQpO1xuICBtb3JwaC5jbGVhcigpO1xuICByZXR1cm4gbW9ycGg7XG59O1xuXG5IVE1MQmFyc01vcnBoLmNyZWF0ZSA9IGZ1bmN0aW9uIChkb21IZWxwZXIsIGNvbnRleHR1YWxFbGVtZW50LCBub2RlKSB7XG4gIHZhciBtb3JwaCA9IG5ldyBIVE1MQmFyc01vcnBoKGRvbUhlbHBlciwgY29udGV4dHVhbEVsZW1lbnQpO1xuICBtb3JwaC5zZXROb2RlKG5vZGUpO1xuICByZXR1cm4gbW9ycGg7XG59O1xuXG5IVE1MQmFyc01vcnBoLmF0dGFjaCA9IGZ1bmN0aW9uIChkb21IZWxwZXIsIGNvbnRleHR1YWxFbGVtZW50LCBmaXJzdE5vZGUsIGxhc3ROb2RlKSB7XG4gIHZhciBtb3JwaCA9IG5ldyBIVE1MQmFyc01vcnBoKGRvbUhlbHBlciwgY29udGV4dHVhbEVsZW1lbnQpO1xuICBtb3JwaC5zZXRSYW5nZShmaXJzdE5vZGUsIGxhc3ROb2RlKTtcbiAgcmV0dXJuIG1vcnBoO1xufTtcblxudmFyIHByb3RvdHlwZSA9IEhUTUxCYXJzTW9ycGgucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNb3JwaEJhc2UucHJvdG90eXBlKTtcbnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEhUTUxCYXJzTW9ycGg7XG5wcm90b3R5cGUuc3VwZXIkY29uc3RydWN0b3IgPSBNb3JwaEJhc2U7XG5cbnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuX3N0YXRlKSB7XG4gICAgdGhpcy5fc3RhdGUgPSB7fTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9zdGF0ZTtcbn07XG5cbnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uKG5ld1N0YXRlKSB7XG4gIC8qanNoaW50IC1XMDkzICovXG5cbiAgcmV0dXJuIHRoaXMuX3N0YXRlID0gbmV3U3RhdGU7XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IEhUTUxCYXJzTW9ycGg7XG4iXX0=
define('htmlbars-runtime/morph.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-runtime');
  QUnit.test('htmlbars-runtime/morph.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-runtime/morph.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXJ1bnRpbWUvbW9ycGguanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLDJCQUEyQixDQUFDLENBQUM7QUFDMUMsT0FBSyxDQUFDLElBQUksQ0FBQyw4Q0FBOEMsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUMxRSxVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSwrQ0FBK0MsQ0FBQyxDQUFDO0dBQ2xFLENBQUMsQ0FBQyIsImZpbGUiOiJodG1sYmFycy1ydW50aW1lL21vcnBoLmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gaHRtbGJhcnMtcnVudGltZScpO1xuUVVuaXQudGVzdCgnaHRtbGJhcnMtcnVudGltZS9tb3JwaC5qcyBzaG91bGQgcGFzcyBqc2hpbnQnLCBmdW5jdGlvbihhc3NlcnQpIHsgXG4gIGFzc2VydC5vayh0cnVlLCAnaHRtbGJhcnMtcnVudGltZS9tb3JwaC5qcyBzaG91bGQgcGFzcyBqc2hpbnQuJyk7IFxufSk7XG4iXX0=
define("htmlbars-runtime/node-visitor", ["exports", "../htmlbars-util/morph-utils", "./expression-visitor"], function (exports, _htmlbarsUtilMorphUtils, _expressionVisitor) {

  /**
    Node classification:
  
    # Primary Statement Nodes:
  
    These nodes are responsible for a render node that represents a morph-range.
  
    * block
    * inline
    * content
    * element
    * component
  
    # Leaf Statement Nodes:
  
    This node is responsible for a render node that represents a morph-attr.
  
    * attribute
  */

  function linkParamsAndHash(env, scope, morph, path, params, hash) {
    if (morph.linkedParams) {
      params = morph.linkedParams.params;
      hash = morph.linkedParams.hash;
    } else {
      params = params && _expressionVisitor.acceptParams(params, env, scope);
      hash = hash && _expressionVisitor.acceptHash(hash, env, scope);
    }

    _htmlbarsUtilMorphUtils.linkParams(env, scope, morph, path, params, hash);
    return [params, hash];
  }

  var AlwaysDirtyVisitor = {

    block: function (node, morph, env, scope, template, visitor) {
      var path = node[1];
      var params = node[2];
      var hash = node[3];
      var templateId = node[4];
      var inverseId = node[5];

      var paramsAndHash = linkParamsAndHash(env, scope, morph, path, params, hash);

      morph.isDirty = morph.isSubtreeDirty = false;
      env.hooks.block(morph, env, scope, path, paramsAndHash[0], paramsAndHash[1], templateId === null ? null : template.templates[templateId], inverseId === null ? null : template.templates[inverseId], visitor);
    },

    inline: function (node, morph, env, scope, visitor) {
      var path = node[1];
      var params = node[2];
      var hash = node[3];

      var paramsAndHash = linkParamsAndHash(env, scope, morph, path, params, hash);

      morph.isDirty = morph.isSubtreeDirty = false;
      env.hooks.inline(morph, env, scope, path, paramsAndHash[0], paramsAndHash[1], visitor);
    },

    content: function (node, morph, env, scope, visitor) {
      var path = node[1];

      morph.isDirty = morph.isSubtreeDirty = false;

      if (isHelper(env, scope, path)) {
        env.hooks.inline(morph, env, scope, path, [], {}, visitor);
        if (morph.linkedResult) {
          _htmlbarsUtilMorphUtils.linkParams(env, scope, morph, '@content-helper', [morph.linkedResult], null);
        }
        return;
      }

      var params = undefined;
      if (morph.linkedParams) {
        params = morph.linkedParams.params;
      } else {
        params = [env.hooks.get(env, scope, path)];
      }

      _htmlbarsUtilMorphUtils.linkParams(env, scope, morph, '@range', params, null);
      env.hooks.range(morph, env, scope, path, params[0], visitor);
    },

    element: function (node, morph, env, scope, visitor) {
      var path = node[1];
      var params = node[2];
      var hash = node[3];

      var paramsAndHash = linkParamsAndHash(env, scope, morph, path, params, hash);

      morph.isDirty = morph.isSubtreeDirty = false;
      env.hooks.element(morph, env, scope, path, paramsAndHash[0], paramsAndHash[1], visitor);
    },

    attribute: function (node, morph, env, scope) {
      var name = node[1];
      var value = node[2];

      var paramsAndHash = linkParamsAndHash(env, scope, morph, '@attribute', [value], null);

      morph.isDirty = morph.isSubtreeDirty = false;
      env.hooks.attribute(morph, env, scope, name, paramsAndHash[0][0]);
    },

    component: function (node, morph, env, scope, template, visitor) {
      var path = node[1];
      var attrs = node[2];
      var templateId = node[3];
      var inverseId = node[4];

      var paramsAndHash = linkParamsAndHash(env, scope, morph, path, [], attrs);
      var templates = {
        default: template.templates[templateId],
        inverse: template.templates[inverseId]
      };

      morph.isDirty = morph.isSubtreeDirty = false;
      env.hooks.component(morph, env, scope, path, paramsAndHash[0], paramsAndHash[1], templates, visitor);
    },

    attributes: function (node, morph, env, scope, parentMorph, visitor) {
      var template = node[1];

      env.hooks.attributes(morph, env, scope, template, parentMorph, visitor);
    }

  };

  exports.AlwaysDirtyVisitor = AlwaysDirtyVisitor;
  exports.default = {
    block: function (node, morph, env, scope, template, visitor) {
      dirtyCheck(env, morph, visitor, function (visitor) {
        AlwaysDirtyVisitor.block(node, morph, env, scope, template, visitor);
      });
    },

    inline: function (node, morph, env, scope, visitor) {
      dirtyCheck(env, morph, visitor, function (visitor) {
        AlwaysDirtyVisitor.inline(node, morph, env, scope, visitor);
      });
    },

    content: function (node, morph, env, scope, visitor) {
      dirtyCheck(env, morph, visitor, function (visitor) {
        AlwaysDirtyVisitor.content(node, morph, env, scope, visitor);
      });
    },

    element: function (node, morph, env, scope, template, visitor) {
      dirtyCheck(env, morph, visitor, function (visitor) {
        AlwaysDirtyVisitor.element(node, morph, env, scope, template, visitor);
      });
    },

    attribute: function (node, morph, env, scope, template) {
      dirtyCheck(env, morph, null, function () {
        AlwaysDirtyVisitor.attribute(node, morph, env, scope, template);
      });
    },

    component: function (node, morph, env, scope, template, visitor) {
      dirtyCheck(env, morph, visitor, function (visitor) {
        AlwaysDirtyVisitor.component(node, morph, env, scope, template, visitor);
      });
    },

    attributes: function (node, morph, env, scope, parentMorph, visitor) {
      AlwaysDirtyVisitor.attributes(node, morph, env, scope, parentMorph, visitor);
    }
  };

  function dirtyCheck(_env, morph, visitor, callback) {
    var isDirty = morph.isDirty;
    var isSubtreeDirty = morph.isSubtreeDirty;
    var env = _env;

    if (isSubtreeDirty) {
      visitor = AlwaysDirtyVisitor;
    }

    if (isDirty || isSubtreeDirty) {
      callback(visitor);
    } else {
      if (morph.buildChildEnv) {
        env = morph.buildChildEnv(morph.getState(), env);
      }
      _htmlbarsUtilMorphUtils.validateChildMorphs(env, morph, visitor);
    }
  }

  function isHelper(env, scope, path) {
    return env.hooks.keywords[path] !== undefined || env.hooks.hasHelper(env, scope, path);
  }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXJ1bnRpbWUvbm9kZS12aXNpdG9yLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF1QkEsV0FBUyxpQkFBaUIsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtBQUNoRSxRQUFJLEtBQUssQ0FBQyxZQUFZLEVBQUU7QUFDdEIsWUFBTSxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDO0FBQ25DLFVBQUksR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQztLQUNoQyxNQUFNO0FBQ0wsWUFBTSxHQUFHLE1BQU0sSUFBSSxtQkEzQmQsWUFBWSxDQTJCZSxNQUFNLEVBQUUsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDO0FBQ3BELFVBQUksR0FBRyxJQUFJLElBQUksbUJBNUJJLFVBQVUsQ0E0QkgsSUFBSSxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUM3Qzs7QUFFRCw0QkFoQzRCLFVBQVUsQ0FnQzNCLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDbEQsV0FBTyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztHQUN2Qjs7QUFFTSxNQUFJLGtCQUFrQixHQUFHOztBQUU5QixTQUFLLEVBQUEsVUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRTtVQUN6QyxJQUFJLEdBQXlDLElBQUk7VUFBM0MsTUFBTSxHQUFpQyxJQUFJO1VBQW5DLElBQUksR0FBMkIsSUFBSTtVQUE3QixVQUFVLEdBQWUsSUFBSTtVQUFqQixTQUFTLEdBQUksSUFBSTs7QUFDeEQsVUFBSSxhQUFhLEdBQUcsaUJBQWlCLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzs7QUFFN0UsV0FBSyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztBQUM3QyxTQUFHLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFDcEQsVUFBVSxLQUFLLElBQUksR0FBRyxJQUFJLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsRUFDM0QsU0FBUyxLQUFLLElBQUksR0FBRyxJQUFJLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsRUFDekQsT0FBTyxDQUFDLENBQUM7S0FDakM7O0FBRUQsVUFBTSxFQUFBLFVBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtVQUNoQyxJQUFJLEdBQWtCLElBQUk7VUFBcEIsTUFBTSxHQUFVLElBQUk7VUFBWixJQUFJLEdBQUksSUFBSTs7QUFDakMsVUFBSSxhQUFhLEdBQUcsaUJBQWlCLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzs7QUFFN0UsV0FBSyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztBQUM3QyxTQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztLQUN4Rjs7QUFFRCxXQUFPLEVBQUEsVUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFO1VBQ2pDLElBQUksR0FBSSxJQUFJOztBQUVuQixXQUFLLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDOztBQUU3QyxVQUFJLFFBQVEsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxFQUFFO0FBQzlCLFdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQzNELFlBQUksS0FBSyxDQUFDLFlBQVksRUFBRTtBQUN0QixrQ0FqRXNCLFVBQVUsQ0FpRXJCLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLGlCQUFpQixFQUFFLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQzlFO0FBQ0QsZUFBTztPQUNSOztBQUVELFVBQUksTUFBTSxZQUFBLENBQUM7QUFDWCxVQUFJLEtBQUssQ0FBQyxZQUFZLEVBQUU7QUFDdEIsY0FBTSxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDO09BQ3BDLE1BQU07QUFDTCxjQUFNLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7T0FDNUM7O0FBRUQsOEJBN0UwQixVQUFVLENBNkV6QixHQUFHLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3RELFNBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDOUQ7O0FBRUQsV0FBTyxFQUFBLFVBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtVQUNqQyxJQUFJLEdBQWtCLElBQUk7VUFBcEIsTUFBTSxHQUFVLElBQUk7VUFBWixJQUFJLEdBQUksSUFBSTs7QUFDakMsVUFBSSxhQUFhLEdBQUcsaUJBQWlCLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzs7QUFFN0UsV0FBSyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztBQUM3QyxTQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztLQUN6Rjs7QUFFRCxhQUFTLEVBQUEsVUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUU7VUFDMUIsSUFBSSxHQUFXLElBQUk7VUFBYixLQUFLLEdBQUksSUFBSTs7QUFDMUIsVUFBSSxhQUFhLEdBQUcsaUJBQWlCLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7O0FBRXRGLFdBQUssQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUM7QUFDN0MsU0FBRyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ25FOztBQUVELGFBQVMsRUFBQSxVQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFO1VBQzdDLElBQUksR0FBa0MsSUFBSTtVQUFwQyxLQUFLLEdBQTJCLElBQUk7VUFBN0IsVUFBVSxHQUFlLElBQUk7VUFBakIsU0FBUyxHQUFJLElBQUk7O0FBQ2pELFVBQUksYUFBYSxHQUFHLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDMUUsVUFBSSxTQUFTLEdBQUc7QUFDZCxlQUFPLEVBQUUsUUFBUSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUM7QUFDdkMsZUFBTyxFQUFFLFFBQVEsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDO09BQ3ZDLENBQUM7O0FBRUYsV0FBSyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQztBQUM3QyxTQUFHLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFDM0QsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQ3pDOztBQUVELGNBQVUsRUFBQSxVQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFO1VBQ2pELFFBQVEsR0FBSSxJQUFJOztBQUN2QixTQUFHLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQ3pFOztHQUVGLENBQUM7OztvQkFFYTtBQUNiLFNBQUssRUFBQSxVQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFO0FBQ2hELGdCQUFVLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsVUFBQSxPQUFPLEVBQUk7QUFDekMsMEJBQWtCLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7T0FDdEUsQ0FBQyxDQUFDO0tBQ0o7O0FBRUQsVUFBTSxFQUFBLFVBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUN2QyxnQkFBVSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFVBQUEsT0FBTyxFQUFJO0FBQ3pDLDBCQUFrQixDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7T0FDN0QsQ0FBQyxDQUFDO0tBQ0o7O0FBRUQsV0FBTyxFQUFBLFVBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUN4QyxnQkFBVSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFVBQUEsT0FBTyxFQUFJO0FBQ3pDLDBCQUFrQixDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7T0FDOUQsQ0FBQyxDQUFDO0tBQ0o7O0FBRUQsV0FBTyxFQUFBLFVBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUU7QUFDbEQsZ0JBQVUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxVQUFBLE9BQU8sRUFBSTtBQUN6QywwQkFBa0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztPQUN4RSxDQUFDLENBQUM7S0FDSjs7QUFFRCxhQUFTLEVBQUEsVUFBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFO0FBQzNDLGdCQUFVLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsWUFBTTtBQUNqQywwQkFBa0IsQ0FBQyxTQUFTLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO09BQ2pFLENBQUMsQ0FBQztLQUNKOztBQUVELGFBQVMsRUFBQSxVQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFO0FBQ3BELGdCQUFVLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsVUFBQSxPQUFPLEVBQUk7QUFDekMsMEJBQWtCLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7T0FDMUUsQ0FBQyxDQUFDO0tBQ0o7O0FBRUQsY0FBVSxFQUFBLFVBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUU7QUFDeEQsd0JBQWtCLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDOUU7R0FDRjs7QUFFRCxXQUFTLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUU7QUFDbEQsUUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQztBQUM1QixRQUFJLGNBQWMsR0FBRyxLQUFLLENBQUMsY0FBYyxDQUFDO0FBQzFDLFFBQUksR0FBRyxHQUFHLElBQUksQ0FBQzs7QUFFZixRQUFJLGNBQWMsRUFBRTtBQUNsQixhQUFPLEdBQUcsa0JBQWtCLENBQUM7S0FDOUI7O0FBRUQsUUFBSSxPQUFPLElBQUksY0FBYyxFQUFFO0FBQzdCLGNBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztLQUNuQixNQUFNO0FBQ0wsVUFBSSxLQUFLLENBQUMsYUFBYSxFQUFFO0FBQ3ZCLFdBQUcsR0FBRyxLQUFLLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQztPQUNsRDtBQUNELDhCQTlLSyxtQkFBbUIsQ0E4S0osR0FBRyxFQUFFLEtBQUssRUFBRSxPQUFPLENBQUMsQ0FBQztLQUMxQztHQUNGOztBQUVELFdBQVMsUUFBUSxDQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFO0FBQ2xDLFdBQU8sQUFBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxTQUFTLElBQUssR0FBRyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztHQUMxRiIsImZpbGUiOiJodG1sYmFycy1ydW50aW1lL25vZGUtdmlzaXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZhbGlkYXRlQ2hpbGRNb3JwaHMsIGxpbmtQYXJhbXMgfSBmcm9tIFwiLi4vaHRtbGJhcnMtdXRpbC9tb3JwaC11dGlsc1wiO1xuaW1wb3J0IHsgYWNjZXB0UGFyYW1zLCBhY2NlcHRIYXNoIH0gZnJvbSBcIi4vZXhwcmVzc2lvbi12aXNpdG9yXCI7XG5cbi8qKlxuICBOb2RlIGNsYXNzaWZpY2F0aW9uOlxuXG4gICMgUHJpbWFyeSBTdGF0ZW1lbnQgTm9kZXM6XG5cbiAgVGhlc2Ugbm9kZXMgYXJlIHJlc3BvbnNpYmxlIGZvciBhIHJlbmRlciBub2RlIHRoYXQgcmVwcmVzZW50cyBhIG1vcnBoLXJhbmdlLlxuXG4gICogYmxvY2tcbiAgKiBpbmxpbmVcbiAgKiBjb250ZW50XG4gICogZWxlbWVudFxuICAqIGNvbXBvbmVudFxuXG4gICMgTGVhZiBTdGF0ZW1lbnQgTm9kZXM6XG5cbiAgVGhpcyBub2RlIGlzIHJlc3BvbnNpYmxlIGZvciBhIHJlbmRlciBub2RlIHRoYXQgcmVwcmVzZW50cyBhIG1vcnBoLWF0dHIuXG5cbiAgKiBhdHRyaWJ1dGVcbiovXG5cbmZ1bmN0aW9uIGxpbmtQYXJhbXNBbmRIYXNoKGVudiwgc2NvcGUsIG1vcnBoLCBwYXRoLCBwYXJhbXMsIGhhc2gpIHtcbiAgaWYgKG1vcnBoLmxpbmtlZFBhcmFtcykge1xuICAgIHBhcmFtcyA9IG1vcnBoLmxpbmtlZFBhcmFtcy5wYXJhbXM7XG4gICAgaGFzaCA9IG1vcnBoLmxpbmtlZFBhcmFtcy5oYXNoO1xuICB9IGVsc2Uge1xuICAgIHBhcmFtcyA9IHBhcmFtcyAmJiBhY2NlcHRQYXJhbXMocGFyYW1zLCBlbnYsIHNjb3BlKTtcbiAgICBoYXNoID0gaGFzaCAmJiBhY2NlcHRIYXNoKGhhc2gsIGVudiwgc2NvcGUpO1xuICB9XG5cbiAgbGlua1BhcmFtcyhlbnYsIHNjb3BlLCBtb3JwaCwgcGF0aCwgcGFyYW1zLCBoYXNoKTtcbiAgcmV0dXJuIFtwYXJhbXMsIGhhc2hdO1xufVxuXG5leHBvcnQgbGV0IEFsd2F5c0RpcnR5VmlzaXRvciA9IHtcblxuICBibG9jayhub2RlLCBtb3JwaCwgZW52LCBzY29wZSwgdGVtcGxhdGUsIHZpc2l0b3IpIHtcbiAgICBsZXQgWywgcGF0aCwgcGFyYW1zLCBoYXNoLCB0ZW1wbGF0ZUlkLCBpbnZlcnNlSWRdID0gbm9kZTtcbiAgICBsZXQgcGFyYW1zQW5kSGFzaCA9IGxpbmtQYXJhbXNBbmRIYXNoKGVudiwgc2NvcGUsIG1vcnBoLCBwYXRoLCBwYXJhbXMsIGhhc2gpO1xuXG4gICAgbW9ycGguaXNEaXJ0eSA9IG1vcnBoLmlzU3VidHJlZURpcnR5ID0gZmFsc2U7XG4gICAgZW52Lmhvb2tzLmJsb2NrKG1vcnBoLCBlbnYsIHNjb3BlLCBwYXRoLCBwYXJhbXNBbmRIYXNoWzBdLCBwYXJhbXNBbmRIYXNoWzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVJZCA9PT0gbnVsbCA/IG51bGwgOiB0ZW1wbGF0ZS50ZW1wbGF0ZXNbdGVtcGxhdGVJZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZlcnNlSWQgPT09IG51bGwgPyBudWxsIDogdGVtcGxhdGUudGVtcGxhdGVzW2ludmVyc2VJZF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpdG9yKTtcbiAgfSxcblxuICBpbmxpbmUobm9kZSwgbW9ycGgsIGVudiwgc2NvcGUsIHZpc2l0b3IpIHtcbiAgICBsZXQgWywgcGF0aCwgcGFyYW1zLCBoYXNoXSA9IG5vZGU7XG4gICAgbGV0IHBhcmFtc0FuZEhhc2ggPSBsaW5rUGFyYW1zQW5kSGFzaChlbnYsIHNjb3BlLCBtb3JwaCwgcGF0aCwgcGFyYW1zLCBoYXNoKTtcblxuICAgIG1vcnBoLmlzRGlydHkgPSBtb3JwaC5pc1N1YnRyZWVEaXJ0eSA9IGZhbHNlO1xuICAgIGVudi5ob29rcy5pbmxpbmUobW9ycGgsIGVudiwgc2NvcGUsIHBhdGgsIHBhcmFtc0FuZEhhc2hbMF0sIHBhcmFtc0FuZEhhc2hbMV0sIHZpc2l0b3IpO1xuICB9LFxuXG4gIGNvbnRlbnQobm9kZSwgbW9ycGgsIGVudiwgc2NvcGUsIHZpc2l0b3IpIHtcbiAgICBsZXQgWywgcGF0aF0gPSBub2RlO1xuXG4gICAgbW9ycGguaXNEaXJ0eSA9IG1vcnBoLmlzU3VidHJlZURpcnR5ID0gZmFsc2U7XG5cbiAgICBpZiAoaXNIZWxwZXIoZW52LCBzY29wZSwgcGF0aCkpIHtcbiAgICAgIGVudi5ob29rcy5pbmxpbmUobW9ycGgsIGVudiwgc2NvcGUsIHBhdGgsIFtdLCB7fSwgdmlzaXRvcik7XG4gICAgICBpZiAobW9ycGgubGlua2VkUmVzdWx0KSB7XG4gICAgICAgIGxpbmtQYXJhbXMoZW52LCBzY29wZSwgbW9ycGgsICdAY29udGVudC1oZWxwZXInLCBbbW9ycGgubGlua2VkUmVzdWx0XSwgbnVsbCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHBhcmFtcztcbiAgICBpZiAobW9ycGgubGlua2VkUGFyYW1zKSB7XG4gICAgICBwYXJhbXMgPSBtb3JwaC5saW5rZWRQYXJhbXMucGFyYW1zO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJhbXMgPSBbZW52Lmhvb2tzLmdldChlbnYsIHNjb3BlLCBwYXRoKV07XG4gICAgfVxuXG4gICAgbGlua1BhcmFtcyhlbnYsIHNjb3BlLCBtb3JwaCwgJ0ByYW5nZScsIHBhcmFtcywgbnVsbCk7XG4gICAgZW52Lmhvb2tzLnJhbmdlKG1vcnBoLCBlbnYsIHNjb3BlLCBwYXRoLCBwYXJhbXNbMF0sIHZpc2l0b3IpO1xuICB9LFxuXG4gIGVsZW1lbnQobm9kZSwgbW9ycGgsIGVudiwgc2NvcGUsIHZpc2l0b3IpIHtcbiAgICBsZXQgWywgcGF0aCwgcGFyYW1zLCBoYXNoXSA9IG5vZGU7XG4gICAgbGV0IHBhcmFtc0FuZEhhc2ggPSBsaW5rUGFyYW1zQW5kSGFzaChlbnYsIHNjb3BlLCBtb3JwaCwgcGF0aCwgcGFyYW1zLCBoYXNoKTtcblxuICAgIG1vcnBoLmlzRGlydHkgPSBtb3JwaC5pc1N1YnRyZWVEaXJ0eSA9IGZhbHNlO1xuICAgIGVudi5ob29rcy5lbGVtZW50KG1vcnBoLCBlbnYsIHNjb3BlLCBwYXRoLCBwYXJhbXNBbmRIYXNoWzBdLCBwYXJhbXNBbmRIYXNoWzFdLCB2aXNpdG9yKTtcbiAgfSxcblxuICBhdHRyaWJ1dGUobm9kZSwgbW9ycGgsIGVudiwgc2NvcGUpIHtcbiAgICBsZXQgWywgbmFtZSwgdmFsdWVdID0gbm9kZTtcbiAgICBsZXQgcGFyYW1zQW5kSGFzaCA9IGxpbmtQYXJhbXNBbmRIYXNoKGVudiwgc2NvcGUsIG1vcnBoLCAnQGF0dHJpYnV0ZScsIFt2YWx1ZV0sIG51bGwpO1xuXG4gICAgbW9ycGguaXNEaXJ0eSA9IG1vcnBoLmlzU3VidHJlZURpcnR5ID0gZmFsc2U7XG4gICAgZW52Lmhvb2tzLmF0dHJpYnV0ZShtb3JwaCwgZW52LCBzY29wZSwgbmFtZSwgcGFyYW1zQW5kSGFzaFswXVswXSk7XG4gIH0sXG5cbiAgY29tcG9uZW50KG5vZGUsIG1vcnBoLCBlbnYsIHNjb3BlLCB0ZW1wbGF0ZSwgdmlzaXRvcikge1xuICAgIGxldCBbLCBwYXRoLCBhdHRycywgdGVtcGxhdGVJZCwgaW52ZXJzZUlkXSA9IG5vZGU7XG4gICAgbGV0IHBhcmFtc0FuZEhhc2ggPSBsaW5rUGFyYW1zQW5kSGFzaChlbnYsIHNjb3BlLCBtb3JwaCwgcGF0aCwgW10sIGF0dHJzKTtcbiAgICBsZXQgdGVtcGxhdGVzID0ge1xuICAgICAgZGVmYXVsdDogdGVtcGxhdGUudGVtcGxhdGVzW3RlbXBsYXRlSWRdLFxuICAgICAgaW52ZXJzZTogdGVtcGxhdGUudGVtcGxhdGVzW2ludmVyc2VJZF1cbiAgICB9O1xuXG4gICAgbW9ycGguaXNEaXJ0eSA9IG1vcnBoLmlzU3VidHJlZURpcnR5ID0gZmFsc2U7XG4gICAgZW52Lmhvb2tzLmNvbXBvbmVudChtb3JwaCwgZW52LCBzY29wZSwgcGF0aCwgcGFyYW1zQW5kSGFzaFswXSwgcGFyYW1zQW5kSGFzaFsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlcywgdmlzaXRvcik7XG4gIH0sXG5cbiAgYXR0cmlidXRlcyhub2RlLCBtb3JwaCwgZW52LCBzY29wZSwgcGFyZW50TW9ycGgsIHZpc2l0b3IpIHtcbiAgICBsZXQgWywgdGVtcGxhdGVdID0gbm9kZTtcbiAgICBlbnYuaG9va3MuYXR0cmlidXRlcyhtb3JwaCwgZW52LCBzY29wZSwgdGVtcGxhdGUsIHBhcmVudE1vcnBoLCB2aXNpdG9yKTtcbiAgfVxuXG59O1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGJsb2NrKG5vZGUsIG1vcnBoLCBlbnYsIHNjb3BlLCB0ZW1wbGF0ZSwgdmlzaXRvcikge1xuICAgIGRpcnR5Q2hlY2soZW52LCBtb3JwaCwgdmlzaXRvciwgdmlzaXRvciA9PiB7XG4gICAgICBBbHdheXNEaXJ0eVZpc2l0b3IuYmxvY2sobm9kZSwgbW9ycGgsIGVudiwgc2NvcGUsIHRlbXBsYXRlLCB2aXNpdG9yKTtcbiAgICB9KTtcbiAgfSxcblxuICBpbmxpbmUobm9kZSwgbW9ycGgsIGVudiwgc2NvcGUsIHZpc2l0b3IpIHtcbiAgICBkaXJ0eUNoZWNrKGVudiwgbW9ycGgsIHZpc2l0b3IsIHZpc2l0b3IgPT4ge1xuICAgICAgQWx3YXlzRGlydHlWaXNpdG9yLmlubGluZShub2RlLCBtb3JwaCwgZW52LCBzY29wZSwgdmlzaXRvcik7XG4gICAgfSk7XG4gIH0sXG5cbiAgY29udGVudChub2RlLCBtb3JwaCwgZW52LCBzY29wZSwgdmlzaXRvcikge1xuICAgIGRpcnR5Q2hlY2soZW52LCBtb3JwaCwgdmlzaXRvciwgdmlzaXRvciA9PiB7XG4gICAgICBBbHdheXNEaXJ0eVZpc2l0b3IuY29udGVudChub2RlLCBtb3JwaCwgZW52LCBzY29wZSwgdmlzaXRvcik7XG4gICAgfSk7XG4gIH0sXG5cbiAgZWxlbWVudChub2RlLCBtb3JwaCwgZW52LCBzY29wZSwgdGVtcGxhdGUsIHZpc2l0b3IpIHtcbiAgICBkaXJ0eUNoZWNrKGVudiwgbW9ycGgsIHZpc2l0b3IsIHZpc2l0b3IgPT4ge1xuICAgICAgQWx3YXlzRGlydHlWaXNpdG9yLmVsZW1lbnQobm9kZSwgbW9ycGgsIGVudiwgc2NvcGUsIHRlbXBsYXRlLCB2aXNpdG9yKTtcbiAgICB9KTtcbiAgfSxcblxuICBhdHRyaWJ1dGUobm9kZSwgbW9ycGgsIGVudiwgc2NvcGUsIHRlbXBsYXRlKSB7XG4gICAgZGlydHlDaGVjayhlbnYsIG1vcnBoLCBudWxsLCAoKSA9PiB7XG4gICAgICBBbHdheXNEaXJ0eVZpc2l0b3IuYXR0cmlidXRlKG5vZGUsIG1vcnBoLCBlbnYsIHNjb3BlLCB0ZW1wbGF0ZSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgY29tcG9uZW50KG5vZGUsIG1vcnBoLCBlbnYsIHNjb3BlLCB0ZW1wbGF0ZSwgdmlzaXRvcikge1xuICAgIGRpcnR5Q2hlY2soZW52LCBtb3JwaCwgdmlzaXRvciwgdmlzaXRvciA9PiB7XG4gICAgICBBbHdheXNEaXJ0eVZpc2l0b3IuY29tcG9uZW50KG5vZGUsIG1vcnBoLCBlbnYsIHNjb3BlLCB0ZW1wbGF0ZSwgdmlzaXRvcik7XG4gICAgfSk7XG4gIH0sXG5cbiAgYXR0cmlidXRlcyhub2RlLCBtb3JwaCwgZW52LCBzY29wZSwgcGFyZW50TW9ycGgsIHZpc2l0b3IpIHtcbiAgICBBbHdheXNEaXJ0eVZpc2l0b3IuYXR0cmlidXRlcyhub2RlLCBtb3JwaCwgZW52LCBzY29wZSwgcGFyZW50TW9ycGgsIHZpc2l0b3IpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBkaXJ0eUNoZWNrKF9lbnYsIG1vcnBoLCB2aXNpdG9yLCBjYWxsYmFjaykge1xuICB2YXIgaXNEaXJ0eSA9IG1vcnBoLmlzRGlydHk7XG4gIHZhciBpc1N1YnRyZWVEaXJ0eSA9IG1vcnBoLmlzU3VidHJlZURpcnR5O1xuICB2YXIgZW52ID0gX2VudjtcblxuICBpZiAoaXNTdWJ0cmVlRGlydHkpIHtcbiAgICB2aXNpdG9yID0gQWx3YXlzRGlydHlWaXNpdG9yO1xuICB9XG5cbiAgaWYgKGlzRGlydHkgfHwgaXNTdWJ0cmVlRGlydHkpIHtcbiAgICBjYWxsYmFjayh2aXNpdG9yKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAobW9ycGguYnVpbGRDaGlsZEVudikge1xuICAgICAgZW52ID0gbW9ycGguYnVpbGRDaGlsZEVudihtb3JwaC5nZXRTdGF0ZSgpLCBlbnYpO1xuICAgIH1cbiAgICB2YWxpZGF0ZUNoaWxkTW9ycGhzKGVudiwgbW9ycGgsIHZpc2l0b3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzSGVscGVyKGVudiwgc2NvcGUsIHBhdGgpIHtcbiAgcmV0dXJuIChlbnYuaG9va3Mua2V5d29yZHNbcGF0aF0gIT09IHVuZGVmaW5lZCkgfHwgZW52Lmhvb2tzLmhhc0hlbHBlcihlbnYsIHNjb3BlLCBwYXRoKTtcbn1cbiJdfQ==
define('htmlbars-runtime/node-visitor.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-runtime');
  QUnit.test('htmlbars-runtime/node-visitor.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-runtime/node-visitor.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXJ1bnRpbWUvbm9kZS12aXNpdG9yLmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0FBQzFDLE9BQUssQ0FBQyxJQUFJLENBQUMscURBQXFELEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDakYsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsc0RBQXNELENBQUMsQ0FBQztHQUN6RSxDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtcnVudGltZS9ub2RlLXZpc2l0b3IuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSBodG1sYmFycy1ydW50aW1lJyk7XG5RVW5pdC50ZXN0KCdodG1sYmFycy1ydW50aW1lL25vZGUtdmlzaXRvci5qcyBzaG91bGQgcGFzcyBqc2hpbnQnLCBmdW5jdGlvbihhc3NlcnQpIHsgXG4gIGFzc2VydC5vayh0cnVlLCAnaHRtbGJhcnMtcnVudGltZS9ub2RlLXZpc2l0b3IuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define("htmlbars-runtime/render", ["exports", "../htmlbars-util/morph-utils", "./node-visitor", "./morph", "../htmlbars-util/template-utils", "../htmlbars-util/void-tag-names"], function (exports, _htmlbarsUtilMorphUtils, _nodeVisitor, _morph, _htmlbarsUtilTemplateUtils, _htmlbarsUtilVoidTagNames) {
  exports.default = render;
  exports.RenderOptions = RenderOptions;
  exports.manualElement = manualElement;
  exports.attachAttributes = attachAttributes;
  exports.createChildMorph = createChildMorph;
  exports.getCachedFragment = getCachedFragment;

  var svgNamespace = "http://www.w3.org/2000/svg";

  function render(template, env, scope, options) {
    var dom = env.dom;
    var contextualElement;

    if (options) {
      if (options.renderNode) {
        contextualElement = options.renderNode.contextualElement;
      } else if (options.contextualElement) {
        contextualElement = options.contextualElement;
      }
    }

    dom.detectNamespace(contextualElement);

    var renderResult = RenderResult.build(env, scope, template, options, contextualElement);
    renderResult.render();

    return renderResult;
  }

  function RenderOptions(renderNode, self, blockArguments, contextualElement) {
    this.renderNode = renderNode || null;
    this.self = self;
    this.blockArguments = blockArguments || null;
    this.contextualElement = contextualElement || null;
  }

  function RenderResult(env, scope, options, rootNode, ownerNode, nodes, fragment, template, shouldSetContent) {
    this.root = rootNode;
    this.fragment = fragment;

    this.nodes = nodes;
    this.template = template;
    this.statements = template.statements.slice();
    this.env = env;
    this.scope = scope;
    this.shouldSetContent = shouldSetContent;

    if (options.self !== undefined) {
      this.bindSelf(options.self);
    }
    if (options.blockArguments !== undefined) {
      this.bindLocals(options.blockArguments);
    }

    this.initializeNodes(ownerNode);
  }

  RenderResult.build = function (env, scope, template, options, contextualElement) {
    var dom = env.dom;
    var fragment = getCachedFragment(template, env);
    var nodes = template.buildRenderNodes(dom, fragment, contextualElement);

    var rootNode, ownerNode, shouldSetContent;

    if (options && options.renderNode) {
      rootNode = options.renderNode;
      ownerNode = rootNode.ownerNode;
      shouldSetContent = true;
    } else {
      rootNode = dom.createMorph(null, fragment.firstChild, fragment.lastChild, contextualElement);
      ownerNode = rootNode;
      rootNode.ownerNode = ownerNode;
      shouldSetContent = false;
    }

    if (rootNode.childNodes) {
      _htmlbarsUtilMorphUtils.visitChildren(rootNode.childNodes, function (node) {
        _htmlbarsUtilTemplateUtils.clearMorph(node, env, true);
      });
    }

    rootNode.childNodes = nodes;
    return new RenderResult(env, scope, options, rootNode, ownerNode, nodes, fragment, template, shouldSetContent);
  };

  function manualElement(tagName, attributes, _isEmpty) {
    var statements = [];

    for (var key in attributes) {
      if (typeof attributes[key] === 'string') {
        continue;
      }

      statements.push(_htmlbarsUtilTemplateUtils.buildStatement("attribute", key, attributes[key]));
    }

    var isEmpty = _isEmpty || _htmlbarsUtilVoidTagNames.default[tagName];

    if (!isEmpty) {
      statements.push(_htmlbarsUtilTemplateUtils.buildStatement('content', 'yield'));
    }

    var template = {
      arity: 0,
      cachedFragment: null,
      hasRendered: false,
      buildFragment: function buildFragment(dom) {
        var el0 = dom.createDocumentFragment();
        if (tagName === 'svg') {
          dom.setNamespace(svgNamespace);
        }
        var el1 = dom.createElement(tagName);

        for (var key in attributes) {
          if (typeof attributes[key] !== 'string') {
            continue;
          }
          dom.setAttribute(el1, key, attributes[key]);
        }

        if (!isEmpty) {
          var el2 = dom.createComment("");
          dom.appendChild(el1, el2);
        }

        dom.appendChild(el0, el1);

        return el0;
      },
      buildRenderNodes: function buildRenderNodes(dom, fragment) {
        var element = dom.childAt(fragment, [0]);
        var morphs = [];

        for (var key in attributes) {
          if (typeof attributes[key] === 'string') {
            continue;
          }
          morphs.push(dom.createAttrMorph(element, key));
        }

        if (!isEmpty) {
          morphs.push(dom.createMorphAt(element, 0, 0));
        }

        return morphs;
      },
      statements: statements,
      locals: [],
      templates: []
    };

    return template;
  }

  function attachAttributes(attributes) {
    var statements = [];

    for (var key in attributes) {
      if (typeof attributes[key] === 'string') {
        continue;
      }
      statements.push(_htmlbarsUtilTemplateUtils.buildStatement("attribute", key, attributes[key]));
    }

    var template = {
      arity: 0,
      cachedFragment: null,
      hasRendered: false,
      buildFragment: function buildFragment(dom) {
        var el0 = this.element;
        if (el0.namespaceURI === "http://www.w3.org/2000/svg") {
          dom.setNamespace(svgNamespace);
        }
        for (var key in attributes) {
          if (typeof attributes[key] !== 'string') {
            continue;
          }
          dom.setAttribute(el0, key, attributes[key]);
        }

        return el0;
      },
      buildRenderNodes: function buildRenderNodes(dom) {
        var element = this.element;
        var morphs = [];

        for (var key in attributes) {
          if (typeof attributes[key] === 'string') {
            continue;
          }
          morphs.push(dom.createAttrMorph(element, key));
        }

        return morphs;
      },
      statements: statements,
      locals: [],
      templates: [],
      element: null
    };

    return template;
  }

  RenderResult.prototype.initializeNodes = function (ownerNode) {
    var childNodes = this.root.childNodes;

    for (var i = 0, l = childNodes.length; i < l; i++) {
      childNodes[i].ownerNode = ownerNode;
    }
  };

  RenderResult.prototype.render = function () {
    this.root.lastResult = this;
    this.root.rendered = true;
    this.populateNodes(_nodeVisitor.AlwaysDirtyVisitor);

    if (this.shouldSetContent && this.root.setContent) {
      this.root.setContent(this.fragment);
    }
  };

  RenderResult.prototype.dirty = function () {
    _htmlbarsUtilMorphUtils.visitChildren([this.root], function (node) {
      node.isDirty = true;
    });
  };

  RenderResult.prototype.revalidate = function (env, self, blockArguments, scope) {
    this.revalidateWith(env, scope, self, blockArguments, _nodeVisitor.default);
  };

  RenderResult.prototype.rerender = function (env, self, blockArguments, scope) {
    this.revalidateWith(env, scope, self, blockArguments, _nodeVisitor.AlwaysDirtyVisitor);
  };

  RenderResult.prototype.revalidateWith = function (env, scope, self, blockArguments, visitor) {
    if (env !== undefined) {
      this.env = env;
    }
    if (scope !== undefined) {
      this.scope = scope;
    }
    this.updateScope();

    if (self !== undefined) {
      this.updateSelf(self);
    }
    if (blockArguments !== undefined) {
      this.updateLocals(blockArguments);
    }

    this.populateNodes(visitor);
  };

  RenderResult.prototype.destroy = function () {
    var rootNode = this.root;
    _htmlbarsUtilTemplateUtils.clearMorph(rootNode, this.env, true);
  };

  RenderResult.prototype.populateNodes = function (visitor) {
    var env = this.env;
    var scope = this.scope;
    var template = this.template;
    var nodes = this.nodes;
    var statements = this.statements;
    var i, l;

    for (i = 0, l = statements.length; i < l; i++) {
      var statement = statements[i];
      var morph = nodes[i];

      if (env.hooks.willRenderNode) {
        env.hooks.willRenderNode(morph, env, scope);
      }

      switch (statement[0]) {
        case 'block':
          visitor.block(statement, morph, env, scope, template, visitor);break;
        case 'inline':
          visitor.inline(statement, morph, env, scope, visitor);break;
        case 'content':
          visitor.content(statement, morph, env, scope, visitor);break;
        case 'element':
          visitor.element(statement, morph, env, scope, template, visitor);break;
        case 'attribute':
          visitor.attribute(statement, morph, env, scope);break;
        case 'component':
          visitor.component(statement, morph, env, scope, template, visitor);break;
      }

      if (env.hooks.didRenderNode) {
        env.hooks.didRenderNode(morph, env, scope);
      }
    }
  };

  RenderResult.prototype.bindScope = function () {
    this.env.hooks.bindScope(this.env, this.scope);
  };

  RenderResult.prototype.updateScope = function () {
    this.env.hooks.updateScope(this.env, this.scope);
  };

  RenderResult.prototype.bindSelf = function (self) {
    this.env.hooks.bindSelf(this.env, this.scope, self);
  };

  RenderResult.prototype.updateSelf = function (self) {
    this.env.hooks.updateSelf(this.env, this.scope, self);
  };

  RenderResult.prototype.bindLocals = function (blockArguments) {
    var localNames = this.template.locals;

    for (var i = 0, l = localNames.length; i < l; i++) {
      this.env.hooks.bindLocal(this.env, this.scope, localNames[i], blockArguments[i]);
    }
  };

  RenderResult.prototype.updateLocals = function (blockArguments) {
    var localNames = this.template.locals;

    for (var i = 0, l = localNames.length; i < l; i++) {
      this.env.hooks.updateLocal(this.env, this.scope, localNames[i], blockArguments[i]);
    }
  };

  function initializeNode(node, owner) {
    node.ownerNode = owner;
  }

  function createChildMorph(dom, parentMorph, contextualElement) {
    var morph = _morph.default.empty(dom, contextualElement || parentMorph.contextualElement);
    initializeNode(morph, parentMorph.ownerNode);
    return morph;
  }

  function getCachedFragment(template, env) {
    var dom = env.dom,
        fragment;
    if (env.useFragmentCache && dom.canClone) {
      if (template.cachedFragment === null) {
        fragment = template.buildFragment(dom);
        if (template.hasRendered) {
          template.cachedFragment = fragment;
        } else {
          template.hasRendered = true;
        }
      }
      if (template.cachedFragment) {
        fragment = dom.cloneNode(template.cachedFragment, true);
      }
    } else if (!fragment) {
      fragment = template.buildFragment(dom);
    }

    return fragment;
  }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXJ1bnRpbWUvcmVuZGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7b0JBU3dCLE1BQU07Ozs7Ozs7QUFGOUIsTUFBSSxZQUFZLEdBQUcsNEJBQTRCLENBQUM7O0FBRWpDLFdBQVMsTUFBTSxDQUFDLFFBQVEsRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRTtBQUM1RCxRQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDO0FBQ2xCLFFBQUksaUJBQWlCLENBQUM7O0FBRXRCLFFBQUksT0FBTyxFQUFFO0FBQ1gsVUFBSSxPQUFPLENBQUMsVUFBVSxFQUFFO0FBQ3RCLHlCQUFpQixHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUMsaUJBQWlCLENBQUM7T0FDMUQsTUFBTSxJQUFJLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRTtBQUNwQyx5QkFBaUIsR0FBRyxPQUFPLENBQUMsaUJBQWlCLENBQUM7T0FDL0M7S0FDRjs7QUFFRCxPQUFHLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLENBQUM7O0FBRXZDLFFBQUksWUFBWSxHQUFHLFlBQVksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLGlCQUFpQixDQUFDLENBQUM7QUFDeEYsZ0JBQVksQ0FBQyxNQUFNLEVBQUUsQ0FBQzs7QUFFdEIsV0FBTyxZQUFZLENBQUM7R0FDckI7O0FBRU0sV0FBUyxhQUFhLENBQUMsVUFBVSxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUsaUJBQWlCLEVBQUU7QUFDakYsUUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLElBQUksSUFBSSxDQUFDO0FBQ3JDLFFBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ2pCLFFBQUksQ0FBQyxjQUFjLEdBQUcsY0FBYyxJQUFJLElBQUksQ0FBQztBQUM3QyxRQUFJLENBQUMsaUJBQWlCLEdBQUcsaUJBQWlCLElBQUksSUFBSSxDQUFDO0dBQ3BEOztBQUVE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U0FBUyxDQUFDLFFBQVEsR0FBRyxVQUFTLElBQUksRUFBRTtBQUMvQyxRQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO0dBQ3JELENBQUM7O0FBRUYsY0FBWSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEdBQUcsVUFBUyxJQUFJLEVBQUU7QUFDakQsUUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztHQUN2RCxDQUFDOztBQUVGLGNBQVksQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLFVBQVMsY0FBYyxFQUFFO0FBQzNELFFBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDOztBQUV0QyxTQUFLLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEdBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzNDLFVBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ2xGO0dBQ0YsQ0FBQzs7QUFFRixjQUFZLENBQUMsU0FBUyxDQUFDLFlBQVksR0FBRyxVQUFTLGNBQWMsRUFBRTtBQUM3RCxRQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQzs7QUFFdEMsU0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUMzQyxVQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNwRjtHQUNGLENBQUM7O0FBRUYsV0FBUyxjQUFjLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRTtBQUNuQyxRQUFJLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztHQUN4Qjs7QUFFTSxXQUFTLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxXQUFXLEVBQUUsaUJBQWlCLEVBQUU7QUFDcEUsUUFBSSxLQUFLLEdBQUcsZUFBTSxLQUFLLENBQUMsR0FBRyxFQUFFLGlCQUFpQixJQUFJLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ2pGLGtCQUFjLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUM3QyxXQUFPLEtBQUssQ0FBQztHQUNkOztBQUVNLFdBQVMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLEdBQUcsRUFBRTtBQUMvQyxRQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRztRQUFFLFFBQVEsQ0FBQztBQUM1QixRQUFJLEdBQUcsQ0FBQyxnQkFBZ0IsSUFBSSxHQUFHLENBQUMsUUFBUSxFQUFFO0FBQ3hDLFVBQUksUUFBUSxDQUFDLGNBQWMsS0FBSyxJQUFJLEVBQUU7QUFDcEMsZ0JBQVEsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZDLFlBQUksUUFBUSxDQUFDLFdBQVcsRUFBRTtBQUN4QixrQkFBUSxDQUFDLGNBQWMsR0FBRyxRQUFRLENBQUM7U0FDcEMsTUFBTTtBQUNMLGtCQUFRLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztTQUM3QjtPQUNGO0FBQ0QsVUFBSSxRQUFRLENBQUMsY0FBYyxFQUFFO0FBQzNCLGdCQUFRLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO09BQ3pEO0tBQ0YsTUFBTSxJQUFJLENBQUMsUUFBUSxFQUFFO0FBQ3BCLGNBQVEsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ3hDOztBQUVELFdBQU8sUUFBUSxDQUFDO0dBQ2pCIiwiZmlsZSI6Imh0bWxiYXJzLXJ1bnRpbWUvcmVuZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmlzaXRDaGlsZHJlbiB9IGZyb20gXCIuLi9odG1sYmFycy11dGlsL21vcnBoLXV0aWxzXCI7XG5pbXBvcnQgRXhwcmVzc2lvblZpc2l0b3IgZnJvbSBcIi4vbm9kZS12aXNpdG9yXCI7XG5pbXBvcnQgeyBBbHdheXNEaXJ0eVZpc2l0b3IgfSBmcm9tIFwiLi9ub2RlLXZpc2l0b3JcIjtcbmltcG9ydCBNb3JwaCBmcm9tIFwiLi9tb3JwaFwiO1xuaW1wb3J0IHsgY2xlYXJNb3JwaCwgYnVpbGRTdGF0ZW1lbnQgfSBmcm9tIFwiLi4vaHRtbGJhcnMtdXRpbC90ZW1wbGF0ZS11dGlsc1wiO1xuaW1wb3J0IHZvaWRNYXAgZnJvbSAnLi4vaHRtbGJhcnMtdXRpbC92b2lkLXRhZy1uYW1lcyc7XG5cbnZhciBzdmdOYW1lc3BhY2UgPSBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJlbmRlcih0ZW1wbGF0ZSwgZW52LCBzY29wZSwgb3B0aW9ucykge1xuICB2YXIgZG9tID0gZW52LmRvbTtcbiAgdmFyIGNvbnRleHR1YWxFbGVtZW50O1xuXG4gIGlmIChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMucmVuZGVyTm9kZSkge1xuICAgICAgY29udGV4dHVhbEVsZW1lbnQgPSBvcHRpb25zLnJlbmRlck5vZGUuY29udGV4dHVhbEVsZW1lbnQ7XG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmNvbnRleHR1YWxFbGVtZW50KSB7XG4gICAgICBjb250ZXh0dWFsRWxlbWVudCA9IG9wdGlvbnMuY29udGV4dHVhbEVsZW1lbnQ7XG4gICAgfVxuICB9XG5cbiAgZG9tLmRldGVjdE5hbWVzcGFjZShjb250ZXh0dWFsRWxlbWVudCk7XG5cbiAgdmFyIHJlbmRlclJlc3VsdCA9IFJlbmRlclJlc3VsdC5idWlsZChlbnYsIHNjb3BlLCB0ZW1wbGF0ZSwgb3B0aW9ucywgY29udGV4dHVhbEVsZW1lbnQpO1xuICByZW5kZXJSZXN1bHQucmVuZGVyKCk7XG5cbiAgcmV0dXJuIHJlbmRlclJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlbmRlck9wdGlvbnMocmVuZGVyTm9kZSwgc2VsZiwgYmxvY2tBcmd1bWVudHMsIGNvbnRleHR1YWxFbGVtZW50KSB7XG4gIHRoaXMucmVuZGVyTm9kZSA9IHJlbmRlck5vZGUgfHwgbnVsbDtcbiAgdGhpcy5zZWxmID0gc2VsZjtcbiAgdGhpcy5ibG9ja0FyZ3VtZW50cyA9IGJsb2NrQXJndW1lbnRzIHx8IG51bGw7XG4gIHRoaXMuY29udGV4dHVhbEVsZW1lbnQgPSBjb250ZXh0dWFsRWxlbWVudCB8fCBudWxsO1xufVxuXG5mdW5jdGlvbiBSZW5kZXJSZXN1bHQoZW52LCBzY29wZSwgb3B0aW9ucywgcm9vdE5vZGUsIG93bmVyTm9kZSwgbm9kZXMsIGZyYWdtZW50LCB0ZW1wbGF0ZSwgc2hvdWxkU2V0Q29udGVudCkge1xuICB0aGlzLnJvb3QgPSByb290Tm9kZTtcbiAgdGhpcy5mcmFnbWVudCA9IGZyYWdtZW50O1xuXG4gIHRoaXMubm9kZXMgPSBub2RlcztcbiAgdGhpcy50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICB0aGlzLnN0YXRlbWVudHMgPSB0ZW1wbGF0ZS5zdGF0ZW1lbnRzLnNsaWNlKCk7XG4gIHRoaXMuZW52ID0gZW52O1xuICB0aGlzLnNjb3BlID0gc2NvcGU7XG4gIHRoaXMuc2hvdWxkU2V0Q29udGVudCA9IHNob3VsZFNldENvbnRlbnQ7XG5cbiAgaWYgKG9wdGlvbnMuc2VsZiAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuYmluZFNlbGYob3B0aW9ucy5zZWxmKTsgfVxuICBpZiAob3B0aW9ucy5ibG9ja0FyZ3VtZW50cyAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuYmluZExvY2FscyhvcHRpb25zLmJsb2NrQXJndW1lbnRzKTsgfVxuXG4gIHRoaXMuaW5pdGlhbGl6ZU5vZGVzKG93bmVyTm9kZSk7XG59XG5cblJlbmRlclJlc3VsdC5idWlsZCA9IGZ1bmN0aW9uKGVudiwgc2NvcGUsIHRlbXBsYXRlLCBvcHRpb25zLCBjb250ZXh0dWFsRWxlbWVudCkge1xuICB2YXIgZG9tID0gZW52LmRvbTtcbiAgdmFyIGZyYWdtZW50ID0gZ2V0Q2FjaGVkRnJhZ21lbnQodGVtcGxhdGUsIGVudik7XG4gIHZhciBub2RlcyA9IHRlbXBsYXRlLmJ1aWxkUmVuZGVyTm9kZXMoZG9tLCBmcmFnbWVudCwgY29udGV4dHVhbEVsZW1lbnQpO1xuXG4gIHZhciByb290Tm9kZSwgb3duZXJOb2RlLCBzaG91bGRTZXRDb250ZW50O1xuXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVuZGVyTm9kZSkge1xuICAgIHJvb3ROb2RlID0gb3B0aW9ucy5yZW5kZXJOb2RlO1xuICAgIG93bmVyTm9kZSA9IHJvb3ROb2RlLm93bmVyTm9kZTtcbiAgICBzaG91bGRTZXRDb250ZW50ID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByb290Tm9kZSA9IGRvbS5jcmVhdGVNb3JwaChudWxsLCBmcmFnbWVudC5maXJzdENoaWxkLCBmcmFnbWVudC5sYXN0Q2hpbGQsIGNvbnRleHR1YWxFbGVtZW50KTtcbiAgICBvd25lck5vZGUgPSByb290Tm9kZTtcbiAgICByb290Tm9kZS5vd25lck5vZGUgPSBvd25lck5vZGU7XG4gICAgc2hvdWxkU2V0Q29udGVudCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHJvb3ROb2RlLmNoaWxkTm9kZXMpIHtcbiAgICB2aXNpdENoaWxkcmVuKHJvb3ROb2RlLmNoaWxkTm9kZXMsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIGNsZWFyTW9ycGgobm9kZSwgZW52LCB0cnVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJvb3ROb2RlLmNoaWxkTm9kZXMgPSBub2RlcztcbiAgcmV0dXJuIG5ldyBSZW5kZXJSZXN1bHQoZW52LCBzY29wZSwgb3B0aW9ucywgcm9vdE5vZGUsIG93bmVyTm9kZSwgbm9kZXMsIGZyYWdtZW50LCB0ZW1wbGF0ZSwgc2hvdWxkU2V0Q29udGVudCk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbWFudWFsRWxlbWVudCh0YWdOYW1lLCBhdHRyaWJ1dGVzLCBfaXNFbXB0eSkge1xuICB2YXIgc3RhdGVtZW50cyA9IFtdO1xuXG4gIGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzW2tleV0gPT09ICdzdHJpbmcnKSB7IGNvbnRpbnVlOyB9XG5cbiAgICBzdGF0ZW1lbnRzLnB1c2goYnVpbGRTdGF0ZW1lbnQoXCJhdHRyaWJ1dGVcIiwga2V5LCBhdHRyaWJ1dGVzW2tleV0pKTtcbiAgfVxuXG4gIHZhciBpc0VtcHR5ID0gX2lzRW1wdHkgfHwgdm9pZE1hcFt0YWdOYW1lXTtcblxuICBpZiAoIWlzRW1wdHkpIHtcbiAgICBzdGF0ZW1lbnRzLnB1c2goYnVpbGRTdGF0ZW1lbnQoJ2NvbnRlbnQnLCAneWllbGQnKSk7XG4gIH1cblxuICB2YXIgdGVtcGxhdGUgPSB7XG4gICAgYXJpdHk6IDAsXG4gICAgY2FjaGVkRnJhZ21lbnQ6IG51bGwsXG4gICAgaGFzUmVuZGVyZWQ6IGZhbHNlLFxuICAgIGJ1aWxkRnJhZ21lbnQ6IGZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoZG9tKSB7XG4gICAgICB2YXIgZWwwID0gZG9tLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgIGlmICh0YWdOYW1lID09PSAnc3ZnJykge1xuICAgICAgICBkb20uc2V0TmFtZXNwYWNlKHN2Z05hbWVzcGFjZSk7XG4gICAgICB9XG4gICAgICB2YXIgZWwxID0gZG9tLmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRlc1trZXldICE9PSAnc3RyaW5nJykgeyBjb250aW51ZTsgfVxuICAgICAgICBkb20uc2V0QXR0cmlidXRlKGVsMSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzRW1wdHkpIHtcbiAgICAgICAgdmFyIGVsMiA9IGRvbS5jcmVhdGVDb21tZW50KFwiXCIpO1xuICAgICAgICBkb20uYXBwZW5kQ2hpbGQoZWwxLCBlbDIpO1xuICAgICAgfVxuXG4gICAgICBkb20uYXBwZW5kQ2hpbGQoZWwwLCBlbDEpO1xuXG4gICAgICByZXR1cm4gZWwwO1xuICAgIH0sXG4gICAgYnVpbGRSZW5kZXJOb2RlczogZnVuY3Rpb24gYnVpbGRSZW5kZXJOb2Rlcyhkb20sIGZyYWdtZW50KSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGRvbS5jaGlsZEF0KGZyYWdtZW50LCBbMF0pO1xuICAgICAgdmFyIG1vcnBocyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXNba2V5XSA9PT0gJ3N0cmluZycpIHsgY29udGludWU7IH1cbiAgICAgICAgbW9ycGhzLnB1c2goZG9tLmNyZWF0ZUF0dHJNb3JwaChlbGVtZW50LCBrZXkpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0VtcHR5KSB7XG4gICAgICAgIG1vcnBocy5wdXNoKGRvbS5jcmVhdGVNb3JwaEF0KGVsZW1lbnQsIDAsIDApKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1vcnBocztcbiAgICB9LFxuICAgIHN0YXRlbWVudHM6IHN0YXRlbWVudHMsXG4gICAgbG9jYWxzOiBbXSxcbiAgICB0ZW1wbGF0ZXM6IFtdXG4gIH07XG5cbiAgcmV0dXJuIHRlbXBsYXRlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoQXR0cmlidXRlcyhhdHRyaWJ1dGVzKSB7XG4gIHZhciBzdGF0ZW1lbnRzID0gW107XG5cbiAgZm9yICh2YXIga2V5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXNba2V5XSA9PT0gJ3N0cmluZycpIHsgY29udGludWU7IH1cbiAgICBzdGF0ZW1lbnRzLnB1c2goYnVpbGRTdGF0ZW1lbnQoXCJhdHRyaWJ1dGVcIiwga2V5LCBhdHRyaWJ1dGVzW2tleV0pKTtcbiAgfVxuXG4gIHZhciB0ZW1wbGF0ZSA9IHtcbiAgICBhcml0eTogMCxcbiAgICBjYWNoZWRGcmFnbWVudDogbnVsbCxcbiAgICBoYXNSZW5kZXJlZDogZmFsc2UsXG4gICAgYnVpbGRGcmFnbWVudDogZnVuY3Rpb24gYnVpbGRGcmFnbWVudChkb20pIHtcbiAgICAgIHZhciBlbDAgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICBpZiAoZWwwLm5hbWVzcGFjZVVSSSA9PT0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiKSB7XG4gICAgICAgIGRvbS5zZXROYW1lc3BhY2Uoc3ZnTmFtZXNwYWNlKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRlc1trZXldICE9PSAnc3RyaW5nJykgeyBjb250aW51ZTsgfVxuICAgICAgICBkb20uc2V0QXR0cmlidXRlKGVsMCwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZWwwO1xuICAgIH0sXG4gICAgYnVpbGRSZW5kZXJOb2RlczogZnVuY3Rpb24gYnVpbGRSZW5kZXJOb2Rlcyhkb20pIHtcbiAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgdmFyIG1vcnBocyA9IFtdO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZXNba2V5XSA9PT0gJ3N0cmluZycpIHsgY29udGludWU7IH1cbiAgICAgICAgbW9ycGhzLnB1c2goZG9tLmNyZWF0ZUF0dHJNb3JwaChlbGVtZW50LCBrZXkpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1vcnBocztcbiAgICB9LFxuICAgIHN0YXRlbWVudHM6IHN0YXRlbWVudHMsXG4gICAgbG9jYWxzOiBbXSxcbiAgICB0ZW1wbGF0ZXM6IFtdLFxuICAgIGVsZW1lbnQ6IG51bGxcbiAgfTtcblxuICByZXR1cm4gdGVtcGxhdGU7XG59XG5cblJlbmRlclJlc3VsdC5wcm90b3R5cGUuaW5pdGlhbGl6ZU5vZGVzID0gZnVuY3Rpb24ob3duZXJOb2RlKSB7XG4gIGxldCBjaGlsZE5vZGVzID0gdGhpcy5yb290LmNoaWxkTm9kZXM7XG5cbiAgZm9yIChsZXQgaT0wLCBsPWNoaWxkTm9kZXMubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgIGNoaWxkTm9kZXNbaV0ub3duZXJOb2RlID0gb3duZXJOb2RlO1xuICB9XG59O1xuXG5SZW5kZXJSZXN1bHQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnJvb3QubGFzdFJlc3VsdCA9IHRoaXM7XG4gIHRoaXMucm9vdC5yZW5kZXJlZCA9IHRydWU7XG4gIHRoaXMucG9wdWxhdGVOb2RlcyhBbHdheXNEaXJ0eVZpc2l0b3IpO1xuXG4gIGlmICh0aGlzLnNob3VsZFNldENvbnRlbnQgJiYgdGhpcy5yb290LnNldENvbnRlbnQpIHtcbiAgICB0aGlzLnJvb3Quc2V0Q29udGVudCh0aGlzLmZyYWdtZW50KTtcbiAgfVxufTtcblxuUmVuZGVyUmVzdWx0LnByb3RvdHlwZS5kaXJ0eSA9IGZ1bmN0aW9uKCkge1xuICB2aXNpdENoaWxkcmVuKFt0aGlzLnJvb3RdLCBmdW5jdGlvbihub2RlKSB7IG5vZGUuaXNEaXJ0eSA9IHRydWU7IH0pO1xufTtcblxuUmVuZGVyUmVzdWx0LnByb3RvdHlwZS5yZXZhbGlkYXRlID0gZnVuY3Rpb24oZW52LCBzZWxmLCBibG9ja0FyZ3VtZW50cywgc2NvcGUpIHtcbiAgdGhpcy5yZXZhbGlkYXRlV2l0aChlbnYsIHNjb3BlLCBzZWxmLCBibG9ja0FyZ3VtZW50cywgRXhwcmVzc2lvblZpc2l0b3IpO1xufTtcblxuUmVuZGVyUmVzdWx0LnByb3RvdHlwZS5yZXJlbmRlciA9IGZ1bmN0aW9uKGVudiwgc2VsZiwgYmxvY2tBcmd1bWVudHMsIHNjb3BlKSB7XG4gIHRoaXMucmV2YWxpZGF0ZVdpdGgoZW52LCBzY29wZSwgc2VsZiwgYmxvY2tBcmd1bWVudHMsIEFsd2F5c0RpcnR5VmlzaXRvcik7XG59O1xuXG5SZW5kZXJSZXN1bHQucHJvdG90eXBlLnJldmFsaWRhdGVXaXRoID0gZnVuY3Rpb24oZW52LCBzY29wZSwgc2VsZiwgYmxvY2tBcmd1bWVudHMsIHZpc2l0b3IpIHtcbiAgaWYgKGVudiAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuZW52ID0gZW52OyB9XG4gIGlmIChzY29wZSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMuc2NvcGUgPSBzY29wZTsgfVxuICB0aGlzLnVwZGF0ZVNjb3BlKCk7XG5cbiAgaWYgKHNlbGYgIT09IHVuZGVmaW5lZCkgeyB0aGlzLnVwZGF0ZVNlbGYoc2VsZik7IH1cbiAgaWYgKGJsb2NrQXJndW1lbnRzICE9PSB1bmRlZmluZWQpIHsgdGhpcy51cGRhdGVMb2NhbHMoYmxvY2tBcmd1bWVudHMpOyB9XG5cbiAgdGhpcy5wb3B1bGF0ZU5vZGVzKHZpc2l0b3IpO1xufTtcblxuUmVuZGVyUmVzdWx0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG4gIHZhciByb290Tm9kZSA9IHRoaXMucm9vdDtcbiAgY2xlYXJNb3JwaChyb290Tm9kZSwgdGhpcy5lbnYsIHRydWUpO1xufTtcblxuUmVuZGVyUmVzdWx0LnByb3RvdHlwZS5wb3B1bGF0ZU5vZGVzID0gZnVuY3Rpb24odmlzaXRvcikge1xuICB2YXIgZW52ID0gdGhpcy5lbnY7XG4gIHZhciBzY29wZSA9IHRoaXMuc2NvcGU7XG4gIHZhciB0ZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGU7XG4gIHZhciBub2RlcyA9IHRoaXMubm9kZXM7XG4gIHZhciBzdGF0ZW1lbnRzID0gdGhpcy5zdGF0ZW1lbnRzO1xuICB2YXIgaSwgbDtcblxuICBmb3IgKGk9MCwgbD1zdGF0ZW1lbnRzLmxlbmd0aDsgaTxsOyBpKyspIHtcbiAgICB2YXIgc3RhdGVtZW50ID0gc3RhdGVtZW50c1tpXTtcbiAgICB2YXIgbW9ycGggPSBub2Rlc1tpXTtcblxuICAgIGlmIChlbnYuaG9va3Mud2lsbFJlbmRlck5vZGUpIHtcbiAgICAgIGVudi5ob29rcy53aWxsUmVuZGVyTm9kZShtb3JwaCwgZW52LCBzY29wZSk7XG4gICAgfVxuXG4gICAgc3dpdGNoIChzdGF0ZW1lbnRbMF0pIHtcbiAgICAgIGNhc2UgJ2Jsb2NrJzogdmlzaXRvci5ibG9jayhzdGF0ZW1lbnQsIG1vcnBoLCBlbnYsIHNjb3BlLCB0ZW1wbGF0ZSwgdmlzaXRvcik7IGJyZWFrO1xuICAgICAgY2FzZSAnaW5saW5lJzogdmlzaXRvci5pbmxpbmUoc3RhdGVtZW50LCBtb3JwaCwgZW52LCBzY29wZSwgdmlzaXRvcik7IGJyZWFrO1xuICAgICAgY2FzZSAnY29udGVudCc6IHZpc2l0b3IuY29udGVudChzdGF0ZW1lbnQsIG1vcnBoLCBlbnYsIHNjb3BlLCB2aXNpdG9yKTsgYnJlYWs7XG4gICAgICBjYXNlICdlbGVtZW50JzogdmlzaXRvci5lbGVtZW50KHN0YXRlbWVudCwgbW9ycGgsIGVudiwgc2NvcGUsIHRlbXBsYXRlLCB2aXNpdG9yKTsgYnJlYWs7XG4gICAgICBjYXNlICdhdHRyaWJ1dGUnOiB2aXNpdG9yLmF0dHJpYnV0ZShzdGF0ZW1lbnQsIG1vcnBoLCBlbnYsIHNjb3BlKTsgYnJlYWs7XG4gICAgICBjYXNlICdjb21wb25lbnQnOiB2aXNpdG9yLmNvbXBvbmVudChzdGF0ZW1lbnQsIG1vcnBoLCBlbnYsIHNjb3BlLCB0ZW1wbGF0ZSwgdmlzaXRvcik7IGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChlbnYuaG9va3MuZGlkUmVuZGVyTm9kZSkge1xuICAgICAgZW52Lmhvb2tzLmRpZFJlbmRlck5vZGUobW9ycGgsIGVudiwgc2NvcGUpO1xuICAgIH1cbiAgfVxufTtcblxuUmVuZGVyUmVzdWx0LnByb3RvdHlwZS5iaW5kU2NvcGUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbnYuaG9va3MuYmluZFNjb3BlKHRoaXMuZW52LCB0aGlzLnNjb3BlKTtcbn07XG5cblJlbmRlclJlc3VsdC5wcm90b3R5cGUudXBkYXRlU2NvcGUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbnYuaG9va3MudXBkYXRlU2NvcGUodGhpcy5lbnYsIHRoaXMuc2NvcGUpO1xufTtcblxuUmVuZGVyUmVzdWx0LnByb3RvdHlwZS5iaW5kU2VsZiA9IGZ1bmN0aW9uKHNlbGYpIHtcbiAgdGhpcy5lbnYuaG9va3MuYmluZFNlbGYodGhpcy5lbnYsIHRoaXMuc2NvcGUsIHNlbGYpO1xufTtcblxuUmVuZGVyUmVzdWx0LnByb3RvdHlwZS51cGRhdGVTZWxmID0gZnVuY3Rpb24oc2VsZikge1xuICB0aGlzLmVudi5ob29rcy51cGRhdGVTZWxmKHRoaXMuZW52LCB0aGlzLnNjb3BlLCBzZWxmKTtcbn07XG5cblJlbmRlclJlc3VsdC5wcm90b3R5cGUuYmluZExvY2FscyA9IGZ1bmN0aW9uKGJsb2NrQXJndW1lbnRzKSB7XG4gIHZhciBsb2NhbE5hbWVzID0gdGhpcy50ZW1wbGF0ZS5sb2NhbHM7XG5cbiAgZm9yICh2YXIgaT0wLCBsPWxvY2FsTmFtZXMubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgIHRoaXMuZW52Lmhvb2tzLmJpbmRMb2NhbCh0aGlzLmVudiwgdGhpcy5zY29wZSwgbG9jYWxOYW1lc1tpXSwgYmxvY2tBcmd1bWVudHNbaV0pO1xuICB9XG59O1xuXG5SZW5kZXJSZXN1bHQucHJvdG90eXBlLnVwZGF0ZUxvY2FscyA9IGZ1bmN0aW9uKGJsb2NrQXJndW1lbnRzKSB7XG4gIHZhciBsb2NhbE5hbWVzID0gdGhpcy50ZW1wbGF0ZS5sb2NhbHM7XG5cbiAgZm9yICh2YXIgaT0wLCBsPWxvY2FsTmFtZXMubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgIHRoaXMuZW52Lmhvb2tzLnVwZGF0ZUxvY2FsKHRoaXMuZW52LCB0aGlzLnNjb3BlLCBsb2NhbE5hbWVzW2ldLCBibG9ja0FyZ3VtZW50c1tpXSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVOb2RlKG5vZGUsIG93bmVyKSB7XG4gIG5vZGUub3duZXJOb2RlID0gb3duZXI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDaGlsZE1vcnBoKGRvbSwgcGFyZW50TW9ycGgsIGNvbnRleHR1YWxFbGVtZW50KSB7XG4gIHZhciBtb3JwaCA9IE1vcnBoLmVtcHR5KGRvbSwgY29udGV4dHVhbEVsZW1lbnQgfHwgcGFyZW50TW9ycGguY29udGV4dHVhbEVsZW1lbnQpO1xuICBpbml0aWFsaXplTm9kZShtb3JwaCwgcGFyZW50TW9ycGgub3duZXJOb2RlKTtcbiAgcmV0dXJuIG1vcnBoO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2FjaGVkRnJhZ21lbnQodGVtcGxhdGUsIGVudikge1xuICB2YXIgZG9tID0gZW52LmRvbSwgZnJhZ21lbnQ7XG4gIGlmIChlbnYudXNlRnJhZ21lbnRDYWNoZSAmJiBkb20uY2FuQ2xvbmUpIHtcbiAgICBpZiAodGVtcGxhdGUuY2FjaGVkRnJhZ21lbnQgPT09IG51bGwpIHtcbiAgICAgIGZyYWdtZW50ID0gdGVtcGxhdGUuYnVpbGRGcmFnbWVudChkb20pO1xuICAgICAgaWYgKHRlbXBsYXRlLmhhc1JlbmRlcmVkKSB7XG4gICAgICAgIHRlbXBsYXRlLmNhY2hlZEZyYWdtZW50ID0gZnJhZ21lbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZW1wbGF0ZS5oYXNSZW5kZXJlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZS5jYWNoZWRGcmFnbWVudCkge1xuICAgICAgZnJhZ21lbnQgPSBkb20uY2xvbmVOb2RlKHRlbXBsYXRlLmNhY2hlZEZyYWdtZW50LCB0cnVlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIWZyYWdtZW50KSB7XG4gICAgZnJhZ21lbnQgPSB0ZW1wbGF0ZS5idWlsZEZyYWdtZW50KGRvbSk7XG4gIH1cblxuICByZXR1cm4gZnJhZ21lbnQ7XG59XG4iXX0=
define('htmlbars-runtime/render.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - htmlbars-runtime');
  QUnit.test('htmlbars-runtime/render.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-runtime/render.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXJ1bnRpbWUvcmVuZGVyLmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO0FBQzFDLE9BQUssQ0FBQyxJQUFJLENBQUMsK0NBQStDLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDM0UsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsZ0RBQWdELENBQUMsQ0FBQztHQUNuRSxDQUFDLENBQUMiLCJmaWxlIjoiaHRtbGJhcnMtcnVudGltZS9yZW5kZXIuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSBodG1sYmFycy1ydW50aW1lJyk7XG5RVW5pdC50ZXN0KCdodG1sYmFycy1ydW50aW1lL3JlbmRlci5qcyBzaG91bGQgcGFzcyBqc2hpbnQnLCBmdW5jdGlvbihhc3NlcnQpIHsgXG4gIGFzc2VydC5vayh0cnVlLCAnaHRtbGJhcnMtcnVudGltZS9yZW5kZXIuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define("htmlbars-test-helpers", ["exports", "../simple-html-tokenizer/index", "../htmlbars-util/array-utils"], function (exports, _simpleHtmlTokenizerIndex, _htmlbarsUtilArrayUtils) {
  exports.equalInnerHTML = equalInnerHTML;
  exports.equalHTML = equalHTML;
  exports.equalTokens = equalTokens;
  exports.normalizeInnerHTML = normalizeInnerHTML;
  exports.isCheckedInputHTML = isCheckedInputHTML;
  exports.getTextContent = getTextContent;

  function equalInnerHTML(fragment, html) {
    var actualHTML = normalizeInnerHTML(fragment.innerHTML);
    QUnit.push(actualHTML === html, actualHTML, html);
  }

  function equalHTML(node, html) {
    var fragment;
    if (!node.nodeType && node.length) {
      fragment = document.createDocumentFragment();
      while (node[0]) {
        fragment.appendChild(node[0]);
      }
    } else {
      fragment = node;
    }

    var div = document.createElement("div");
    div.appendChild(fragment.cloneNode(true));

    equalInnerHTML(div, html);
  }

  function generateTokens(fragmentOrHtml) {
    var div = document.createElement("div");
    if (typeof fragmentOrHtml === 'string') {
      div.innerHTML = fragmentOrHtml;
    } else {
      div.appendChild(fragmentOrHtml.cloneNode(true));
    }

    return { tokens: _simpleHtmlTokenizerIndex.tokenize(div.innerHTML), html: div.innerHTML };
  }

  function equalTokens(fragment, html, message) {
    if (fragment.fragment) {
      fragment = fragment.fragment;
    }
    if (html.fragment) {
      html = html.fragment;
    }

    var fragTokens = generateTokens(fragment);
    var htmlTokens = generateTokens(html);

    function normalizeTokens(token) {
      if (token.type === 'StartTag') {
        token.attributes = token.attributes.sort(function (a, b) {
          if (a[0] > b[0]) {
            return 1;
          }
          if (a[0] < b[0]) {
            return -1;
          }
          return 0;
        });
      }
    }

    _htmlbarsUtilArrayUtils.forEach(fragTokens.tokens, normalizeTokens);
    _htmlbarsUtilArrayUtils.forEach(htmlTokens.tokens, normalizeTokens);

    var msg = "Expected: " + html + "; Actual: " + fragTokens.html;

    if (message) {
      msg += " (" + message + ")";
    }

    deepEqual(fragTokens.tokens, htmlTokens.tokens, msg);
  }

  // detect side-effects of cloning svg elements in IE9-11
  var ieSVGInnerHTML = (function () {
    if (!document.createElementNS) {
      return false;
    }
    var div = document.createElement('div');
    var node = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
    div.appendChild(node);
    var clone = div.cloneNode(true);
    return clone.innerHTML === '<svg xmlns="http://www.w3.org/2000/svg" />';
  })();

  function normalizeInnerHTML(actualHTML) {
    if (ieSVGInnerHTML) {
      // Replace `<svg xmlns="http://www.w3.org/2000/svg" height="50%" />` with `<svg height="50%"></svg>`, etc.
      // drop namespace attribute
      actualHTML = actualHTML.replace(/ xmlns="[^"]+"/, '');
      // replace self-closing elements
      actualHTML = actualHTML.replace(/<([^ >]+) [^\/>]*\/>/gi, function (tag, tagName) {
        return tag.slice(0, tag.length - 3) + '></' + tagName + '>';
      });
    }

    return actualHTML;
  }

  // detect weird IE8 checked element string
  var checkedInput = document.createElement('input');
  checkedInput.setAttribute('checked', 'checked');
  var checkedInputString = checkedInput.outerHTML;

  function isCheckedInputHTML(element) {
    equal(element.outerHTML, checkedInputString);
  }

  // check which property has the node's text content
  var textProperty = document.createElement('div').textContent === undefined ? 'innerText' : 'textContent';

  function getTextContent(el) {
    // textNode
    if (el.nodeType === 3) {
      return el.nodeValue;
    } else {
      return el[textProperty];
    }
  }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXRlc3QtaGVscGVycy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUdPLFdBQVMsY0FBYyxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUU7QUFDN0MsUUFBSSxVQUFVLEdBQUcsa0JBQWtCLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ3hELFNBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxLQUFLLElBQUksRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7R0FDbkQ7O0FBRU0sV0FBUyxTQUFTLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRTtBQUNwQyxRQUFJLFFBQVEsQ0FBQztBQUNiLFFBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDakMsY0FBUSxHQUFHLFFBQVEsQ0FBQyxzQkFBc0IsRUFBRSxDQUFDO0FBQzdDLGFBQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFO0FBQ2QsZ0JBQVEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7T0FDL0I7S0FDRixNQUFNO0FBQ0wsY0FBUSxHQUFHLElBQUksQ0FBQztLQUNqQjs7QUFFRCxRQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3hDLE9BQUcsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDOztBQUUxQyxrQkFBYyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztHQUMzQjs7QUFFRCxXQUFTLGNBQWMsQ0FBQyxjQUFjLEVBQUU7QUFDdEMsUUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN4QyxRQUFJLE9BQU8sY0FBYyxLQUFLLFFBQVEsRUFBRTtBQUN0QyxTQUFHLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztLQUNoQyxNQUFNO0FB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QUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxHQUFHLEtBQUssR0FBRyxPQUFPLEdBQUcsR0FBRyxDQUFDO09BQzdELENBQUMsQ0FBQztLQUNKOztBQUVELFdBQU8sVUFBVSxDQUFDO0dBQ25COzs7QUFHRCxNQUFJLFlBQVksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ25ELGNBQVksQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2hELE1BQUksa0JBQWtCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQzs7QUFDekMsV0FBUyxrQkFBa0IsQ0FBQyxPQUFPLEVBQUU7QUFDMUMsU0FBSyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsa0JBQWtCLENBQUMsQ0FBQztHQUM5Qzs7O0FBR0QsTUFBSSxZQUFZLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLEtBQUssU0FBUyxHQUFHLFdBQVcsR0FBRyxhQUFhLENBQUM7O0FBQ2xHLFdBQVMsY0FBYyxDQUFDLEVBQUUsRUFBRTs7QUFFakMsUUFBSSxFQUFFLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTtBQUNyQixhQUFPLEVBQUUsQ0FBQyxTQUFTLENBQUM7S0FDckIsTUFBTTtBQUNMLGFBQU8sRUFBRSxDQUFDLFlBQVksQ0FBQyxDQUFDO0tBQ3pCO0dBQ0YiLCJmaWxlIjoiaHRtbGJhcnMtdGVzdC1oZWxwZXJzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdG9rZW5pemUgfSBmcm9tIFwiLi4vc2ltcGxlLWh0bWwtdG9rZW5pemVyL2luZGV4XCI7XG5pbXBvcnQgeyBmb3JFYWNoIH0gZnJvbSBcIi4uL2h0bWxiYXJzLXV0aWwvYXJyYXktdXRpbHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsSW5uZXJIVE1MKGZyYWdtZW50LCBodG1sKSB7XG4gIHZhciBhY3R1YWxIVE1MID0gbm9ybWFsaXplSW5uZXJIVE1MKGZyYWdtZW50LmlubmVySFRNTCk7XG4gIFFVbml0LnB1c2goYWN0dWFsSFRNTCA9PT0gaHRtbCwgYWN0dWFsSFRNTCwgaHRtbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbEhUTUwobm9kZSwgaHRtbCkge1xuICB2YXIgZnJhZ21lbnQ7XG4gIGlmICghbm9kZS5ub2RlVHlwZSAmJiBub2RlLmxlbmd0aCkge1xuICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIHdoaWxlIChub2RlWzBdKSB7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChub2RlWzBdKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZnJhZ21lbnQgPSBub2RlO1xuICB9XG5cbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGRpdi5hcHBlbmRDaGlsZChmcmFnbWVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuXG4gIGVxdWFsSW5uZXJIVE1MKGRpdiwgaHRtbCk7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlVG9rZW5zKGZyYWdtZW50T3JIdG1sKSB7XG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBpZiAodHlwZW9mIGZyYWdtZW50T3JIdG1sID09PSAnc3RyaW5nJykge1xuICAgIGRpdi5pbm5lckhUTUwgPSBmcmFnbWVudE9ySHRtbDtcbiAgfSBlbHNlIHtcbiAgICBkaXYuYXBwZW5kQ2hpbGQoZnJhZ21lbnRPckh0bWwuY2xvbmVOb2RlKHRydWUpKTtcbiAgfVxuXG4gIHJldHVybiB7IHRva2VuczogdG9rZW5pemUoZGl2LmlubmVySFRNTCksIGh0bWw6IGRpdi5pbm5lckhUTUwgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsVG9rZW5zKGZyYWdtZW50LCBodG1sLCBtZXNzYWdlKSB7XG4gIGlmIChmcmFnbWVudC5mcmFnbWVudCkgeyBmcmFnbWVudCA9IGZyYWdtZW50LmZyYWdtZW50OyB9XG4gIGlmIChodG1sLmZyYWdtZW50KSB7IGh0bWwgPSBodG1sLmZyYWdtZW50OyB9XG5cbiAgdmFyIGZyYWdUb2tlbnMgPSBnZW5lcmF0ZVRva2VucyhmcmFnbWVudCk7XG4gIHZhciBodG1sVG9rZW5zID0gZ2VuZXJhdGVUb2tlbnMoaHRtbCk7XG5cbiAgZnVuY3Rpb24gbm9ybWFsaXplVG9rZW5zKHRva2VuKSB7XG4gICAgaWYgKHRva2VuLnR5cGUgPT09ICdTdGFydFRhZycpIHtcbiAgICAgIHRva2VuLmF0dHJpYnV0ZXMgPSB0b2tlbi5hdHRyaWJ1dGVzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICBpZiAoYVswXSA+IGJbMF0pIHsgcmV0dXJuIDE7IH1cbiAgICAgICAgaWYgKGFbMF0gPCBiWzBdKSB7IHJldHVybiAtMTsgfVxuICAgICAgICByZXR1cm4gMDsgICAgXG4gICAgICB9KTsgICAgXG4gICAgfSAgICBcbiAgfSAgICBcbiAgIFxuICBmb3JFYWNoKGZyYWdUb2tlbnMudG9rZW5zLCBub3JtYWxpemVUb2tlbnMpOyAgIFxuICBmb3JFYWNoKGh0bWxUb2tlbnMudG9rZW5zLCBub3JtYWxpemVUb2tlbnMpOyAgIFxuXG4gIHZhciBtc2cgPSBcIkV4cGVjdGVkOiBcIiArIGh0bWwgKyBcIjsgQWN0dWFsOiBcIiArIGZyYWdUb2tlbnMuaHRtbDtcblxuICBpZiAobWVzc2FnZSkgeyBtc2cgKz0gXCIgKFwiICsgbWVzc2FnZSArIFwiKVwiOyB9XG5cbiAgZGVlcEVxdWFsKGZyYWdUb2tlbnMudG9rZW5zLCBodG1sVG9rZW5zLnRva2VucywgbXNnKTtcbn1cblxuLy8gZGV0ZWN0IHNpZGUtZWZmZWN0cyBvZiBjbG9uaW5nIHN2ZyBlbGVtZW50cyBpbiBJRTktMTFcbnZhciBpZVNWR0lubmVySFRNTCA9IChmdW5jdGlvbiAoKSB7XG4gIGlmICghZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpO1xuICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7XG4gIHZhciBjbG9uZSA9IGRpdi5jbG9uZU5vZGUodHJ1ZSk7XG4gIHJldHVybiBjbG9uZS5pbm5lckhUTUwgPT09ICc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiAvPic7XG59KSgpO1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplSW5uZXJIVE1MKGFjdHVhbEhUTUwpIHtcbiAgaWYgKGllU1ZHSW5uZXJIVE1MKSB7XG4gICAgLy8gUmVwbGFjZSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgaGVpZ2h0PVwiNTAlXCIgLz5gIHdpdGggYDxzdmcgaGVpZ2h0PVwiNTAlXCI+PC9zdmc+YCwgZXRjLlxuICAgIC8vIGRyb3AgbmFtZXNwYWNlIGF0dHJpYnV0ZVxuICAgIGFjdHVhbEhUTUwgPSBhY3R1YWxIVE1MLnJlcGxhY2UoLyB4bWxucz1cIlteXCJdK1wiLywgJycpO1xuICAgIC8vIHJlcGxhY2Ugc2VsZi1jbG9zaW5nIGVsZW1lbnRzXG4gICAgYWN0dWFsSFRNTCA9IGFjdHVhbEhUTUwucmVwbGFjZSgvPChbXiA+XSspIFteXFwvPl0qXFwvPi9naSwgZnVuY3Rpb24odGFnLCB0YWdOYW1lKSB7XG4gICAgICByZXR1cm4gdGFnLnNsaWNlKDAsIHRhZy5sZW5ndGggLSAzKSArICc+PC8nICsgdGFnTmFtZSArICc+JztcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBhY3R1YWxIVE1MO1xufVxuXG4vLyBkZXRlY3Qgd2VpcmQgSUU4IGNoZWNrZWQgZWxlbWVudCBzdHJpbmdcbnZhciBjaGVja2VkSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuY2hlY2tlZElucHV0LnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsICdjaGVja2VkJyk7XG52YXIgY2hlY2tlZElucHV0U3RyaW5nID0gY2hlY2tlZElucHV0Lm91dGVySFRNTDtcbmV4cG9ydCBmdW5jdGlvbiBpc0NoZWNrZWRJbnB1dEhUTUwoZWxlbWVudCkge1xuICBlcXVhbChlbGVtZW50Lm91dGVySFRNTCwgY2hlY2tlZElucHV0U3RyaW5nKTtcbn1cblxuLy8gY2hlY2sgd2hpY2ggcHJvcGVydHkgaGFzIHRoZSBub2RlJ3MgdGV4dCBjb250ZW50XG52YXIgdGV4dFByb3BlcnR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykudGV4dENvbnRlbnQgPT09IHVuZGVmaW5lZCA/ICdpbm5lclRleHQnIDogJ3RleHRDb250ZW50JztcbmV4cG9ydCBmdW5jdGlvbiBnZXRUZXh0Q29udGVudChlbCkge1xuICAvLyB0ZXh0Tm9kZVxuICBpZiAoZWwubm9kZVR5cGUgPT09IDMpIHtcbiAgICByZXR1cm4gZWwubm9kZVZhbHVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBlbFt0ZXh0UHJvcGVydHldO1xuICB9XG59XG4iXX0=
define('htmlbars-test-helpers.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - .');
  QUnit.test('htmlbars-test-helpers.js should pass jshint', function (assert) {
    assert.ok(true, 'htmlbars-test-helpers.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0bWxiYXJzLXRlc3QtaGVscGVycy5qc2hpbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQUssQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDM0IsT0FBSyxDQUFDLElBQUksQ0FBQyw2Q0FBNkMsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUN6RSxVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSw4Q0FBOEMsQ0FBQyxDQUFDO0dBQ2pFLENBQUMsQ0FBQyIsImZpbGUiOiJodG1sYmFycy10ZXN0LWhlbHBlcnMuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSAuJyk7XG5RVW5pdC50ZXN0KCdodG1sYmFycy10ZXN0LWhlbHBlcnMuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ2h0bWxiYXJzLXRlc3QtaGVscGVycy5qcyBzaG91bGQgcGFzcyBqc2hpbnQuJyk7IFxufSk7XG4iXX0=
define("morph-attr", ["exports", "./morph-attr/sanitize-attribute-value", "./dom-helper/prop", "./dom-helper/build-html-dom", "./htmlbars-util"], function (exports, _morphAttrSanitizeAttributeValue, _domHelperProp, _domHelperBuildHtmlDom, _htmlbarsUtil) {

  function getProperty() {
    return this.domHelper.getPropertyStrict(this.element, this.attrName);
  }

  function updateProperty(value) {
    if (this._renderedInitially === true || !_domHelperProp.isAttrRemovalValue(value)) {
      var element = this.element;
      var attrName = this.attrName;

      if (attrName === 'value' && element.tagName === 'INPUT' && element.value === value) {
        // Do nothing. Attempts to avoid accidently changing the input cursor location.
        // See https://github.com/tildeio/htmlbars/pull/447 for more details.
      } else {
          // do not render if initial value is undefined or null
          this.domHelper.setPropertyStrict(element, attrName, value);
        }
    }

    this._renderedInitially = true;
  }

  function getAttribute() {
    return this.domHelper.getAttribute(this.element, this.attrName);
  }

  // normalize to be more inline with updateProperty behavior
  function normalizeAttributeValue(value) {
    if (value === false || value === undefined || value === null) {
      return null;
    }
    if (value === true) {
      return '';
    }
    // onclick function etc in SSR
    if (typeof value === 'function') {
      return null;
    }
    return String(value);
  }

  function updateAttribute(_value) {
    var value = normalizeAttributeValue(_value);
    if (_domHelperProp.isAttrRemovalValue(value)) {
      this.domHelper.removeAttribute(this.element, this.attrName);
    } else {
      this.domHelper.setAttribute(this.element, this.attrName, value);
    }
  }

  function getAttributeNS() {
    return this.domHelper.getAttributeNS(this.element, this.namespace, this.attrName);
  }

  function updateAttributeNS(_value) {
    var value = normalizeAttributeValue(_value);
    if (_domHelperProp.isAttrRemovalValue(value)) {
      this.domHelper.removeAttribute(this.element, this.attrName);
    } else {
      this.domHelper.setAttributeNS(this.element, this.namespace, this.attrName, value);
    }
  }

  var UNSET = { unset: true };

  var guid = 1;

  AttrMorph.create = function (element, attrName, domHelper, namespace) {
    var ns = _htmlbarsUtil.getAttrNamespace(attrName, namespace);

    if (ns) {
      return new AttributeNSAttrMorph(element, attrName, domHelper, ns);
    } else {
      return createNonNamespacedAttrMorph(element, attrName, domHelper);
    }
  };

  function createNonNamespacedAttrMorph(element, attrName, domHelper) {
    var _normalizeProperty = _domHelperProp.normalizeProperty(element, attrName);

    var normalized = _normalizeProperty.normalized;
    var type = _normalizeProperty.type;

    if (element.namespaceURI === _domHelperBuildHtmlDom.svgNamespace || attrName === 'style' || type === 'attr') {
      return new AttributeAttrMorph(element, normalized, domHelper);
    } else {
      return new PropertyAttrMorph(element, normalized, domHelper);
    }
  }

  function AttrMorph(element, attrName, domHelper) {
    this.element = element;
    this.domHelper = domHelper;
    this.attrName = attrName;
    this._state = undefined;
    this.isDirty = false;
    this.isSubtreeDirty = false;
    this.escaped = true;
    this.lastValue = UNSET;
    this.lastResult = null;
    this.lastYielded = null;
    this.childNodes = null;
    this.linkedParams = null;
    this.linkedResult = null;
    this.guid = "attr" + guid++;
    this.seen = false;
    this.ownerNode = null;
    this.rendered = false;
    this._renderedInitially = false;
    this.namespace = undefined;
    this.didInit();
  }

  AttrMorph.prototype.getState = function () {
    if (!this._state) {
      this._state = {};
    }

    return this._state;
  };

  AttrMorph.prototype.setState = function (newState) {
    /*jshint -W093 */

    return this._state = newState;
  };

  AttrMorph.prototype.didInit = function () {};
  AttrMorph.prototype.willSetContent = function () {};

  AttrMorph.prototype.setContent = function (value) {
    this.willSetContent(value);

    if (this.lastValue === value) {
      return;
    }
    this.lastValue = value;

    if (this.escaped) {
      var sanitized = _morphAttrSanitizeAttributeValue.sanitizeAttributeValue(this.domHelper, this.element, this.attrName, value);
      this._update(sanitized, this.namespace);
    } else {
      this._update(value, this.namespace);
    }
  };

  AttrMorph.prototype.getContent = function () {
    var value = this.lastValue = this._get();
    return value;
  };

  // renderAndCleanup calls `clear` on all items in the morph map
  // just before calling `destroy` on the morph.
  //
  // As a future refactor this could be changed to set the property
  // back to its original/default value.
  AttrMorph.prototype.clear = function () {};

  AttrMorph.prototype.destroy = function () {
    this.element = null;
    this.domHelper = null;
  };

  AttrMorph.prototype._$superAttrMorph = AttrMorph;

  function PropertyAttrMorph(element, attrName, domHelper) {
    this._$superAttrMorph(element, attrName, domHelper);
  }

  PropertyAttrMorph.prototype = Object.create(AttrMorph.prototype);
  PropertyAttrMorph.prototype._update = updateProperty;
  PropertyAttrMorph.prototype._get = getProperty;

  function AttributeNSAttrMorph(element, attrName, domHelper, namespace) {
    this._$superAttrMorph(element, attrName, domHelper);
    this.namespace = namespace;
  }

  AttributeNSAttrMorph.prototype = Object.create(AttrMorph.prototype);
  AttributeNSAttrMorph.prototype._update = updateAttributeNS;
  AttributeNSAttrMorph.prototype._get = getAttributeNS;

  function AttributeAttrMorph(element, attrName, domHelper) {
    this._$superAttrMorph(element, attrName, domHelper);
  }

  AttributeAttrMorph.prototype = Object.create(AttrMorph.prototype);
  AttributeAttrMorph.prototype._update = updateAttribute;
  AttributeAttrMorph.prototype._get = getAttribute;

  exports.default = AttrMorph;
  exports.sanitizeAttributeValue = _morphAttrSanitizeAttributeValue.sanitizeAttributeValue;
});
//# sourceMappingURL=data:application/json;base64,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QVMsQ0FBQyxDQUFDO0FBQ2xFLG9CQUFrQixDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsZUFBZSxDQUFDO0FBQ3ZELG9CQUFrQixDQUFDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsWUFBWSxDQUFDOztvQkFFbEMsU0FBUztVQUVmLHNCQUFzQixvQ0EvTHRCLHNCQUFzQiIsImZpbGUiOiJtb3JwaC1hdHRyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2FuaXRpemVBdHRyaWJ1dGVWYWx1ZSB9IGZyb20gXCIuL21vcnBoLWF0dHIvc2FuaXRpemUtYXR0cmlidXRlLXZhbHVlXCI7XG5pbXBvcnQgeyBpc0F0dHJSZW1vdmFsVmFsdWUsIG5vcm1hbGl6ZVByb3BlcnR5IH0gZnJvbSBcIi4vZG9tLWhlbHBlci9wcm9wXCI7XG5pbXBvcnQgeyBzdmdOYW1lc3BhY2UgfSBmcm9tIFwiLi9kb20taGVscGVyL2J1aWxkLWh0bWwtZG9tXCI7XG5pbXBvcnQgeyBnZXRBdHRyTmFtZXNwYWNlIH0gZnJvbSBcIi4vaHRtbGJhcnMtdXRpbFwiO1xuXG5mdW5jdGlvbiBnZXRQcm9wZXJ0eSgpIHtcbiAgcmV0dXJuIHRoaXMuZG9tSGVscGVyLmdldFByb3BlcnR5U3RyaWN0KHRoaXMuZWxlbWVudCwgdGhpcy5hdHRyTmFtZSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVByb3BlcnR5KHZhbHVlKSB7XG4gIGlmICh0aGlzLl9yZW5kZXJlZEluaXRpYWxseSA9PT0gdHJ1ZSB8fCAhaXNBdHRyUmVtb3ZhbFZhbHVlKHZhbHVlKSkge1xuICAgIGxldCBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgIGxldCBhdHRyTmFtZSA9IHRoaXMuYXR0ck5hbWU7XG5cbiAgICBpZiAoYXR0ck5hbWUgPT09ICd2YWx1ZScgJiYgZWxlbWVudC50YWdOYW1lID09PSAnSU5QVVQnICYmIGVsZW1lbnQudmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAvLyBEbyBub3RoaW5nLiBBdHRlbXB0cyB0byBhdm9pZCBhY2NpZGVudGx5IGNoYW5naW5nIHRoZSBpbnB1dCBjdXJzb3IgbG9jYXRpb24uXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vaHRtbGJhcnMvcHVsbC80NDcgZm9yIG1vcmUgZGV0YWlscy5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZG8gbm90IHJlbmRlciBpZiBpbml0aWFsIHZhbHVlIGlzIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICB0aGlzLmRvbUhlbHBlci5zZXRQcm9wZXJ0eVN0cmljdChlbGVtZW50LCBhdHRyTmFtZSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMuX3JlbmRlcmVkSW5pdGlhbGx5ID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKCkge1xuICByZXR1cm4gdGhpcy5kb21IZWxwZXIuZ2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudCwgdGhpcy5hdHRyTmFtZSk7XG59XG5cbi8vIG5vcm1hbGl6ZSB0byBiZSBtb3JlIGlubGluZSB3aXRoIHVwZGF0ZVByb3BlcnR5IGJlaGF2aW9yXG5mdW5jdGlvbiBub3JtYWxpemVBdHRyaWJ1dGVWYWx1ZSh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgLy8gb25jbGljayBmdW5jdGlvbiBldGMgaW4gU1NSXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQXR0cmlidXRlKF92YWx1ZSkge1xuICB2YXIgdmFsdWUgPSBub3JtYWxpemVBdHRyaWJ1dGVWYWx1ZShfdmFsdWUpO1xuICBpZiAoaXNBdHRyUmVtb3ZhbFZhbHVlKHZhbHVlKSkge1xuICAgIHRoaXMuZG9tSGVscGVyLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLmVsZW1lbnQsIHRoaXMuYXR0ck5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuZG9tSGVscGVyLnNldEF0dHJpYnV0ZSh0aGlzLmVsZW1lbnQsIHRoaXMuYXR0ck5hbWUsIHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRBdHRyaWJ1dGVOUygpIHtcbiAgcmV0dXJuIHRoaXMuZG9tSGVscGVyLmdldEF0dHJpYnV0ZU5TKHRoaXMuZWxlbWVudCwgdGhpcy5uYW1lc3BhY2UsIHRoaXMuYXR0ck5hbWUpO1xufVxuXG5mdW5jdGlvbiB1cGRhdGVBdHRyaWJ1dGVOUyhfdmFsdWUpIHtcbiAgdmFyIHZhbHVlID0gbm9ybWFsaXplQXR0cmlidXRlVmFsdWUoX3ZhbHVlKTtcbiAgaWYgKGlzQXR0clJlbW92YWxWYWx1ZSh2YWx1ZSkpIHtcbiAgICB0aGlzLmRvbUhlbHBlci5yZW1vdmVBdHRyaWJ1dGUodGhpcy5lbGVtZW50LCB0aGlzLmF0dHJOYW1lKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmRvbUhlbHBlci5zZXRBdHRyaWJ1dGVOUyh0aGlzLmVsZW1lbnQsIHRoaXMubmFtZXNwYWNlLCB0aGlzLmF0dHJOYW1lLCB2YWx1ZSk7XG4gIH1cbn1cblxudmFyIFVOU0VUID0geyB1bnNldDogdHJ1ZSB9O1xuXG52YXIgZ3VpZCA9IDE7XG5cbkF0dHJNb3JwaC5jcmVhdGUgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyTmFtZSwgZG9tSGVscGVyLCBuYW1lc3BhY2UpIHtcbiAgbGV0IG5zID0gZ2V0QXR0ck5hbWVzcGFjZShhdHRyTmFtZSwgbmFtZXNwYWNlKTtcblxuICBpZiAobnMpIHtcbiAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZU5TQXR0ck1vcnBoKGVsZW1lbnQsIGF0dHJOYW1lLCBkb21IZWxwZXIsIG5zKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gY3JlYXRlTm9uTmFtZXNwYWNlZEF0dHJNb3JwaChlbGVtZW50LCBhdHRyTmFtZSwgZG9tSGVscGVyKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gY3JlYXRlTm9uTmFtZXNwYWNlZEF0dHJNb3JwaChlbGVtZW50LCBhdHRyTmFtZSwgZG9tSGVscGVyKSB7XG4gIGxldCB7IG5vcm1hbGl6ZWQsIHR5cGUgfSA9IG5vcm1hbGl6ZVByb3BlcnR5KGVsZW1lbnQsIGF0dHJOYW1lKTtcblxuICBpZiAoZWxlbWVudC5uYW1lc3BhY2VVUkkgPT09IHN2Z05hbWVzcGFjZSB8fCBhdHRyTmFtZSA9PT0gJ3N0eWxlJyB8fCB0eXBlID09PSAnYXR0cicpIHtcbiAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZUF0dHJNb3JwaChlbGVtZW50LCBub3JtYWxpemVkLCBkb21IZWxwZXIpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgUHJvcGVydHlBdHRyTW9ycGgoZWxlbWVudCwgbm9ybWFsaXplZCwgZG9tSGVscGVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBBdHRyTW9ycGgoZWxlbWVudCwgYXR0ck5hbWUsIGRvbUhlbHBlcikge1xuICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICB0aGlzLmRvbUhlbHBlciA9IGRvbUhlbHBlcjtcbiAgdGhpcy5hdHRyTmFtZSA9IGF0dHJOYW1lO1xuICB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5pc0RpcnR5ID0gZmFsc2U7XG4gIHRoaXMuaXNTdWJ0cmVlRGlydHkgPSBmYWxzZTtcbiAgdGhpcy5lc2NhcGVkID0gdHJ1ZTtcbiAgdGhpcy5sYXN0VmFsdWUgPSBVTlNFVDtcbiAgdGhpcy5sYXN0UmVzdWx0ID0gbnVsbDtcbiAgdGhpcy5sYXN0WWllbGRlZCA9IG51bGw7XG4gIHRoaXMuY2hpbGROb2RlcyA9IG51bGw7XG4gIHRoaXMubGlua2VkUGFyYW1zID0gbnVsbDtcbiAgdGhpcy5saW5rZWRSZXN1bHQgPSBudWxsO1xuICB0aGlzLmd1aWQgPSBcImF0dHJcIiArIGd1aWQrKztcbiAgdGhpcy5zZWVuID0gZmFsc2U7XG4gIHRoaXMub3duZXJOb2RlID0gbnVsbDtcbiAgdGhpcy5yZW5kZXJlZCA9IGZhbHNlO1xuICB0aGlzLl9yZW5kZXJlZEluaXRpYWxseSA9IGZhbHNlO1xuICB0aGlzLm5hbWVzcGFjZSA9IHVuZGVmaW5lZDtcbiAgdGhpcy5kaWRJbml0KCk7XG59XG5cbkF0dHJNb3JwaC5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLl9zdGF0ZSkge1xuICAgIHRoaXMuX3N0YXRlID0ge307XG4gIH1cblxuICByZXR1cm4gdGhpcy5fc3RhdGU7XG59O1xuXG5BdHRyTW9ycGgucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24obmV3U3RhdGUpIHtcbiAgLypqc2hpbnQgLVcwOTMgKi9cblxuICByZXR1cm4gdGhpcy5fc3RhdGUgPSBuZXdTdGF0ZTtcbn07XG5cbkF0dHJNb3JwaC5wcm90b3R5cGUuZGlkSW5pdCA9IGZ1bmN0aW9uKCkge307XG5BdHRyTW9ycGgucHJvdG90eXBlLndpbGxTZXRDb250ZW50ID0gZnVuY3Rpb24oKSB7fTtcblxuQXR0ck1vcnBoLnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHRoaXMud2lsbFNldENvbnRlbnQodmFsdWUpO1xuXG4gIGlmICh0aGlzLmxhc3RWYWx1ZSA9PT0gdmFsdWUpIHsgcmV0dXJuOyB9XG4gIHRoaXMubGFzdFZhbHVlID0gdmFsdWU7XG5cbiAgaWYgKHRoaXMuZXNjYXBlZCkge1xuICAgIHZhciBzYW5pdGl6ZWQgPSBzYW5pdGl6ZUF0dHJpYnV0ZVZhbHVlKHRoaXMuZG9tSGVscGVyLCB0aGlzLmVsZW1lbnQsIHRoaXMuYXR0ck5hbWUsIHZhbHVlKTtcbiAgICB0aGlzLl91cGRhdGUoc2FuaXRpemVkLCB0aGlzLm5hbWVzcGFjZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fdXBkYXRlKHZhbHVlLCB0aGlzLm5hbWVzcGFjZSk7XG4gIH1cbn07XG5cbkF0dHJNb3JwaC5wcm90b3R5cGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHZhbHVlID0gdGhpcy5sYXN0VmFsdWUgPSB0aGlzLl9nZXQoKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuLy8gcmVuZGVyQW5kQ2xlYW51cCBjYWxscyBgY2xlYXJgIG9uIGFsbCBpdGVtcyBpbiB0aGUgbW9ycGggbWFwXG4vLyBqdXN0IGJlZm9yZSBjYWxsaW5nIGBkZXN0cm95YCBvbiB0aGUgbW9ycGguXG4vL1xuLy8gQXMgYSBmdXR1cmUgcmVmYWN0b3IgdGhpcyBjb3VsZCBiZSBjaGFuZ2VkIHRvIHNldCB0aGUgcHJvcGVydHlcbi8vIGJhY2sgdG8gaXRzIG9yaWdpbmFsL2RlZmF1bHQgdmFsdWUuXG5BdHRyTW9ycGgucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7IH07XG5cbkF0dHJNb3JwaC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICB0aGlzLmRvbUhlbHBlciA9IG51bGw7XG59O1xuXG5BdHRyTW9ycGgucHJvdG90eXBlLl8kc3VwZXJBdHRyTW9ycGggPSBBdHRyTW9ycGg7XG5cbmZ1bmN0aW9uIFByb3BlcnR5QXR0ck1vcnBoKGVsZW1lbnQsIGF0dHJOYW1lLCBkb21IZWxwZXIpIHtcbiAgdGhpcy5fJHN1cGVyQXR0ck1vcnBoKGVsZW1lbnQsIGF0dHJOYW1lLCBkb21IZWxwZXIpO1xufVxuXG5Qcm9wZXJ0eUF0dHJNb3JwaC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEF0dHJNb3JwaC5wcm90b3R5cGUpO1xuUHJvcGVydHlBdHRyTW9ycGgucHJvdG90eXBlLl91cGRhdGUgPSB1cGRhdGVQcm9wZXJ0eTtcblByb3BlcnR5QXR0ck1vcnBoLnByb3RvdHlwZS5fZ2V0ID0gZ2V0UHJvcGVydHk7XG5cbmZ1bmN0aW9uIEF0dHJpYnV0ZU5TQXR0ck1vcnBoKGVsZW1lbnQsIGF0dHJOYW1lLCBkb21IZWxwZXIsIG5hbWVzcGFjZSkge1xuICB0aGlzLl8kc3VwZXJBdHRyTW9ycGgoZWxlbWVudCwgYXR0ck5hbWUsIGRvbUhlbHBlcik7XG4gIHRoaXMubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xufVxuXG5BdHRyaWJ1dGVOU0F0dHJNb3JwaC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEF0dHJNb3JwaC5wcm90b3R5cGUpO1xuQXR0cmlidXRlTlNBdHRyTW9ycGgucHJvdG90eXBlLl91cGRhdGUgPSB1cGRhdGVBdHRyaWJ1dGVOUztcbkF0dHJpYnV0ZU5TQXR0ck1vcnBoLnByb3RvdHlwZS5fZ2V0ID0gZ2V0QXR0cmlidXRlTlM7XG5cbmZ1bmN0aW9uIEF0dHJpYnV0ZUF0dHJNb3JwaChlbGVtZW50LCBhdHRyTmFtZSwgZG9tSGVscGVyKSB7XG4gIHRoaXMuXyRzdXBlckF0dHJNb3JwaChlbGVtZW50LCBhdHRyTmFtZSwgZG9tSGVscGVyKTtcbn1cblxuQXR0cmlidXRlQXR0ck1vcnBoLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQXR0ck1vcnBoLnByb3RvdHlwZSk7XG5BdHRyaWJ1dGVBdHRyTW9ycGgucHJvdG90eXBlLl91cGRhdGUgPSB1cGRhdGVBdHRyaWJ1dGU7XG5BdHRyaWJ1dGVBdHRyTW9ycGgucHJvdG90eXBlLl9nZXQgPSBnZXRBdHRyaWJ1dGU7XG5cbmV4cG9ydCBkZWZhdWx0IEF0dHJNb3JwaDtcblxuZXhwb3J0IHsgc2FuaXRpemVBdHRyaWJ1dGVWYWx1ZSB9O1xuIl19
define('morph-attr.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - .');
  QUnit.test('morph-attr.js should pass jshint', function (assert) {
    assert.ok(true, 'morph-attr.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLWF0dHIuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQzNCLE9BQUssQ0FBQyxJQUFJLENBQUMsa0NBQWtDLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDOUQsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsbUNBQW1DLENBQUMsQ0FBQztHQUN0RCxDQUFDLENBQUMiLCJmaWxlIjoibW9ycGgtYXR0ci5qc2hpbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJRVW5pdC5tb2R1bGUoJ0pTSGludCAtIC4nKTtcblFVbml0LnRlc3QoJ21vcnBoLWF0dHIuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ21vcnBoLWF0dHIuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define('morph-attr/sanitize-attribute-value', ['exports'], function (exports) {
  exports.sanitizeAttributeValue = sanitizeAttributeValue;
  /* jshint scripturl:true */

  var badProtocols = {
    'javascript:': true,
    'vbscript:': true
  };

  var badTags = {
    'A': true,
    'BODY': true,
    'LINK': true,
    'IMG': true,
    'IFRAME': true,
    'BASE': true,
    'FORM': true
  };

  var badTagsForDataURI = {
    'EMBED': true
  };

  var badAttributes = {
    'href': true,
    'src': true,
    'background': true,
    'action': true
  };

  exports.badAttributes = badAttributes;
  var badAttributesForDataURI = {
    'src': true
  };

  function sanitizeAttributeValue(dom, element, attribute, value) {
    var tagName;

    if (!element) {
      tagName = null;
    } else {
      tagName = element.tagName.toUpperCase();
    }

    if (value && value.toHTML) {
      return value.toHTML();
    }

    if ((tagName === null || badTags[tagName]) && badAttributes[attribute]) {
      var protocol = dom.protocolForURL(value);
      if (badProtocols[protocol] === true) {
        return 'unsafe:' + value;
      }
    }

    if (badTagsForDataURI[tagName] && badAttributesForDataURI[attribute]) {
      return 'unsafe:' + value;
    }

    return value;
  }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLWF0dHIvc2FuaXRpemUtYXR0cmlidXRlLXZhbHVlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFFQSxNQUFJLFlBQVksR0FBRztBQUNqQixpQkFBYSxFQUFFLElBQUk7QUFDbkIsZUFBVyxFQUFFLElBQUk7R0FDbEIsQ0FBQzs7QUFFRixNQUFJLE9BQU8sR0FBRztBQUNaLE9BQUcsRUFBRSxJQUFJO0FBQ1QsVUFBTSxFQUFFLElBQUk7QUFDWixVQUFNLEVBQUUsSUFBSTtBQUNaLFNBQUssRUFBRSxJQUFJO0FBQ1gsWUFBUSxFQUFFLElBQUk7QUFDZCxVQUFNLEVBQUUsSUFBSTtBQUNaLFVBQU0sRUFBRSxJQUFJO0dBQ2IsQ0FBQzs7QUFFRixNQUFJLGlCQUFpQixHQUFHO0FBQ3RCLFdBQU8sRUFBRSxJQUFJO0dBQ2QsQ0FBQzs7QUFFSyxNQUFJLGFBQWEsR0FBRztBQUN6QixVQUFNLEVBQUUsSUFBSTtBQUNaLFNBQUssRUFBRSxJQUFJO0FBQ1gsZ0JBQVksRUFBRSxJQUFJO0FBQ2xCLFlBQVEsRUFBRSxJQUFJO0dBQ2YsQ0FBQzs7O0FBRUYsTUFBSSx1QkFBdUIsR0FBRztBQUM1QixTQUFLLEVBQUUsSUFBSTtHQUNaLENBQUM7O0FBRUssV0FBUyxzQkFBc0IsQ0FBQyxHQUFHLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUU7QUFDckUsUUFBSSxPQUFPLENBQUM7O0FBRVosUUFBSSxDQUFDLE9BQU8sRUFBRTtBQUNaLGFBQU8sR0FBRyxJQUFJLENBQUM7S0FDaEIsTUFBTTtBQUNMLGFBQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO0tBQ3pDOztBQUVELFFBQUksS0FBSyxJQUFJLEtBQUssQ0FBQyxNQUFNLEVBQUU7QUFDekIsYUFBTyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7S0FDdkI7O0FBRUQsUUFBSSxDQUFDLE9BQU8sS0FBSyxJQUFJLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBLElBQUssYUFBYSxDQUFDLFNBQVMsQ0FBQyxFQUFFO0FBQ3RFLFVBQUksUUFBUSxHQUFHLEdBQUcsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDekMsVUFBSSxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssSUFBSSxFQUFFO0FBQ25DLGVBQU8sU0FBUyxHQUFHLEtBQUssQ0FBQztPQUMxQjtLQUNGOztBQUVELFFBQUksaUJBQWlCLENBQUMsT0FBTyxDQUFDLElBQUksdUJBQXVCLENBQUMsU0FBUyxDQUFDLEVBQUU7QUFDcEUsYUFBTyxTQUFTLEdBQUcsS0FBSyxDQUFDO0tBQzFCOztBQUVELFdBQU8sS0FBSyxDQUFDO0dBQ2QiLCJmaWxlIjoibW9ycGgtYXR0ci9zYW5pdGl6ZS1hdHRyaWJ1dGUtdmFsdWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBqc2hpbnQgc2NyaXB0dXJsOnRydWUgKi9cblxudmFyIGJhZFByb3RvY29scyA9IHtcbiAgJ2phdmFzY3JpcHQ6JzogdHJ1ZSxcbiAgJ3Zic2NyaXB0Oic6IHRydWVcbn07XG5cbnZhciBiYWRUYWdzID0ge1xuICAnQSc6IHRydWUsXG4gICdCT0RZJzogdHJ1ZSxcbiAgJ0xJTksnOiB0cnVlLFxuICAnSU1HJzogdHJ1ZSxcbiAgJ0lGUkFNRSc6IHRydWUsXG4gICdCQVNFJzogdHJ1ZSxcbiAgJ0ZPUk0nOiB0cnVlXG59O1xuXG52YXIgYmFkVGFnc0ZvckRhdGFVUkkgPSB7XG4gICdFTUJFRCc6IHRydWVcbn07XG5cbmV4cG9ydCB2YXIgYmFkQXR0cmlidXRlcyA9IHtcbiAgJ2hyZWYnOiB0cnVlLFxuICAnc3JjJzogdHJ1ZSxcbiAgJ2JhY2tncm91bmQnOiB0cnVlLFxuICAnYWN0aW9uJzogdHJ1ZVxufTtcblxudmFyIGJhZEF0dHJpYnV0ZXNGb3JEYXRhVVJJID0ge1xuICAnc3JjJzogdHJ1ZVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNhbml0aXplQXR0cmlidXRlVmFsdWUoZG9tLCBlbGVtZW50LCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gIHZhciB0YWdOYW1lO1xuXG4gIGlmICghZWxlbWVudCkge1xuICAgIHRhZ05hbWUgPSBudWxsO1xuICB9IGVsc2Uge1xuICAgIHRhZ05hbWUgPSBlbGVtZW50LnRhZ05hbWUudG9VcHBlckNhc2UoKTtcbiAgfVxuXG4gIGlmICh2YWx1ZSAmJiB2YWx1ZS50b0hUTUwpIHtcbiAgICByZXR1cm4gdmFsdWUudG9IVE1MKCk7XG4gIH1cblxuICBpZiAoKHRhZ05hbWUgPT09IG51bGwgfHwgYmFkVGFnc1t0YWdOYW1lXSkgJiYgYmFkQXR0cmlidXRlc1thdHRyaWJ1dGVdKSB7XG4gICAgdmFyIHByb3RvY29sID0gZG9tLnByb3RvY29sRm9yVVJMKHZhbHVlKTtcbiAgICBpZiAoYmFkUHJvdG9jb2xzW3Byb3RvY29sXSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuICd1bnNhZmU6JyArIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChiYWRUYWdzRm9yRGF0YVVSSVt0YWdOYW1lXSAmJiBiYWRBdHRyaWJ1dGVzRm9yRGF0YVVSSVthdHRyaWJ1dGVdKSB7XG4gICAgcmV0dXJuICd1bnNhZmU6JyArIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHZhbHVlO1xufVxuIl19
define('morph-attr/sanitize-attribute-value.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - morph-attr');
  QUnit.test('morph-attr/sanitize-attribute-value.js should pass jshint', function (assert) {
    assert.ok(true, 'morph-attr/sanitize-attribute-value.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLWF0dHIvc2FuaXRpemUtYXR0cmlidXRlLXZhbHVlLmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0FBQ3BDLE9BQUssQ0FBQyxJQUFJLENBQUMsMkRBQTJELEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDdkYsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsNERBQTRELENBQUMsQ0FBQztHQUMvRSxDQUFDLENBQUMiLCJmaWxlIjoibW9ycGgtYXR0ci9zYW5pdGl6ZS1hdHRyaWJ1dGUtdmFsdWUuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSBtb3JwaC1hdHRyJyk7XG5RVW5pdC50ZXN0KCdtb3JwaC1hdHRyL3Nhbml0aXplLWF0dHJpYnV0ZS12YWx1ZS5qcyBzaG91bGQgcGFzcyBqc2hpbnQnLCBmdW5jdGlvbihhc3NlcnQpIHsgXG4gIGFzc2VydC5vayh0cnVlLCAnbW9ycGgtYXR0ci9zYW5pdGl6ZS1hdHRyaWJ1dGUtdmFsdWUuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define('morph-range', ['exports', './morph-range/utils'], function (exports, _morphRangeUtils) {

  // constructor just initializes the fields
  // use one of the static initializers to create a valid morph.
  function Morph(domHelper, contextualElement) {
    this.domHelper = domHelper;
    // context if content if current content is detached
    this.contextualElement = contextualElement;
    // inclusive range of morph
    // these should be nodeType 1, 3, or 8
    this.firstNode = null;
    this.lastNode = null;

    // flag to force text to setContent to be treated as html
    this.parseTextAsHTML = false;

    // morph list graph
    this.parentMorphList = null;
    this.previousMorph = null;
    this.nextMorph = null;
  }

  Morph.empty = function (domHelper, contextualElement) {
    var morph = new Morph(domHelper, contextualElement);
    morph.clear();
    return morph;
  };

  Morph.create = function (domHelper, contextualElement, node) {
    var morph = new Morph(domHelper, contextualElement);
    morph.setNode(node);
    return morph;
  };

  Morph.attach = function (domHelper, contextualElement, firstNode, lastNode) {
    var morph = new Morph(domHelper, contextualElement);
    morph.setRange(firstNode, lastNode);
    return morph;
  };

  Morph.prototype.setContent = function Morph$setContent(content) {
    if (content === null || content === undefined) {
      return this.clear();
    }

    var type = typeof content;
    switch (type) {
      case 'string':
        if (this.parseTextAsHTML) {
          return this.domHelper.setMorphHTML(this, content);
        }
        return this.setText(content);
      case 'object':
        if (typeof content.nodeType === 'number') {
          return this.setNode(content);
        }
        /* Handlebars.SafeString */
        if (typeof content.toHTML === 'function') {
          return this.setHTML(content.toHTML());
        }
        if (this.parseTextAsHTML) {
          return this.setHTML(content.toString());
        }
      /* falls through */
      case 'boolean':
      case 'number':
        return this.setText(content.toString());
      case 'function':
        raiseCannotBindToFunction(content);
      default:
        throw new TypeError('unsupported content');
    }
  };

  function raiseCannotBindToFunction(content) {
    var functionName = content.name;
    var message;

    if (functionName) {
      message = 'Unsupported Content: Cannot bind to function `' + functionName + '`';
    } else {
      message = 'Unsupported Content: Cannot bind to function';
    }

    throw new TypeError(message);
  }

  Morph.prototype.clear = function Morph$clear() {
    var node = this.setNode(this.domHelper.createComment(''));
    return node;
  };

  Morph.prototype.setText = function Morph$setText(text) {
    var firstNode = this.firstNode;
    var lastNode = this.lastNode;

    if (firstNode && lastNode === firstNode && firstNode.nodeType === 3) {
      firstNode.nodeValue = text;
      return firstNode;
    }

    return this.setNode(text ? this.domHelper.createTextNode(text) : this.domHelper.createComment(''));
  };

  Morph.prototype.setNode = function Morph$setNode(newNode) {
    var firstNode, lastNode;
    switch (newNode.nodeType) {
      case 3:
        firstNode = newNode;
        lastNode = newNode;
        break;
      case 11:
        firstNode = newNode.firstChild;
        lastNode = newNode.lastChild;
        if (firstNode === null) {
          firstNode = this.domHelper.createComment('');
          newNode.appendChild(firstNode);
          lastNode = firstNode;
        }
        break;
      default:
        firstNode = newNode;
        lastNode = newNode;
        break;
    }

    this.setRange(firstNode, lastNode);

    return newNode;
  };

  Morph.prototype.setRange = function (firstNode, lastNode) {
    var previousFirstNode = this.firstNode;
    if (previousFirstNode !== null) {

      var parentNode = previousFirstNode.parentNode;
      if (parentNode !== null) {
        _morphRangeUtils.insertBefore(parentNode, firstNode, lastNode, previousFirstNode);
        _morphRangeUtils.clear(parentNode, previousFirstNode, this.lastNode);
      }
    }

    this.firstNode = firstNode;
    this.lastNode = lastNode;

    if (this.parentMorphList) {
      this._syncFirstNode();
      this._syncLastNode();
    }
  };

  Morph.prototype.destroy = function Morph$destroy() {
    this.unlink();

    var firstNode = this.firstNode;
    var lastNode = this.lastNode;
    var parentNode = firstNode && firstNode.parentNode;

    this.firstNode = null;
    this.lastNode = null;

    _morphRangeUtils.clear(parentNode, firstNode, lastNode);
  };

  Morph.prototype.unlink = function Morph$unlink() {
    var parentMorphList = this.parentMorphList;
    var previousMorph = this.previousMorph;
    var nextMorph = this.nextMorph;

    if (previousMorph) {
      if (nextMorph) {
        previousMorph.nextMorph = nextMorph;
        nextMorph.previousMorph = previousMorph;
      } else {
        previousMorph.nextMorph = null;
        parentMorphList.lastChildMorph = previousMorph;
      }
    } else {
      if (nextMorph) {
        nextMorph.previousMorph = null;
        parentMorphList.firstChildMorph = nextMorph;
      } else if (parentMorphList) {
        parentMorphList.lastChildMorph = parentMorphList.firstChildMorph = null;
      }
    }

    this.parentMorphList = null;
    this.nextMorph = null;
    this.previousMorph = null;

    if (parentMorphList && parentMorphList.mountedMorph) {
      if (!parentMorphList.firstChildMorph) {
        // list is empty
        parentMorphList.mountedMorph.clear();
        return;
      } else {
        parentMorphList.firstChildMorph._syncFirstNode();
        parentMorphList.lastChildMorph._syncLastNode();
      }
    }
  };

  Morph.prototype.setHTML = function (text) {
    var fragment = this.domHelper.parseHTML(text, this.contextualElement);
    return this.setNode(fragment);
  };

  Morph.prototype.setMorphList = function Morph$appendMorphList(morphList) {
    morphList.mountedMorph = this;
    this.clear();

    var originalFirstNode = this.firstNode;

    if (morphList.firstChildMorph) {
      this.firstNode = morphList.firstChildMorph.firstNode;
      this.lastNode = morphList.lastChildMorph.lastNode;

      var current = morphList.firstChildMorph;

      while (current) {
        var next = current.nextMorph;
        current.insertBeforeNode(originalFirstNode, null);
        current = next;
      }
      originalFirstNode.parentNode.removeChild(originalFirstNode);
    }
  };

  Morph.prototype._syncFirstNode = function Morph$syncFirstNode() {
    var morph = this;
    var parentMorphList;
    while (parentMorphList = morph.parentMorphList) {
      if (parentMorphList.mountedMorph === null) {
        break;
      }
      if (morph !== parentMorphList.firstChildMorph) {
        break;
      }
      if (morph.firstNode === parentMorphList.mountedMorph.firstNode) {
        break;
      }

      parentMorphList.mountedMorph.firstNode = morph.firstNode;

      morph = parentMorphList.mountedMorph;
    }
  };

  Morph.prototype._syncLastNode = function Morph$syncLastNode() {
    var morph = this;
    var parentMorphList;
    while (parentMorphList = morph.parentMorphList) {
      if (parentMorphList.mountedMorph === null) {
        break;
      }
      if (morph !== parentMorphList.lastChildMorph) {
        break;
      }
      if (morph.lastNode === parentMorphList.mountedMorph.lastNode) {
        break;
      }

      parentMorphList.mountedMorph.lastNode = morph.lastNode;

      morph = parentMorphList.mountedMorph;
    }
  };

  Morph.prototype.insertBeforeNode = function Morph$insertBeforeNode(parentNode, refNode) {
    _morphRangeUtils.insertBefore(parentNode, this.firstNode, this.lastNode, refNode);
  };

  Morph.prototype.appendToNode = function Morph$appendToNode(parentNode) {
    _morphRangeUtils.insertBefore(parentNode, this.firstNode, this.lastNode, null);
  };

  exports.default = Morph;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLXJhbmdlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFJQSxXQUFTLEtBQUssQ0FBQyxTQUFTLEVBQUUsaUJBQWlCLEVBQUU7QUFDM0MsUUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7O0FBRTNCLFFBQUksQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQzs7O0FBRzNDLFFBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQ3RCLFFBQUksQ0FBQyxRQUFRLEdBQUksSUFBSSxDQUFDOzs7QUFHdEIsUUFBSSxDQUFDLGVBQWUsR0FBRyxLQUFLLENBQUM7OztBQUc3QixRQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztBQUM1QixRQUFJLENBQUMsYUFBYSxHQUFLLElBQUksQ0FBQztBQUM1QixRQUFJLENBQUMsU0FBUyxHQUFTLElBQUksQ0FBQztHQUM3Qjs7QUFFRCxPQUFLLENBQUMsS0FBSyxHQUFHLFVBQVUsU0FBUyxFQUFFLGlCQUFpQixFQUFFO0FBQ3BELFFBQUksS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3BELFNBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUNkLFdBQU8sS0FBSyxDQUFDO0dBQ2QsQ0FBQzs7QUFFRixPQUFLLENBQUMsTUFBTSxHQUFHLFVBQVUsU0FBUyxFQUFFLGlCQUFpQixFQUFFLElBQUksRUFBRTtBQUMzRCxRQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxTQUFTLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztBQUNwRCxTQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3BCLFdBQU8sS0FBSyxDQUFDO0dBQ2QsQ0FBQzs7QUFFRixPQUFLLENBQUMsTUFBTSxHQUFHLFVBQVUsU0FBUyxFQUFFLGlCQUFpQixFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUU7QUFDMUUsUUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsU0FBUyxFQUFFLGlCQUFpQixDQUFDLENBQUM7QUFDcEQsU0FBSyxDQUFDLFFBQVEsQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDcEMsV0FBTyxLQUFLLENBQUM7R0FDZCxDQUFDOztBQUVGLE9BQUssQ0FBQyxTQUFTLENBQUMsVUFBVSxHQUFHLFNBQVMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFO0FBQzlELFFBQUksT0FBTyxLQUFLLElBQUksSUFBSSxPQUFPLEtBQUssU0FBUyxFQUFFO0FBQzdDLGFBQU8sSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0tBQ3JCOztBQUVELFFBQUksSUFBSSxHQUFHLE9BQU8sT0FBTyxDQUFDO0FBQzFCLFlBQVEsSUFBSTtBQUNWLFdBQUssUUFBUTtBQUNYLFlBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtBQUN4QixpQkFBTyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDbkQ7QUFDRCxlQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7QUFBQSxBQUMvQixXQUFLLFFBQVE7QUFDWCxZQUFJLE9BQU8sT0FBTyxDQUFDLFFBQVEsS0FBSyxRQUFRLEVBQUU7QUFDeEMsaUJBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUM5Qjs7QUFFRCxZQUFJLE9BQU8sT0FBTyxDQUFDLE1BQU0sS0FBSyxVQUFVLEVBQUU7QUFDeEMsaUJBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztTQUN2QztBQUNELFlBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtBQUN4QixpQkFBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDO1NBQ3pDO0FBQUE7QUFFSCxXQUFLLFNBQVMsQ0FBQztBQUNmLFdBQUssUUFBUTtBQUNYLGVBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztBQUFBLEFBQzFDLFdBQUssVUFBVTtBQUNiLGlDQUF5QixDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQUEsQUFDckM7QUFDRSxjQUFNLElBQUksU0FBUyxDQUFDLHFCQUFxQixDQUFDLENBQUM7QUFBQSxLQUM5QztHQUNGLENBQUM7O0FBRUYsV0FBUyx5QkFBeUIsQ0FBQyxPQUFPLEVBQUU7QUFDMUMsUUFBSSxZQUFZLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztBQUNoQyxRQUFJLE9BQU8sQ0FBQzs7QUFFWixRQUFJLFlBQVksRUFBRTtBQUNoQixhQUFPLEdBQUcsZ0RBQWdELEdBQUcsWUFBWSxHQUFHLEdBQUcsQ0FBQztLQUNqRixNQUFNO0FBQ0wsYUFBTyxHQUFHLDhDQUE4QyxDQUFDO0tBQzFEOztBQUVELFVBQU0sSUFBSSxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDOUI7O0FBRUQsT0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLEdBQUcsU0FBUyxXQUFXLEdBQUc7QUFDN0MsUUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzFELFdBQU8sSUFBSSxDQUFDO0dBQ2IsQ0FBQzs7QUFFRixPQUFLLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxTQUFTLGFBQWEsQ0FBQyxJQUFJLEVBQUU7QUFDckQsUUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztBQUMvQixRQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDOztBQUU3QixRQUFJLFNBQVMsSUFDVCxRQUFRLEtBQUssU0FBUyxJQUN0QixTQUFTLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTtBQUM1QixlQUFTLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztBQUMzQixhQUFPLFNBQVMsQ0FBQztLQUNsQjs7QUFFRCxXQUFPLElBQUksQ0FBQyxPQUFPLENBQ2pCLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsQ0FDOUUsQ0FBQztHQUNILENBQUM7O0FBRUYsT0FBSyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsU0FBUyxhQUFhLENBQUMsT0FBTyxFQUFFO0FBQ3hELFFBQUksU0FBUyxFQUFFLFFBQVEsQ0FBQztBQUN4QixZQUFRLE9BQU8sQ0FBQyxRQUFRO0FBQ3RCLFdBQUssQ0FBQztBQUNKLGlCQUFTLEdBQUcsT0FBTyxDQUFDO0FBQ3BCLGdCQUFRLEdBQUcsT0FBTyxDQUFDO0FBQ25CLGNBQU07QUFBQSxBQUNSLFdBQUssRUFBRTtBQUNMLGlCQUFTLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUMvQixnQkFBUSxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUM7QUFDN0IsWUFBSSxTQUFTLEtBQUssSUFBSSxFQUFFO0FBQ3RCLG1CQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDN0MsaUJBQU8sQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDL0Isa0JBQVEsR0FBRyxTQUFTLENBQUM7U0FDdEI7QUFDRCxjQUFNO0FBQUEsQUFDUjtBQUNFLGlCQUFTLEdBQUcsT0FBTyxDQUFDO0FBQ3BCLGdCQUFRLEdBQUcsT0FBTyxDQUFDO0FBQ25CLGNBQU07QUFBQSxLQUNUOztBQUVELFFBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDOztBQUVuQyxXQUFPLE9BQU8sQ0FBQztHQUNoQixDQUFDOztBQUVGLE9BQUssQ0FBQyxTQUFTLENBQUMsUUFBUSxHQUFHLFVBQVUsU0FBUyxFQUFFLFFBQVEsRUFBRTtBQUN4RCxRQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7QUFDdkMsUUFBSSxpQkFBaUIsS0FBSyxJQUFJLEVBQUU7O0FBRTlCLFVBQUksVUFBVSxHQUFHLGlCQUFpQixDQUFDLFVBQVUsQ0FBQztBQUM5QyxVQUFJLFVBQVUsS0FBSyxJQUFJLEVBQUU7QUFDdkIseUJBN0lVLFlBQVksQ0E2SVQsVUFBVSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztBQUNqRSx5QkE5SUcsS0FBSyxDQThJRixVQUFVLEVBQUUsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO09BQ3JEO0tBQ0Y7O0FBRUQsUUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7QUFDM0IsUUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7O0FBRXpCLFFBQUksSUFBSSxDQUFDLGVBQWUsRUFBRTtBQUN4QixVQUFJLENBQUMsY0FBYyxFQUFFLENBQUM7QUFDdEIsVUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO0tBQ3RCO0dBQ0YsQ0FBQzs7QUFFRixPQUFLLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxTQUFTLGFBQWEsR0FBRztBQUNqRCxRQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7O0FBRWQsUUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQztBQUMvQixRQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDO0FBQzdCLFFBQUksVUFBVSxHQUFHLFNBQVMsSUFBSSxTQUFTLENBQUMsVUFBVSxDQUFDOztBQUVuRCxRQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztBQUN0QixRQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzs7QUFFckIscUJBcktPLEtBQUssQ0FxS04sVUFBVSxFQUFFLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQztHQUN4QyxDQUFDOztBQUVGLE9BQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLFNBQVMsWUFBWSxHQUFHO0FBQy9DLFFBQUksZUFBZSxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUM7QUFDM0MsUUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztBQUN2QyxRQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDOztBQUUvQixRQUFJLGFBQWEsRUFBRTtBQUNqQixVQUFJLFNBQVMsRUFBRTtBQUNiLHFCQUFhLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztBQUNwQyxpQkFBUyxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7T0FDekMsTUFBTTtBQUNMLHFCQUFhLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztBQUMvQix1QkFBZSxDQUFDLGNBQWMsR0FBRyxhQUFhLENBQUM7T0FDaEQ7S0FDRixNQUFNO0FBQ0wsVUFBSSxTQUFTLEVBQUU7QUFDYixpQkFBUyxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7QUFDL0IsdUJBQWUsQ0FBQyxlQUFlLEdBQUcsU0FBUyxDQUFDO09BQzdDLE1BQU0sSUFBSSxlQUFlLEVBQUU7QUFDMUIsdUJBQWUsQ0FBQyxjQUFjLEdBQUcsZUFBZSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7T0FDekU7S0FDRjs7QUFFRCxRQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQztBQUM1QixRQUFJLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQztBQUN0QixRQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQzs7QUFFMUIsUUFBSSxlQUFlLElBQUksZUFBZSxDQUFDLFlBQVksRUFBRTtBQUNuRCxVQUFJLENBQUMsZUFBZSxDQUFDLGVBQWUsRUFBRTs7QUFFcEMsdUJBQWUsQ0FBQyxZQUFZLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDckMsZUFBTztPQUNSLE1BQU07QUFDTCx1QkFBZSxDQUFDLGVBQWUsQ0FBQyxjQUFjLEVBQUUsQ0FBQztBQUNqRCx1QkFBZSxDQUFDLGNBQWMsQ0FBQyxhQUFhLEVBQUUsQ0FBQztPQUNoRDtLQUNGO0dBQ0YsQ0FBQzs7QUFFRixPQUFLLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRyxVQUFTLElBQUksRUFBRTtBQUN2QyxRQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7QUFDdEUsV0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0dBQy9CLENBQUM7O0FBRUYsT0FBSyxDQUFDLFNBQVMsQ0FBQyxZQUFZLEdBQUcsU0FBUyxxQkFBcUIsQ0FBQyxTQUFTLEVBQUU7QUFDdkUsYUFBUyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUM7QUFDOUIsUUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDOztBQUViLFFBQUksaUJBQWlCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQzs7QUFFdkMsUUFBSSxTQUFTLENBQUMsZUFBZSxFQUFFO0FBQzdCLFVBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUM7QUFDckQsVUFBSSxDQUFDLFFBQVEsR0FBRyxTQUFTLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQzs7QUFFbEQsVUFBSSxPQUFPLEdBQUcsU0FBUyxDQUFDLGVBQWUsQ0FBQzs7QUFFeEMsYUFBTyxPQUFPLEVBQUU7QUFDZCxZQUFJLElBQUksR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQzdCLGVBQU8sQ0FBQyxnQkFBZ0IsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNsRCxlQUFPLEdBQUcsSUFBSSxDQUFDO09BQ2hCO0FBQ0QsdUJBQWlCLENBQUMsVUFBVSxDQUFDLFdBQVcsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0tBQzdEO0dBQ0YsQ0FBQzs7QUFFRixPQUFLLENBQUMsU0FBUyxDQUFDLGNBQWMsR0FBRyxTQUFTLG1CQUFtQixHQUFHO0FBQzlELFFBQUksS0FBSyxHQUFHLElBQUksQ0FBQztBQUNqQixRQUFJLGVBQWUsQ0FBQztBQUNwQixXQUFPLGVBQWUsR0FBRyxLQUFLLENBQUMsZUFBZSxFQUFFO0FBQzlDLFVBQUksZUFBZSxDQUFDLFlBQVksS0FBSyxJQUFJLEVBQUU7QUFDekMsY0FBTTtPQUNQO0FBQ0QsVUFBSSxLQUFLLEtBQUssZUFBZSxDQUFDLGVBQWUsRUFBRTtBQUM3QyxjQUFNO09BQ1A7QUFDRCxVQUFJLEtBQUssQ0FBQyxTQUFTLEtBQUssZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUU7QUFDOUQsY0FBTTtPQUNQOztBQUVELHFCQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDOztBQUV6RCxXQUFLLEdBQUcsZUFBZSxDQUFDLFlBQVksQ0FBQztLQUN0QztHQUNGLENBQUM7O0FBRUYsT0FBSyxDQUFDLFNBQVMsQ0FBQyxhQUFhLEdBQUcsU0FBUyxrQkFBa0IsR0FBRztBQUM1RCxRQUFJLEtBQUssR0FBRyxJQUFJLENBQUM7QUFDakIsUUFBSSxlQUFlLENBQUM7QUFDcEIsV0FBTyxlQUFlLEdBQUcsS0FBSyxDQUFDLGVBQWUsRUFBRTtBQUM5QyxVQUFJLGVBQWUsQ0FBQyxZQUFZLEtBQUssSUFBSSxFQUFFO0FBQ3pDLGNBQU07T0FDUDtBQUNELFVBQUksS0FBSyxLQUFLLGVBQWUsQ0FBQyxjQUFjLEVBQUU7QUFDNUMsY0FBTTtPQUNQO0FBQ0QsVUFBSSxLQUFLLENBQUMsUUFBUSxLQUFLLGVBQWUsQ0FBQyxZQUFZLENBQUMsUUFBUSxFQUFFO0FBQzVELGNBQU07T0FDUDs7QUFFRCxxQkFBZSxDQUFDLFlBQVksQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDLFFBQVEsQ0FBQzs7QUFFdkQsV0FBSyxHQUFHLGVBQWUsQ0FBQyxZQUFZLENBQUM7S0FDdEM7R0FDRixDQUFDOztBQUVGLE9BQUssQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLEdBQUcsU0FBUyxzQkFBc0IsQ0FBQyxVQUFVLEVBQUUsT0FBTyxFQUFFO0FBQ3RGLHFCQWpSYyxZQUFZLENBaVJiLFVBQVUsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUM7R0FDbEUsQ0FBQzs7QUFFRixPQUFLLENBQUMsU0FBUyxDQUFDLFlBQVksR0FBRyxTQUFTLGtCQUFrQixDQUFDLFVBQVUsRUFBRTtBQUNyRSxxQkFyUmMsWUFBWSxDQXFSYixVQUFVLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0dBQy9ELENBQUM7O29CQUVhLEtBQUsiLCJmaWxlIjoibW9ycGgtcmFuZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbGVhciwgaW5zZXJ0QmVmb3JlIH0gZnJvbSAnLi9tb3JwaC1yYW5nZS91dGlscyc7XG5cbi8vIGNvbnN0cnVjdG9yIGp1c3QgaW5pdGlhbGl6ZXMgdGhlIGZpZWxkc1xuLy8gdXNlIG9uZSBvZiB0aGUgc3RhdGljIGluaXRpYWxpemVycyB0byBjcmVhdGUgYSB2YWxpZCBtb3JwaC5cbmZ1bmN0aW9uIE1vcnBoKGRvbUhlbHBlciwgY29udGV4dHVhbEVsZW1lbnQpIHtcbiAgdGhpcy5kb21IZWxwZXIgPSBkb21IZWxwZXI7XG4gIC8vIGNvbnRleHQgaWYgY29udGVudCBpZiBjdXJyZW50IGNvbnRlbnQgaXMgZGV0YWNoZWRcbiAgdGhpcy5jb250ZXh0dWFsRWxlbWVudCA9IGNvbnRleHR1YWxFbGVtZW50O1xuICAvLyBpbmNsdXNpdmUgcmFuZ2Ugb2YgbW9ycGhcbiAgLy8gdGhlc2Ugc2hvdWxkIGJlIG5vZGVUeXBlIDEsIDMsIG9yIDhcbiAgdGhpcy5maXJzdE5vZGUgPSBudWxsO1xuICB0aGlzLmxhc3ROb2RlICA9IG51bGw7XG5cbiAgLy8gZmxhZyB0byBmb3JjZSB0ZXh0IHRvIHNldENvbnRlbnQgdG8gYmUgdHJlYXRlZCBhcyBodG1sXG4gIHRoaXMucGFyc2VUZXh0QXNIVE1MID0gZmFsc2U7XG5cbiAgLy8gbW9ycGggbGlzdCBncmFwaFxuICB0aGlzLnBhcmVudE1vcnBoTGlzdCA9IG51bGw7XG4gIHRoaXMucHJldmlvdXNNb3JwaCAgID0gbnVsbDtcbiAgdGhpcy5uZXh0TW9ycGggICAgICAgPSBudWxsO1xufVxuXG5Nb3JwaC5lbXB0eSA9IGZ1bmN0aW9uIChkb21IZWxwZXIsIGNvbnRleHR1YWxFbGVtZW50KSB7XG4gIHZhciBtb3JwaCA9IG5ldyBNb3JwaChkb21IZWxwZXIsIGNvbnRleHR1YWxFbGVtZW50KTtcbiAgbW9ycGguY2xlYXIoKTtcbiAgcmV0dXJuIG1vcnBoO1xufTtcblxuTW9ycGguY3JlYXRlID0gZnVuY3Rpb24gKGRvbUhlbHBlciwgY29udGV4dHVhbEVsZW1lbnQsIG5vZGUpIHtcbiAgdmFyIG1vcnBoID0gbmV3IE1vcnBoKGRvbUhlbHBlciwgY29udGV4dHVhbEVsZW1lbnQpO1xuICBtb3JwaC5zZXROb2RlKG5vZGUpO1xuICByZXR1cm4gbW9ycGg7XG59O1xuXG5Nb3JwaC5hdHRhY2ggPSBmdW5jdGlvbiAoZG9tSGVscGVyLCBjb250ZXh0dWFsRWxlbWVudCwgZmlyc3ROb2RlLCBsYXN0Tm9kZSkge1xuICB2YXIgbW9ycGggPSBuZXcgTW9ycGgoZG9tSGVscGVyLCBjb250ZXh0dWFsRWxlbWVudCk7XG4gIG1vcnBoLnNldFJhbmdlKGZpcnN0Tm9kZSwgbGFzdE5vZGUpO1xuICByZXR1cm4gbW9ycGg7XG59O1xuXG5Nb3JwaC5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uIE1vcnBoJHNldENvbnRlbnQoY29udGVudCkge1xuICBpZiAoY29udGVudCA9PT0gbnVsbCB8fCBjb250ZW50ID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gdGhpcy5jbGVhcigpO1xuICB9XG5cbiAgdmFyIHR5cGUgPSB0eXBlb2YgY29udGVudDtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGlmICh0aGlzLnBhcnNlVGV4dEFzSFRNTCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb21IZWxwZXIuc2V0TW9ycGhIVE1MKHRoaXMsIGNvbnRlbnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc2V0VGV4dChjb250ZW50KTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgaWYgKHR5cGVvZiBjb250ZW50Lm5vZGVUeXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXROb2RlKGNvbnRlbnQpO1xuICAgICAgfVxuICAgICAgLyogSGFuZGxlYmFycy5TYWZlU3RyaW5nICovXG4gICAgICBpZiAodHlwZW9mIGNvbnRlbnQudG9IVE1MID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldEhUTUwoY29udGVudC50b0hUTUwoKSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wYXJzZVRleHRBc0hUTUwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0SFRNTChjb250ZW50LnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gdGhpcy5zZXRUZXh0KGNvbnRlbnQudG9TdHJpbmcoKSk7XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgcmFpc2VDYW5ub3RCaW5kVG9GdW5jdGlvbihjb250ZW50KTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndW5zdXBwb3J0ZWQgY29udGVudCcpO1xuICB9XG59O1xuXG5mdW5jdGlvbiByYWlzZUNhbm5vdEJpbmRUb0Z1bmN0aW9uKGNvbnRlbnQpIHtcbiAgdmFyIGZ1bmN0aW9uTmFtZSA9IGNvbnRlbnQubmFtZTtcbiAgdmFyIG1lc3NhZ2U7XG5cbiAgaWYgKGZ1bmN0aW9uTmFtZSkge1xuICAgIG1lc3NhZ2UgPSAnVW5zdXBwb3J0ZWQgQ29udGVudDogQ2Fubm90IGJpbmQgdG8gZnVuY3Rpb24gYCcgKyBmdW5jdGlvbk5hbWUgKyAnYCc7XG4gIH0gZWxzZSB7XG4gICAgbWVzc2FnZSA9ICdVbnN1cHBvcnRlZCBDb250ZW50OiBDYW5ub3QgYmluZCB0byBmdW5jdGlvbic7XG4gIH1cblxuICB0aHJvdyBuZXcgVHlwZUVycm9yKG1lc3NhZ2UpO1xufVxuXG5Nb3JwaC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBNb3JwaCRjbGVhcigpIHtcbiAgdmFyIG5vZGUgPSB0aGlzLnNldE5vZGUodGhpcy5kb21IZWxwZXIuY3JlYXRlQ29tbWVudCgnJykpO1xuICByZXR1cm4gbm9kZTtcbn07XG5cbk1vcnBoLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gTW9ycGgkc2V0VGV4dCh0ZXh0KSB7XG4gIHZhciBmaXJzdE5vZGUgPSB0aGlzLmZpcnN0Tm9kZTtcbiAgdmFyIGxhc3ROb2RlID0gdGhpcy5sYXN0Tm9kZTtcblxuICBpZiAoZmlyc3ROb2RlICYmXG4gICAgICBsYXN0Tm9kZSA9PT0gZmlyc3ROb2RlICYmXG4gICAgICBmaXJzdE5vZGUubm9kZVR5cGUgPT09IDMpIHtcbiAgICBmaXJzdE5vZGUubm9kZVZhbHVlID0gdGV4dDtcbiAgICByZXR1cm4gZmlyc3ROb2RlO1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuc2V0Tm9kZShcbiAgICB0ZXh0ID8gdGhpcy5kb21IZWxwZXIuY3JlYXRlVGV4dE5vZGUodGV4dCkgOiB0aGlzLmRvbUhlbHBlci5jcmVhdGVDb21tZW50KCcnKVxuICApO1xufTtcblxuTW9ycGgucHJvdG90eXBlLnNldE5vZGUgPSBmdW5jdGlvbiBNb3JwaCRzZXROb2RlKG5ld05vZGUpIHtcbiAgdmFyIGZpcnN0Tm9kZSwgbGFzdE5vZGU7XG4gIHN3aXRjaCAobmV3Tm9kZS5ub2RlVHlwZSkge1xuICAgIGNhc2UgMzpcbiAgICAgIGZpcnN0Tm9kZSA9IG5ld05vZGU7XG4gICAgICBsYXN0Tm9kZSA9IG5ld05vZGU7XG4gICAgICBicmVhaztcbiAgICBjYXNlIDExOlxuICAgICAgZmlyc3ROb2RlID0gbmV3Tm9kZS5maXJzdENoaWxkO1xuICAgICAgbGFzdE5vZGUgPSBuZXdOb2RlLmxhc3RDaGlsZDtcbiAgICAgIGlmIChmaXJzdE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgZmlyc3ROb2RlID0gdGhpcy5kb21IZWxwZXIuY3JlYXRlQ29tbWVudCgnJyk7XG4gICAgICAgIG5ld05vZGUuYXBwZW5kQ2hpbGQoZmlyc3ROb2RlKTtcbiAgICAgICAgbGFzdE5vZGUgPSBmaXJzdE5vZGU7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgZmlyc3ROb2RlID0gbmV3Tm9kZTtcbiAgICAgIGxhc3ROb2RlID0gbmV3Tm9kZTtcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgdGhpcy5zZXRSYW5nZShmaXJzdE5vZGUsIGxhc3ROb2RlKTtcblxuICByZXR1cm4gbmV3Tm9kZTtcbn07XG5cbk1vcnBoLnByb3RvdHlwZS5zZXRSYW5nZSA9IGZ1bmN0aW9uIChmaXJzdE5vZGUsIGxhc3ROb2RlKSB7XG4gIHZhciBwcmV2aW91c0ZpcnN0Tm9kZSA9IHRoaXMuZmlyc3ROb2RlO1xuICBpZiAocHJldmlvdXNGaXJzdE5vZGUgIT09IG51bGwpIHtcblxuICAgIHZhciBwYXJlbnROb2RlID0gcHJldmlvdXNGaXJzdE5vZGUucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50Tm9kZSAhPT0gbnVsbCkge1xuICAgICAgaW5zZXJ0QmVmb3JlKHBhcmVudE5vZGUsIGZpcnN0Tm9kZSwgbGFzdE5vZGUsIHByZXZpb3VzRmlyc3ROb2RlKTtcbiAgICAgIGNsZWFyKHBhcmVudE5vZGUsIHByZXZpb3VzRmlyc3ROb2RlLCB0aGlzLmxhc3ROb2RlKTtcbiAgICB9XG4gIH1cblxuICB0aGlzLmZpcnN0Tm9kZSA9IGZpcnN0Tm9kZTtcbiAgdGhpcy5sYXN0Tm9kZSA9IGxhc3ROb2RlO1xuXG4gIGlmICh0aGlzLnBhcmVudE1vcnBoTGlzdCkge1xuICAgIHRoaXMuX3N5bmNGaXJzdE5vZGUoKTtcbiAgICB0aGlzLl9zeW5jTGFzdE5vZGUoKTtcbiAgfVxufTtcblxuTW9ycGgucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBNb3JwaCRkZXN0cm95KCkge1xuICB0aGlzLnVubGluaygpO1xuXG4gIHZhciBmaXJzdE5vZGUgPSB0aGlzLmZpcnN0Tm9kZTtcbiAgdmFyIGxhc3ROb2RlID0gdGhpcy5sYXN0Tm9kZTtcbiAgdmFyIHBhcmVudE5vZGUgPSBmaXJzdE5vZGUgJiYgZmlyc3ROb2RlLnBhcmVudE5vZGU7XG5cbiAgdGhpcy5maXJzdE5vZGUgPSBudWxsO1xuICB0aGlzLmxhc3ROb2RlID0gbnVsbDtcblxuICBjbGVhcihwYXJlbnROb2RlLCBmaXJzdE5vZGUsIGxhc3ROb2RlKTtcbn07XG5cbk1vcnBoLnByb3RvdHlwZS51bmxpbmsgPSBmdW5jdGlvbiBNb3JwaCR1bmxpbmsoKSB7XG4gIHZhciBwYXJlbnRNb3JwaExpc3QgPSB0aGlzLnBhcmVudE1vcnBoTGlzdDtcbiAgdmFyIHByZXZpb3VzTW9ycGggPSB0aGlzLnByZXZpb3VzTW9ycGg7XG4gIHZhciBuZXh0TW9ycGggPSB0aGlzLm5leHRNb3JwaDtcblxuICBpZiAocHJldmlvdXNNb3JwaCkge1xuICAgIGlmIChuZXh0TW9ycGgpIHtcbiAgICAgIHByZXZpb3VzTW9ycGgubmV4dE1vcnBoID0gbmV4dE1vcnBoO1xuICAgICAgbmV4dE1vcnBoLnByZXZpb3VzTW9ycGggPSBwcmV2aW91c01vcnBoO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcmV2aW91c01vcnBoLm5leHRNb3JwaCA9IG51bGw7XG4gICAgICBwYXJlbnRNb3JwaExpc3QubGFzdENoaWxkTW9ycGggPSBwcmV2aW91c01vcnBoO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAobmV4dE1vcnBoKSB7XG4gICAgICBuZXh0TW9ycGgucHJldmlvdXNNb3JwaCA9IG51bGw7XG4gICAgICBwYXJlbnRNb3JwaExpc3QuZmlyc3RDaGlsZE1vcnBoID0gbmV4dE1vcnBoO1xuICAgIH0gZWxzZSBpZiAocGFyZW50TW9ycGhMaXN0KSB7XG4gICAgICBwYXJlbnRNb3JwaExpc3QubGFzdENoaWxkTW9ycGggPSBwYXJlbnRNb3JwaExpc3QuZmlyc3RDaGlsZE1vcnBoID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICB0aGlzLnBhcmVudE1vcnBoTGlzdCA9IG51bGw7XG4gIHRoaXMubmV4dE1vcnBoID0gbnVsbDtcbiAgdGhpcy5wcmV2aW91c01vcnBoID0gbnVsbDtcblxuICBpZiAocGFyZW50TW9ycGhMaXN0ICYmIHBhcmVudE1vcnBoTGlzdC5tb3VudGVkTW9ycGgpIHtcbiAgICBpZiAoIXBhcmVudE1vcnBoTGlzdC5maXJzdENoaWxkTW9ycGgpIHtcbiAgICAgIC8vIGxpc3QgaXMgZW1wdHlcbiAgICAgIHBhcmVudE1vcnBoTGlzdC5tb3VudGVkTW9ycGguY2xlYXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyZW50TW9ycGhMaXN0LmZpcnN0Q2hpbGRNb3JwaC5fc3luY0ZpcnN0Tm9kZSgpO1xuICAgICAgcGFyZW50TW9ycGhMaXN0Lmxhc3RDaGlsZE1vcnBoLl9zeW5jTGFzdE5vZGUoKTtcbiAgICB9XG4gIH1cbn07XG5cbk1vcnBoLnByb3RvdHlwZS5zZXRIVE1MID0gZnVuY3Rpb24odGV4dCkge1xuICB2YXIgZnJhZ21lbnQgPSB0aGlzLmRvbUhlbHBlci5wYXJzZUhUTUwodGV4dCwgdGhpcy5jb250ZXh0dWFsRWxlbWVudCk7XG4gIHJldHVybiB0aGlzLnNldE5vZGUoZnJhZ21lbnQpO1xufTtcblxuTW9ycGgucHJvdG90eXBlLnNldE1vcnBoTGlzdCA9IGZ1bmN0aW9uIE1vcnBoJGFwcGVuZE1vcnBoTGlzdChtb3JwaExpc3QpIHtcbiAgbW9ycGhMaXN0Lm1vdW50ZWRNb3JwaCA9IHRoaXM7XG4gIHRoaXMuY2xlYXIoKTtcblxuICB2YXIgb3JpZ2luYWxGaXJzdE5vZGUgPSB0aGlzLmZpcnN0Tm9kZTtcblxuICBpZiAobW9ycGhMaXN0LmZpcnN0Q2hpbGRNb3JwaCkge1xuICAgIHRoaXMuZmlyc3ROb2RlID0gbW9ycGhMaXN0LmZpcnN0Q2hpbGRNb3JwaC5maXJzdE5vZGU7XG4gICAgdGhpcy5sYXN0Tm9kZSA9IG1vcnBoTGlzdC5sYXN0Q2hpbGRNb3JwaC5sYXN0Tm9kZTtcblxuICAgIHZhciBjdXJyZW50ID0gbW9ycGhMaXN0LmZpcnN0Q2hpbGRNb3JwaDtcblxuICAgIHdoaWxlIChjdXJyZW50KSB7XG4gICAgICB2YXIgbmV4dCA9IGN1cnJlbnQubmV4dE1vcnBoO1xuICAgICAgY3VycmVudC5pbnNlcnRCZWZvcmVOb2RlKG9yaWdpbmFsRmlyc3ROb2RlLCBudWxsKTtcbiAgICAgIGN1cnJlbnQgPSBuZXh0O1xuICAgIH1cbiAgICBvcmlnaW5hbEZpcnN0Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG9yaWdpbmFsRmlyc3ROb2RlKTtcbiAgfVxufTtcblxuTW9ycGgucHJvdG90eXBlLl9zeW5jRmlyc3ROb2RlID0gZnVuY3Rpb24gTW9ycGgkc3luY0ZpcnN0Tm9kZSgpIHtcbiAgdmFyIG1vcnBoID0gdGhpcztcbiAgdmFyIHBhcmVudE1vcnBoTGlzdDtcbiAgd2hpbGUgKHBhcmVudE1vcnBoTGlzdCA9IG1vcnBoLnBhcmVudE1vcnBoTGlzdCkge1xuICAgIGlmIChwYXJlbnRNb3JwaExpc3QubW91bnRlZE1vcnBoID09PSBudWxsKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKG1vcnBoICE9PSBwYXJlbnRNb3JwaExpc3QuZmlyc3RDaGlsZE1vcnBoKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKG1vcnBoLmZpcnN0Tm9kZSA9PT0gcGFyZW50TW9ycGhMaXN0Lm1vdW50ZWRNb3JwaC5maXJzdE5vZGUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHBhcmVudE1vcnBoTGlzdC5tb3VudGVkTW9ycGguZmlyc3ROb2RlID0gbW9ycGguZmlyc3ROb2RlO1xuXG4gICAgbW9ycGggPSBwYXJlbnRNb3JwaExpc3QubW91bnRlZE1vcnBoO1xuICB9XG59O1xuXG5Nb3JwaC5wcm90b3R5cGUuX3N5bmNMYXN0Tm9kZSA9IGZ1bmN0aW9uIE1vcnBoJHN5bmNMYXN0Tm9kZSgpIHtcbiAgdmFyIG1vcnBoID0gdGhpcztcbiAgdmFyIHBhcmVudE1vcnBoTGlzdDtcbiAgd2hpbGUgKHBhcmVudE1vcnBoTGlzdCA9IG1vcnBoLnBhcmVudE1vcnBoTGlzdCkge1xuICAgIGlmIChwYXJlbnRNb3JwaExpc3QubW91bnRlZE1vcnBoID09PSBudWxsKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaWYgKG1vcnBoICE9PSBwYXJlbnRNb3JwaExpc3QubGFzdENoaWxkTW9ycGgpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBpZiAobW9ycGgubGFzdE5vZGUgPT09IHBhcmVudE1vcnBoTGlzdC5tb3VudGVkTW9ycGgubGFzdE5vZGUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHBhcmVudE1vcnBoTGlzdC5tb3VudGVkTW9ycGgubGFzdE5vZGUgPSBtb3JwaC5sYXN0Tm9kZTtcblxuICAgIG1vcnBoID0gcGFyZW50TW9ycGhMaXN0Lm1vdW50ZWRNb3JwaDtcbiAgfVxufTtcblxuTW9ycGgucHJvdG90eXBlLmluc2VydEJlZm9yZU5vZGUgPSBmdW5jdGlvbiBNb3JwaCRpbnNlcnRCZWZvcmVOb2RlKHBhcmVudE5vZGUsIHJlZk5vZGUpIHtcbiAgaW5zZXJ0QmVmb3JlKHBhcmVudE5vZGUsIHRoaXMuZmlyc3ROb2RlLCB0aGlzLmxhc3ROb2RlLCByZWZOb2RlKTtcbn07XG5cbk1vcnBoLnByb3RvdHlwZS5hcHBlbmRUb05vZGUgPSBmdW5jdGlvbiBNb3JwaCRhcHBlbmRUb05vZGUocGFyZW50Tm9kZSkge1xuICBpbnNlcnRCZWZvcmUocGFyZW50Tm9kZSwgdGhpcy5maXJzdE5vZGUsIHRoaXMubGFzdE5vZGUsIG51bGwpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgTW9ycGg7XG4iXX0=
define('morph-range.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - .');
  QUnit.test('morph-range.js should pass jshint', function (assert) {
    assert.ok(false, 'morph-range.js should pass jshint.\nmorph-range.js: line 69, col 41, Expected a \'break\' statement before \'default\'.\nmorph-range.js: line 236, col 49, Expected a conditional expression and instead saw an assignment.\nmorph-range.js: line 256, col 49, Expected a conditional expression and instead saw an assignment.\n\n3 errors');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLXJhbmdlLmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUMzQixPQUFLLENBQUMsSUFBSSxDQUFDLG1DQUFtQyxFQUFFLFVBQVMsTUFBTSxFQUFFO0FBQy9ELFVBQU0sQ0FBQyxFQUFFLENBQUMsS0FBSyxFQUFFLDZVQUE2VSxDQUFDLENBQUM7R0FDalcsQ0FBQyxDQUFDIiwiZmlsZSI6Im1vcnBoLXJhbmdlLmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gLicpO1xuUVVuaXQudGVzdCgnbW9ycGgtcmFuZ2UuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2soZmFsc2UsICdtb3JwaC1yYW5nZS5qcyBzaG91bGQgcGFzcyBqc2hpbnQuXFxubW9ycGgtcmFuZ2UuanM6IGxpbmUgNjksIGNvbCA0MSwgRXhwZWN0ZWQgYSBcXCdicmVha1xcJyBzdGF0ZW1lbnQgYmVmb3JlIFxcJ2RlZmF1bHRcXCcuXFxubW9ycGgtcmFuZ2UuanM6IGxpbmUgMjM2LCBjb2wgNDksIEV4cGVjdGVkIGEgY29uZGl0aW9uYWwgZXhwcmVzc2lvbiBhbmQgaW5zdGVhZCBzYXcgYW4gYXNzaWdubWVudC5cXG5tb3JwaC1yYW5nZS5qczogbGluZSAyNTYsIGNvbCA0OSwgRXhwZWN0ZWQgYSBjb25kaXRpb25hbCBleHByZXNzaW9uIGFuZCBpbnN0ZWFkIHNhdyBhbiBhc3NpZ25tZW50LlxcblxcbjMgZXJyb3JzJyk7IFxufSk7XG4iXX0=
define('morph-range.umd', ['exports', './morph-range'], function (exports, _morphRange) {

  (function (root, factory) {
    if (typeof define === 'function' && define.amd) {
      define([], factory);
    } else if (typeof exports === 'object') {
      module.exports = factory();
    } else {
      root.Morph = factory();
    }
  })(this, function () {
    return _morphRange.default;
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLXJhbmdlLnVtZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLEFBQUMsR0FBQSxVQUFVLElBQUksRUFBRSxPQUFPLEVBQUU7QUFDeEIsUUFBSSxPQUFPLE1BQU0sS0FBSyxVQUFVLElBQUksTUFBTSxDQUFDLEdBQUcsRUFBRTtBQUM5QyxZQUFNLENBQUMsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQ3JCLE1BQU0sSUFBSSxPQUFPLE9BQU8sS0FBSyxRQUFRLEVBQUU7QUFDdEMsWUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLEVBQUUsQ0FBQztLQUM1QixNQUFNO0FBQ0wsVUFBSSxDQUFDLEtBQUssR0FBRyxPQUFPLEVBQUUsQ0FBQztLQUN4QjtHQUNGLENBQUEsQ0FBQyxJQUFJLEVBQUUsWUFBWTtBQUNsQiwrQkFBYTtHQUNkLENBQUMsQ0FBRSIsImZpbGUiOiJtb3JwaC1yYW5nZS51bWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW9ycGggZnJvbSAnLi9tb3JwaC1yYW5nZSc7XG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICByb290Lk1vcnBoID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE1vcnBoO1xufSkpO1xuIl19
define('morph-range.umd.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - .');
  QUnit.test('morph-range.umd.js should pass jshint', function (assert) {
    assert.ok(false, 'morph-range.umd.js should pass jshint.\nmorph-range.umd.js: line 4, col 39, \'define\' is not defined.\nmorph-range.umd.js: line 5, col 5, \'define\' is not defined.\nmorph-range.umd.js: line 7, col 5, \'module\' is not defined.\n\n3 errors');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLXJhbmdlLnVtZC5qc2hpbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQUssQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDM0IsT0FBSyxDQUFDLElBQUksQ0FBQyx1Q0FBdUMsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUNuRSxVQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxrUEFBa1AsQ0FBQyxDQUFDO0dBQ3RRLENBQUMsQ0FBQyIsImZpbGUiOiJtb3JwaC1yYW5nZS51bWQuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSAuJyk7XG5RVW5pdC50ZXN0KCdtb3JwaC1yYW5nZS51bWQuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2soZmFsc2UsICdtb3JwaC1yYW5nZS51bWQuanMgc2hvdWxkIHBhc3MganNoaW50Llxcbm1vcnBoLXJhbmdlLnVtZC5qczogbGluZSA0LCBjb2wgMzksIFxcJ2RlZmluZVxcJyBpcyBub3QgZGVmaW5lZC5cXG5tb3JwaC1yYW5nZS51bWQuanM6IGxpbmUgNSwgY29sIDUsIFxcJ2RlZmluZVxcJyBpcyBub3QgZGVmaW5lZC5cXG5tb3JwaC1yYW5nZS51bWQuanM6IGxpbmUgNywgY29sIDUsIFxcJ21vZHVsZVxcJyBpcyBub3QgZGVmaW5lZC5cXG5cXG4zIGVycm9ycycpOyBcbn0pO1xuIl19
define('morph-range/morph-list', ['exports', './utils'], function (exports, _utils) {

  function MorphList() {
    // morph graph
    this.firstChildMorph = null;
    this.lastChildMorph = null;

    this.mountedMorph = null;
  }

  var prototype = MorphList.prototype;

  prototype.clear = function MorphList$clear() {
    var current = this.firstChildMorph;

    while (current) {
      var next = current.nextMorph;
      current.previousMorph = null;
      current.nextMorph = null;
      current.parentMorphList = null;
      current = next;
    }

    this.firstChildMorph = this.lastChildMorph = null;
  };

  prototype.destroy = function MorphList$destroy() {};

  prototype.appendMorph = function MorphList$appendMorph(morph) {
    this.insertBeforeMorph(morph, null);
  };

  prototype.insertBeforeMorph = function MorphList$insertBeforeMorph(morph, referenceMorph) {
    if (morph.parentMorphList !== null) {
      morph.unlink();
    }
    if (referenceMorph && referenceMorph.parentMorphList !== this) {
      throw new Error('The morph before which the new morph is to be inserted is not a child of this morph.');
    }

    var mountedMorph = this.mountedMorph;

    if (mountedMorph) {

      var parentNode = mountedMorph.firstNode.parentNode;
      var referenceNode = referenceMorph ? referenceMorph.firstNode : mountedMorph.lastNode.nextSibling;

      _utils.insertBefore(parentNode, morph.firstNode, morph.lastNode, referenceNode);

      // was not in list mode replace current content
      if (!this.firstChildMorph) {
        _utils.clear(this.mountedMorph.firstNode.parentNode, this.mountedMorph.firstNode, this.mountedMorph.lastNode);
      }
    }

    morph.parentMorphList = this;

    var previousMorph = referenceMorph ? referenceMorph.previousMorph : this.lastChildMorph;
    if (previousMorph) {
      previousMorph.nextMorph = morph;
      morph.previousMorph = previousMorph;
    } else {
      this.firstChildMorph = morph;
    }

    if (referenceMorph) {
      referenceMorph.previousMorph = morph;
      morph.nextMorph = referenceMorph;
    } else {
      this.lastChildMorph = morph;
    }

    this.firstChildMorph._syncFirstNode();
    this.lastChildMorph._syncLastNode();
  };

  prototype.removeChildMorph = function MorphList$removeChildMorph(morph) {
    if (morph.parentMorphList !== this) {
      throw new Error("Cannot remove a morph from a parent it is not inside of");
    }

    morph.destroy();
  };

  exports.default = MorphList;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLXJhbmdlL21vcnBoLWxpc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFQSxXQUFTLFNBQVMsR0FBRzs7QUFFbkIsUUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7QUFDNUIsUUFBSSxDQUFDLGNBQWMsR0FBSSxJQUFJLENBQUM7O0FBRTVCLFFBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO0dBQzFCOztBQUVELE1BQUksU0FBUyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUM7O0FBRXBDLFdBQVMsQ0FBQyxLQUFLLEdBQUcsU0FBUyxlQUFlLEdBQUc7QUFDM0MsUUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQzs7QUFFbkMsV0FBTyxPQUFPLEVBQUU7QUFDZCxVQUFJLElBQUksR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBQzdCLGFBQU8sQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDO0FBQzdCLGFBQU8sQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO0FBQ3pCLGFBQU8sQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO0FBQy9CLGFBQU8sR0FBRyxJQUFJLENBQUM7S0FDaEI7O0FBRUQsUUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztHQUNuRCxDQUFDOztBQUVGLFdBQVMsQ0FBQyxPQUFPLEdBQUcsU0FBUyxpQkFBaUIsR0FBRyxFQUNoRCxDQUFDOztBQUVGLFdBQVMsQ0FBQyxXQUFXLEdBQUcsU0FBUyxxQkFBcUIsQ0FBQyxLQUFLLEVBQUU7QUFDNUQsUUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztHQUNyQyxDQUFDOztBQUVGLFdBQVMsQ0FBQyxpQkFBaUIsR0FBRyxTQUFTLDJCQUEyQixDQUFDLEtBQUssRUFBRSxjQUFjLEVBQUU7QUFDeEYsUUFBSSxLQUFLLENBQUMsZUFBZSxLQUFLLElBQUksRUFBRTtBQUNsQyxXQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7S0FDaEI7QUFDRCxRQUFJLGNBQWMsSUFBSSxjQUFjLENBQUMsZUFBZSxLQUFLLElBQUksRUFBRTtBQUM3RCxZQUFNLElBQUksS0FBSyxDQUFDLHNGQUFzRixDQUFDLENBQUM7S0FDekc7O0FBRUQsUUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQzs7QUFFckMsUUFBSSxZQUFZLEVBQUU7O0FBRWhCLFVBQUksVUFBVSxHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDO0FBQ25ELFVBQUksYUFBYSxHQUFHLGNBQWMsR0FBRyxjQUFjLENBQUMsU0FBUyxHQUFHLFlBQVksQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDOztBQUVsRyxhQWhEWSxZQUFZLENBaUR0QixVQUFVLEVBQ1YsS0FBSyxDQUFDLFNBQVMsRUFDZixLQUFLLENBQUMsUUFBUSxFQUNkLGFBQWEsQ0FDZCxDQUFDOzs7QUFHRixVQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRTtBQUN6QixlQXpERyxLQUFLLENBeURGLElBQUksQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLFVBQVUsRUFDdEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQzNCLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7T0FDbkM7S0FDRjs7QUFFRCxTQUFLLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQzs7QUFFN0IsUUFBSSxhQUFhLEdBQUcsY0FBYyxHQUFHLGNBQWMsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztBQUN4RixRQUFJLGFBQWEsRUFBRTtBQUNqQixtQkFBYSxDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7QUFDaEMsV0FBSyxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7S0FDckMsTUFBTTtBQUNMLFVBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDO0tBQzlCOztBQUVELFFBQUksY0FBYyxFQUFFO0FBQ2xCLG9CQUFjLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQztBQUNyQyxXQUFLLENBQUMsU0FBUyxHQUFHLGNBQWMsQ0FBQztLQUNsQyxNQUFNO0FBQ0wsVUFBSSxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUM7S0FDN0I7O0FBRUQsUUFBSSxDQUFDLGVBQWUsQ0FBQyxjQUFjLEVBQUUsQ0FBQztBQUN0QyxRQUFJLENBQUMsY0FBYyxDQUFDLGFBQWEsRUFBRSxDQUFDO0dBQ3JDLENBQUM7O0FBRUYsV0FBUyxDQUFDLGdCQUFnQixHQUFHLFNBQVMsMEJBQTBCLENBQUMsS0FBSyxFQUFFO0FBQ3RFLFFBQUksS0FBSyxDQUFDLGVBQWUsS0FBSyxJQUFJLEVBQUU7QUFDbEMsWUFBTSxJQUFJLEtBQUssQ0FBQyx5REFBeUQsQ0FBQyxDQUFDO0tBQzVFOztBQUVELFNBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztHQUNqQixDQUFDOztvQkFFYSxTQUFTIiwiZmlsZSI6Im1vcnBoLXJhbmdlL21vcnBoLWxpc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjbGVhciwgaW5zZXJ0QmVmb3JlIH0gZnJvbSAnLi91dGlscyc7XG5cbmZ1bmN0aW9uIE1vcnBoTGlzdCgpIHtcbiAgLy8gbW9ycGggZ3JhcGhcbiAgdGhpcy5maXJzdENoaWxkTW9ycGggPSBudWxsO1xuICB0aGlzLmxhc3RDaGlsZE1vcnBoICA9IG51bGw7XG5cbiAgdGhpcy5tb3VudGVkTW9ycGggPSBudWxsO1xufVxuXG52YXIgcHJvdG90eXBlID0gTW9ycGhMaXN0LnByb3RvdHlwZTtcblxucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gTW9ycGhMaXN0JGNsZWFyKCkge1xuICB2YXIgY3VycmVudCA9IHRoaXMuZmlyc3RDaGlsZE1vcnBoO1xuXG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgdmFyIG5leHQgPSBjdXJyZW50Lm5leHRNb3JwaDtcbiAgICBjdXJyZW50LnByZXZpb3VzTW9ycGggPSBudWxsO1xuICAgIGN1cnJlbnQubmV4dE1vcnBoID0gbnVsbDtcbiAgICBjdXJyZW50LnBhcmVudE1vcnBoTGlzdCA9IG51bGw7XG4gICAgY3VycmVudCA9IG5leHQ7XG4gIH1cblxuICB0aGlzLmZpcnN0Q2hpbGRNb3JwaCA9IHRoaXMubGFzdENoaWxkTW9ycGggPSBudWxsO1xufTtcblxucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBNb3JwaExpc3QkZGVzdHJveSgpIHtcbn07XG5cbnByb3RvdHlwZS5hcHBlbmRNb3JwaCA9IGZ1bmN0aW9uIE1vcnBoTGlzdCRhcHBlbmRNb3JwaChtb3JwaCkge1xuICB0aGlzLmluc2VydEJlZm9yZU1vcnBoKG1vcnBoLCBudWxsKTtcbn07XG5cbnByb3RvdHlwZS5pbnNlcnRCZWZvcmVNb3JwaCA9IGZ1bmN0aW9uIE1vcnBoTGlzdCRpbnNlcnRCZWZvcmVNb3JwaChtb3JwaCwgcmVmZXJlbmNlTW9ycGgpIHtcbiAgaWYgKG1vcnBoLnBhcmVudE1vcnBoTGlzdCAhPT0gbnVsbCkge1xuICAgIG1vcnBoLnVubGluaygpO1xuICB9XG4gIGlmIChyZWZlcmVuY2VNb3JwaCAmJiByZWZlcmVuY2VNb3JwaC5wYXJlbnRNb3JwaExpc3QgIT09IHRoaXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBtb3JwaCBiZWZvcmUgd2hpY2ggdGhlIG5ldyBtb3JwaCBpcyB0byBiZSBpbnNlcnRlZCBpcyBub3QgYSBjaGlsZCBvZiB0aGlzIG1vcnBoLicpO1xuICB9XG5cbiAgdmFyIG1vdW50ZWRNb3JwaCA9IHRoaXMubW91bnRlZE1vcnBoO1xuXG4gIGlmIChtb3VudGVkTW9ycGgpIHtcblxuICAgIHZhciBwYXJlbnROb2RlID0gbW91bnRlZE1vcnBoLmZpcnN0Tm9kZS5wYXJlbnROb2RlO1xuICAgIHZhciByZWZlcmVuY2VOb2RlID0gcmVmZXJlbmNlTW9ycGggPyByZWZlcmVuY2VNb3JwaC5maXJzdE5vZGUgOiBtb3VudGVkTW9ycGgubGFzdE5vZGUubmV4dFNpYmxpbmc7XG5cbiAgICBpbnNlcnRCZWZvcmUoXG4gICAgICBwYXJlbnROb2RlLFxuICAgICAgbW9ycGguZmlyc3ROb2RlLFxuICAgICAgbW9ycGgubGFzdE5vZGUsXG4gICAgICByZWZlcmVuY2VOb2RlXG4gICAgKTtcblxuICAgIC8vIHdhcyBub3QgaW4gbGlzdCBtb2RlIHJlcGxhY2UgY3VycmVudCBjb250ZW50XG4gICAgaWYgKCF0aGlzLmZpcnN0Q2hpbGRNb3JwaCkge1xuICAgICAgY2xlYXIodGhpcy5tb3VudGVkTW9ycGguZmlyc3ROb2RlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICB0aGlzLm1vdW50ZWRNb3JwaC5maXJzdE5vZGUsXG4gICAgICAgICAgICB0aGlzLm1vdW50ZWRNb3JwaC5sYXN0Tm9kZSk7XG4gICAgfVxuICB9XG5cbiAgbW9ycGgucGFyZW50TW9ycGhMaXN0ID0gdGhpcztcblxuICB2YXIgcHJldmlvdXNNb3JwaCA9IHJlZmVyZW5jZU1vcnBoID8gcmVmZXJlbmNlTW9ycGgucHJldmlvdXNNb3JwaCA6IHRoaXMubGFzdENoaWxkTW9ycGg7XG4gIGlmIChwcmV2aW91c01vcnBoKSB7XG4gICAgcHJldmlvdXNNb3JwaC5uZXh0TW9ycGggPSBtb3JwaDtcbiAgICBtb3JwaC5wcmV2aW91c01vcnBoID0gcHJldmlvdXNNb3JwaDtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmZpcnN0Q2hpbGRNb3JwaCA9IG1vcnBoO1xuICB9XG5cbiAgaWYgKHJlZmVyZW5jZU1vcnBoKSB7XG4gICAgcmVmZXJlbmNlTW9ycGgucHJldmlvdXNNb3JwaCA9IG1vcnBoO1xuICAgIG1vcnBoLm5leHRNb3JwaCA9IHJlZmVyZW5jZU1vcnBoO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubGFzdENoaWxkTW9ycGggPSBtb3JwaDtcbiAgfVxuXG4gIHRoaXMuZmlyc3RDaGlsZE1vcnBoLl9zeW5jRmlyc3ROb2RlKCk7XG4gIHRoaXMubGFzdENoaWxkTW9ycGguX3N5bmNMYXN0Tm9kZSgpO1xufTtcblxucHJvdG90eXBlLnJlbW92ZUNoaWxkTW9ycGggPSBmdW5jdGlvbiBNb3JwaExpc3QkcmVtb3ZlQ2hpbGRNb3JwaChtb3JwaCkge1xuICBpZiAobW9ycGgucGFyZW50TW9ycGhMaXN0ICE9PSB0aGlzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlbW92ZSBhIG1vcnBoIGZyb20gYSBwYXJlbnQgaXQgaXMgbm90IGluc2lkZSBvZlwiKTtcbiAgfVxuXG4gIG1vcnBoLmRlc3Ryb3koKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE1vcnBoTGlzdDtcbiJdfQ==
define('morph-range/morph-list.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - morph-range');
  QUnit.test('morph-range/morph-list.js should pass jshint', function (assert) {
    assert.ok(true, 'morph-range/morph-list.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLXJhbmdlL21vcnBoLWxpc3QuanNoaW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFLLENBQUMsTUFBTSxDQUFDLHNCQUFzQixDQUFDLENBQUM7QUFDckMsT0FBSyxDQUFDLElBQUksQ0FBQyw4Q0FBOEMsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUMxRSxVQUFNLENBQUMsRUFBRSxDQUFDLElBQUksRUFBRSwrQ0FBK0MsQ0FBQyxDQUFDO0dBQ2xFLENBQUMsQ0FBQyIsImZpbGUiOiJtb3JwaC1yYW5nZS9tb3JwaC1saXN0LmpzaGludC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlFVbml0Lm1vZHVsZSgnSlNIaW50IC0gbW9ycGgtcmFuZ2UnKTtcblFVbml0LnRlc3QoJ21vcnBoLXJhbmdlL21vcnBoLWxpc3QuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ21vcnBoLXJhbmdlL21vcnBoLWxpc3QuanMgc2hvdWxkIHBhc3MganNoaW50LicpOyBcbn0pO1xuIl19
define('morph-range/morph-list.umd', ['exports', './morph-list'], function (exports, _morphList) {

  (function (root, factory) {
    if (typeof define === 'function' && define.amd) {
      define([], factory);
    } else if (typeof exports === 'object') {
      module.exports = factory();
    } else {
      root.MorphList = factory();
    }
  })(this, function () {
    return _morphList.default;
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLXJhbmdlL21vcnBoLWxpc3QudW1kLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsQUFBQyxHQUFBLFVBQVUsSUFBSSxFQUFFLE9BQU8sRUFBRTtBQUN4QixRQUFJLE9BQU8sTUFBTSxLQUFLLFVBQVUsSUFBSSxNQUFNLENBQUMsR0FBRyxFQUFFO0FBQzlDLFlBQU0sQ0FBQyxFQUFFLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDckIsTUFBTSxJQUFJLE9BQU8sT0FBTyxLQUFLLFFBQVEsRUFBRTtBQUN0QyxZQUFNLENBQUMsT0FBTyxHQUFHLE9BQU8sRUFBRSxDQUFDO0tBQzVCLE1BQU07QUFDTCxVQUFJLENBQUMsU0FBUyxHQUFHLE9BQU8sRUFBRSxDQUFDO0tBQzVCO0dBQ0YsQ0FBQSxDQUFDLElBQUksRUFBRSxZQUFZO0FBQ2xCLDhCQUFpQjtHQUNsQixDQUFDLENBQUUiLCJmaWxlIjoibW9ycGgtcmFuZ2UvbW9ycGgtbGlzdC51bWQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTW9ycGhMaXN0IGZyb20gJy4vbW9ycGgtbGlzdCc7XG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICByb290Lk1vcnBoTGlzdCA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBNb3JwaExpc3Q7XG59KSk7XG4iXX0=
define('morph-range/morph-list.umd.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - morph-range');
  QUnit.test('morph-range/morph-list.umd.js should pass jshint', function (assert) {
    assert.ok(false, 'morph-range/morph-list.umd.js should pass jshint.\nmorph-range/morph-list.umd.js: line 4, col 39, \'define\' is not defined.\nmorph-range/morph-list.umd.js: line 5, col 5, \'define\' is not defined.\nmorph-range/morph-list.umd.js: line 7, col 5, \'module\' is not defined.\n\n3 errors');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLXJhbmdlL21vcnBoLWxpc3QudW1kLmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0FBQ3JDLE9BQUssQ0FBQyxJQUFJLENBQUMsa0RBQWtELEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDOUUsVUFBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsOFJBQThSLENBQUMsQ0FBQztHQUNsVCxDQUFDLENBQUMiLCJmaWxlIjoibW9ycGgtcmFuZ2UvbW9ycGgtbGlzdC51bWQuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSBtb3JwaC1yYW5nZScpO1xuUVVuaXQudGVzdCgnbW9ycGgtcmFuZ2UvbW9ycGgtbGlzdC51bWQuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2soZmFsc2UsICdtb3JwaC1yYW5nZS9tb3JwaC1saXN0LnVtZC5qcyBzaG91bGQgcGFzcyBqc2hpbnQuXFxubW9ycGgtcmFuZ2UvbW9ycGgtbGlzdC51bWQuanM6IGxpbmUgNCwgY29sIDM5LCBcXCdkZWZpbmVcXCcgaXMgbm90IGRlZmluZWQuXFxubW9ycGgtcmFuZ2UvbW9ycGgtbGlzdC51bWQuanM6IGxpbmUgNSwgY29sIDUsIFxcJ2RlZmluZVxcJyBpcyBub3QgZGVmaW5lZC5cXG5tb3JwaC1yYW5nZS9tb3JwaC1saXN0LnVtZC5qczogbGluZSA3LCBjb2wgNSwgXFwnbW9kdWxlXFwnIGlzIG5vdCBkZWZpbmVkLlxcblxcbjMgZXJyb3JzJyk7IFxufSk7XG4iXX0=
define("morph-range/utils", ["exports"], function (exports) {
  exports.clear = clear;
  exports.insertBefore = insertBefore;
  // inclusive of both nodes

  function clear(parentNode, firstNode, lastNode) {
    if (!parentNode) {
      return;
    }

    var node = firstNode;
    var nextNode;
    do {
      nextNode = node.nextSibling;
      parentNode.removeChild(node);
      if (node === lastNode) {
        break;
      }
      node = nextNode;
    } while (node);
  }

  function insertBefore(parentNode, firstNode, lastNode, refNode) {
    var node = firstNode;
    var nextNode;
    do {
      nextNode = node.nextSibling;
      parentNode.insertBefore(node, refNode);
      if (node === lastNode) {
        break;
      }
      node = nextNode;
    } while (node);
  }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLXJhbmdlL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ08sV0FBUyxLQUFLLENBQUMsVUFBVSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUU7QUFDckQsUUFBSSxDQUFDLFVBQVUsRUFBRTtBQUFFLGFBQU87S0FBRTs7QUFFNUIsUUFBSSxJQUFJLEdBQUcsU0FBUyxDQUFDO0FBQ3JCLFFBQUksUUFBUSxDQUFDO0FBQ2IsT0FBRztBQUNELGNBQVEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO0FBQzVCLGdCQUFVLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzdCLFVBQUksSUFBSSxLQUFLLFFBQVEsRUFBRTtBQUNyQixjQUFNO09BQ1A7QUFDRCxVQUFJLEdBQUcsUUFBUSxDQUFDO0tBQ2pCLFFBQVEsSUFBSSxFQUFFO0dBQ2hCOztBQUVNLFdBQVMsWUFBWSxDQUFDLFVBQVUsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRTtBQUNyRSxRQUFJLElBQUksR0FBRyxTQUFTLENBQUM7QUFDckIsUUFBSSxRQUFRLENBQUM7QUFDYixPQUFHO0FBQ0QsY0FBUSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7QUFDNUIsZ0JBQVUsQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3ZDLFVBQUksSUFBSSxLQUFLLFFBQVEsRUFBRTtBQUNyQixjQUFNO09BQ1A7QUFDRCxVQUFJLEdBQUcsUUFBUSxDQUFDO0tBQ2pCLFFBQVEsSUFBSSxFQUFFO0dBQ2hCIiwiZmlsZSI6Im1vcnBoLXJhbmdlL3V0aWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW5jbHVzaXZlIG9mIGJvdGggbm9kZXNcbmV4cG9ydCBmdW5jdGlvbiBjbGVhcihwYXJlbnROb2RlLCBmaXJzdE5vZGUsIGxhc3ROb2RlKSB7XG4gIGlmICghcGFyZW50Tm9kZSkgeyByZXR1cm47IH1cblxuICB2YXIgbm9kZSA9IGZpcnN0Tm9kZTtcbiAgdmFyIG5leHROb2RlO1xuICBkbyB7XG4gICAgbmV4dE5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgIHBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgaWYgKG5vZGUgPT09IGxhc3ROb2RlKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgbm9kZSA9IG5leHROb2RlO1xuICB9IHdoaWxlIChub2RlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydEJlZm9yZShwYXJlbnROb2RlLCBmaXJzdE5vZGUsIGxhc3ROb2RlLCByZWZOb2RlKSB7XG4gIHZhciBub2RlID0gZmlyc3ROb2RlO1xuICB2YXIgbmV4dE5vZGU7XG4gIGRvIHtcbiAgICBuZXh0Tm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgcmVmTm9kZSk7XG4gICAgaWYgKG5vZGUgPT09IGxhc3ROb2RlKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgbm9kZSA9IG5leHROb2RlO1xuICB9IHdoaWxlIChub2RlKTtcbn1cbiJdfQ==
define('morph-range/utils.jshint', ['exports'], function (exports) {
  QUnit.module('JSHint - morph-range');
  QUnit.test('morph-range/utils.js should pass jshint', function (assert) {
    assert.ok(true, 'morph-range/utils.js should pass jshint.');
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vcnBoLXJhbmdlL3V0aWxzLmpzaGludC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBSyxDQUFDLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0FBQ3JDLE9BQUssQ0FBQyxJQUFJLENBQUMseUNBQXlDLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDckUsVUFBTSxDQUFDLEVBQUUsQ0FBQyxJQUFJLEVBQUUsMENBQTBDLENBQUMsQ0FBQztHQUM3RCxDQUFDLENBQUMiLCJmaWxlIjoibW9ycGgtcmFuZ2UvdXRpbHMuanNoaW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiUVVuaXQubW9kdWxlKCdKU0hpbnQgLSBtb3JwaC1yYW5nZScpO1xuUVVuaXQudGVzdCgnbW9ycGgtcmFuZ2UvdXRpbHMuanMgc2hvdWxkIHBhc3MganNoaW50JywgZnVuY3Rpb24oYXNzZXJ0KSB7IFxuICBhc3NlcnQub2sodHJ1ZSwgJ21vcnBoLXJhbmdlL3V0aWxzLmpzIHNob3VsZCBwYXNzIGpzaGludC4nKTsgXG59KTtcbiJdfQ==